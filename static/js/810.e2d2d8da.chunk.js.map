{"version":3,"file":"static/js/810.e2d2d8da.chunk.js","mappings":"yRAGA,GAAeA,EAAAA,EAAAA,IAA4BC,EAAAA,EAAAA,KAAK,OAAQ,CACtDC,EAAG,4dACD,U,WCIEC,EAAS,SAETC,EAAU,CACdC,KAAK,GAAD,OAAKF,EAAL,SACJG,SAAS,GAAD,OAAKH,EAAL,aACRI,UAAU,GAAD,OAAKJ,EAAL,eAGLK,GAAOC,EAAAA,EAAAA,IAAO,MAAPA,EAAc,kBAAGC,EAAH,EAAGA,MAAH,kCACnBN,EAAQC,MAAS,CACrBM,MAAO,UAFgB,sBAKlBP,EAAQE,UAAa,CAC1BM,QAAS,OACTC,cAAe,YAPQ,sBAUlBT,EAAQG,WAAc,CAC3BO,QAASJ,EAAMK,QAAQ,GACvBC,UAAW,WAZY,KAgBZ,SAASC,IACtB,OAAmCC,EAAAA,EAAAA,KAA3BC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,eACRC,GAAoBC,EAAAA,EAAAA,MAApBD,gBACR,EAAgCE,EAAAA,SAAe,IAA/C,eAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,EAAAA,SAAe,IAA/C,eAAOG,EAAP,KAAiBC,EAAjB,KACA,GAIIC,EAAAA,EAAAA,MAHIC,EADR,EACEC,KACSC,EAFX,EAEEC,QACOC,EAHT,EAGEC,MAEF,GAA6BC,EAAAA,EAAAA,IAAiB,CAC5CC,YAD4C,SAChCN,GACVT,EAAgB,2BAAQ,CAAEgB,QAAS,YACnCjB,EAAc,OAACU,QAAD,IAACA,OAAD,EAACA,EAAMQ,OACrBnB,GACD,EACDoB,QAN4C,SAMpCL,GACNM,QAAQC,IAAIP,EACb,IARH,eAAOI,EAAP,KAAgBN,EAAhB,KAAgBA,QA2DhB,OAJAT,EAAAA,WAAgB,WACdJ,GACD,KAGC,UAACX,EAAD,CAAMkC,UAAWtC,EAAQC,KAAzB,WACE,SAACsC,EAAA,EAAD,CAAYN,QAAQ,KAApB,2BACA,kBAAMK,UAAWtC,EAAQE,SAAzB,WACE,SAACsC,EAAA,EAAD,CACEC,GAAG,WACHC,MAAM,qBACNC,MAAOvB,EACPwB,SAAU,SAACC,GAAD,OAAOxB,EAAYwB,EAAEC,OAAOH,MAA5B,EACVI,YAAY,uCACZC,WAAS,EACTf,QAAQ,WACRgB,OAAO,YAET,SAACT,EAAA,EAAD,CACEC,GAAG,WACHC,MAAM,eACNQ,KAAK,WACLP,MAAOrB,EACPsB,SAAU,SAACC,GAAD,OAAOtB,EAAYsB,EAAEC,OAAOH,MAA5B,EACVI,YAAY,iCACZC,WAAS,EACTf,QAAQ,WACRgB,OAAO,YAET,SAACE,EAAA,EAAD,CACElB,QAAQ,YACRmB,MAAM,UACNC,KAAK,QACLL,WAAS,EACTM,QA9EQ,WACdpB,EAAM,CAAEqB,UAAW,CAAEnC,SAAAA,EAAUE,SAAAA,IAChC,EA6EOkC,SAAU5B,EANZ,SAQGA,EAAU,qBAAQ,qBAGvB,iBAAKU,UAAWtC,EAAQG,UAAxB,WACE,SAACoC,EAAA,EAAD,CAAYN,QAAQ,UAAUmB,MAAM,gBAApC,kDADF,OAIG3B,QAJH,IAIGA,OAJH,EAIGA,EAAWgC,kBAAkBC,KAAI,SAACC,EAAMC,GACvC,OACE,0BACE,SAACC,EAAA,EAAD,CACEP,QAAS,kBAxFJ,SACjBQ,EACAC,EACAC,GAEA,IAEMC,GAAOC,OAAOC,OAAOC,YADZ,KACoC,EAC7CC,GAAQH,OAAOC,OAAOG,WAHd,KAGoC,EAC5CC,EAAQL,OAAOM,KACnBR,EAAcD,EACdD,EAFY,gBAJA,IAIA,mBAHC,IAGD,gBAG2BG,EAH3B,iBAGuCI,EAHvC,6CAKd,GAAIE,EAAO,CACT,IAAME,EAAQC,aAAY,WACxBH,EAAMI,YACJ,CACEzB,KAAM,gBAERc,EAEH,GAAE,KAEHE,OAAOU,iBAAiB,WAAW,SAACC,GAClC,IAAMnD,EAAOmD,EAAMnD,KACfA,GAAsB,0BAAdA,EAAKwB,OACf4B,cAAcL,GACdF,GAASA,EAAMQ,QACf9D,EACES,EAAKA,KAAKsD,aAAe,2BAAStD,EAAKA,KAAKI,OAAS,2BACrD,CAAEG,QAASP,EAAKA,KAAKsD,aAAe,UAAY,UAElDhE,EAAeU,EAAKA,KAAKsD,cACzBjE,IAEH,GACF,CACF,CAmDekE,CAAWtB,EAAKG,SAAUH,EAAKI,IAAKJ,EAAKK,YADlC,EADX,SAKqB,WAAlBL,EAAKG,WAAyB,SAACoB,EAAD,OANzBtB,EAUb,IACAjC,IACC,SAACY,EAAA,EAAD,CAAY4C,UAAU,MAAMlD,QAAQ,UAAUmB,MAAM,gBAApD,qBAIDvB,IACC,SAACU,EAAA,EAAD,CAAY4C,UAAU,MAAMlD,QAAQ,UAAUmB,MAAM,gBAApD,wBAOT,C,eC7JKrD,EAAS,SAETC,EAAU,CACdC,KAAK,GAAD,OAAKF,EAAL,SACJG,SAAS,GAAD,OAAKH,EAAL,cAGJK,GAAOC,EAAAA,EAAAA,IAAO,MAAPA,EAAc,oBAAGC,MAAH,kCACnBN,EAAQC,MAAS,CACrBM,MAAO,UAFgB,sBAKlBP,EAAQE,UAAa,CAC1BM,QAAS,OACTC,cAAe,WAPQ,KAWZ,SAASI,IACtB,IAAQE,GAAWD,EAAAA,EAAAA,KAAXC,OACAE,GAAoBC,EAAAA,EAAAA,MAApBD,gBACR,EAAgCE,EAAAA,SAAe,IAA/C,eAAOC,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,EAAAA,SAAe,IAA/C,eAAOG,EAAP,KAAiBC,EAAjB,KACA,EAA0BJ,EAAAA,SAAe,IAAzC,eAAOiE,EAAP,KAAcC,EAAd,KACA,EAAwBlE,EAAAA,SAAe,IAAvC,eAAOmE,EAAP,KAAaC,EAAb,KAKA,GAA8BC,EAAAA,EAAAA,IAA6B,CACzDxD,YADyD,WAEvDf,EAAgB,2BAAQ,CAAEgB,QAAS,WACpC,IAHIwD,GAAP,eAUA,GAAgCC,EAAAA,EAAAA,IAA8B,CAC5D1D,YAD4D,WAE1Df,EAAgB,2BAAQ,CAAEgB,QAAS,YACnClB,GACD,IAJI4E,GAAP,eA8BA,OAJAxE,EAAAA,WAAgB,WACdJ,GACD,KAGC,UAAC,EAAD,CAAMuB,UAAWtC,EAAQC,KAAzB,WACE,SAACsC,EAAA,EAAD,CAAYN,QAAQ,KAApB,2BACA,kBAAMK,UAAWtC,EAAQE,SAAzB,WACE,SAACsC,EAAA,EAAD,CACEC,GAAG,WACHC,MAAM,qBACNkD,UAAQ,EACRjD,MAAOvB,EACPwB,SApBgB,SACtBC,GAGAxB,EAAYwB,EAAEC,OAAOH,MACtB,EAgBOI,YAAY,uCACZC,WAAS,EACTf,QAAQ,WACRgB,OAAO,YAET,SAACT,EAAA,EAAD,CACEC,GAAG,WACHC,MAAM,eACNQ,KAAK,WACL0C,UAAQ,EACRjD,MAAOrB,EACPsB,SAAU,SAACC,GAAD,OAAOtB,EAAYsB,EAAEC,OAAOH,MAA5B,EACVI,YAAY,iCACZC,WAAS,EACTf,QAAQ,WACRgB,OAAO,YAET,SAACT,EAAA,EAAD,CACEC,GAAG,QACHC,MAAM,eACNQ,KAAK,QACL0C,UAAQ,EACRjD,MAAOyC,EACPxC,SAAU,SAACC,GAAD,OAAOwC,EAASxC,EAAEC,OAAOH,MAAzB,EACVI,YAAY,iCACZC,WAAS,EACTf,QAAQ,WACRgB,OAAO,YAET,UAAC4C,EAAA,EAAD,CAAKrF,QAAQ,OAAOsF,WAAW,SAASC,eAAe,gBAAvD,WACE,SAACvD,EAAA,EAAD,CACEC,GAAG,OACHC,MAAM,qBACNC,MAAO2C,EACP1C,SAAU,SAACC,GAAD,OAAO0C,EAAQ1C,EAAEC,OAAOH,MAAxB,EACVI,YAAY,uCACZd,QAAQ,WACRgB,OAAO,YAET,SAACE,EAAA,EAAD,CAAQlB,QAAQ,OAAOqB,QApFP,WACtBmC,EAAoB,CAAElC,UAAW,CAAE6B,MAAOA,IAC3C,EAkFO,gDAIF,SAACjC,EAAA,EAAD,CACElB,QAAQ,YACRmB,MAAM,UACNC,KAAK,QACLL,WAAS,EACTM,QAlFQ,WACdqC,EAAsB,CACpBpC,UAAW,CACTyC,KAAM,CACJ5E,SAAAA,EACAE,SAAAA,EACA8D,MAAAA,EACAE,KAAAA,KAIP,EAkEK,+BAYP,C,8CC3IKvF,EAAS,SAETC,EAAU,CACdC,KAAK,GAAD,OAAKF,EAAL,SACJkG,MAAM,GAAD,OAAKlG,EAAL,WAGDmG,GAAyBC,EAAAA,EAAAA,IAASC,EAAAA,IAMxC,SAASC,EAAOC,GACd,IAAQC,EAAWD,EAAXC,OACR,EAAsBpF,EAAAA,SAAe,GAArC,eAAOyC,EAAP,KAAY4C,EAAZ,KAMA,OACE,SAACN,EAAD,CACE5D,UAAWtC,EAAQC,KACnBwG,mBAAiB,EACjBC,cARsB,SAAC9C,GACzB4C,EAAO5C,EACR,EAOG+C,MAAO/C,EAJT,SAMG2C,EAAO7C,KAAI,SAACC,EAAMiD,GACjB,OACE,gBAAKtE,UAAWtC,EAAQiG,MAAxB,UACE,SAAC,IAAD,CAAOY,IAAKlD,KADsBiD,EAIvC,KAGN,CAEDP,EAAOS,aAAe,CACpBP,OAAQQ,EAAAA,IAGV,Q,qBC1CMhH,EAAS,QAETC,EAAU,CACdC,KAAK,GAAD,OAAKF,EAAL,SACJsE,KAAK,GAAD,OAAKtE,EAAL,SACJiH,MAAM,GAAD,OAAKjH,EAAL,UACLkH,YAAY,GAAD,OAAKlH,EAAL,gBACXmH,UAAU,GAAD,OAAKnH,EAAL,cACToH,YAAY,GAAD,OAAKpH,EAAL,iBAGPqH,GAAY/G,EAAAA,EAAAA,IAAOwF,EAAAA,EAAPxF,EAAY,kBAAGC,EAAH,EAAGA,MAAH,kCACtBN,EAAQC,MAAS,CACrBM,MAAO,OACP8G,OAAQ,QACRC,SAAU,EACVC,SAAU,YALgB,sBAQrBvH,EAAQqE,MAAS,CACtBmD,KAAM,OAToB,sBAarBxH,EAAQgH,OAAU,CACvBQ,KAAM,EACNC,gBAAiBnH,EAAMoH,QAAQC,WAAWC,MAC1CpH,QAAS,OACTC,cAAe,SACfqF,WAAY,SACZC,eAAgB,gBAChBrF,QAASJ,EAAMK,QAAQ,EAAG,GAC1B4G,SAAU,UArBgB,sBAwBrBvH,EAAQiH,aAAgB,CAC7BzG,QAAS,OACTuF,eAAgB,gBAChBD,WAAY,SACZpF,QAASJ,EAAMK,QAAQ,EAAG,GAC1BJ,MAAO,UA7BmB,sBAgCrBP,EAAQkH,WAAc,CAC3B1G,QAAS,OACTsF,WAAY,SACZC,eAAgB,SAChBxF,MAAO,OACPG,QAASJ,EAAMK,QAAQ,EAAG,MArCA,sBAwCrBX,EAAQmH,aAAgB,CAAC,GAxCJ,KA2Cf,SAASU,IACtB,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,EAAsB5G,EAAAA,SAAe,GAArC,eAAO6G,EAAP,KAAYC,EAAZ,KAEA,OACE,UAACb,EAAD,CAAW9E,UAAWtC,EAAQC,KAAMO,QAAQ,OAA5C,WACE,gBAAK8B,UAAWtC,EAAQqE,KAAxB,UACE,SAAC,EAAD,OAEF,iBAAK/B,UAAWtC,EAAQgH,MAAxB,WACE,iBAAK1E,UAAWtC,EAAQiH,YAAxB,WACE,SAAC,IAAD,CACEiB,GAAI,SAAC5H,GAAD,MAAY,CACd6H,OAAQ,UACR/E,MAAO9C,EAAMoH,QAAQU,QAAQC,KAF3B,EAIJf,SAAS,QACThE,QAAS,kBAAMwE,EAAS,QAAf,IAEF,IAARE,IACC,SAAC7E,EAAA,EAAD,CACElB,QAAQ,WACRmB,MAAM,UACNE,QAAS,SAACgF,GAAD,OAAOL,EAAO,EAAd,EAHX,0BAQO,IAARD,IACC,SAAC7E,EAAA,EAAD,CACElB,QAAQ,WACRmB,MAAM,UACNE,QAAS,SAACgF,GAAD,OAAOL,EAAO,EAAd,EAHX,8BASJ,iBAAK3F,UAAWtC,EAAQkH,UAAxB,UACW,IAARc,IAAa,SAACnH,EAAD,IACL,IAARmH,IAAa,SAAC,EAAD,QAEhB,gBAAK1F,UAAWtC,EAAQmH,mBAI/B,C","sources":["../../../../node_modules/.pnpm/@mui+icons-material@5.8.4_6s6kn4eixjfxblkpq6brdgw3sa/node_modules/@mui/icons-material/esm/GitHub.js","views/auth/login/modules/sign-in.tsx","views/auth/login/modules/sign-up.tsx","views/auth/login/modules/swiper.tsx","views/auth/login/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27\"\n}), 'GitHub');","import * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport { TextField, Button, IconButton, Typography } from '@mui/material';\n// import { useSnackbar } from 'notistack';\nimport { useLoginMutation, usePlatformAuthWayQuery } from '@/schema';\nimport { useAuth } from '@/hooks';\nimport { GitHub } from '@mui/icons-material';\nimport { useSnackbar } from 'notistack';\n\nconst PREFIX = 'SignIn';\n\nconst classes = {\n  root: `${PREFIX}-root`,\n  formWrap: `${PREFIX}-formWrap`,\n  thirdWrap: `${PREFIX}-thirdWrap`,\n};\n\nconst Root = styled('div')(({ theme }) => ({\n  [`&.${classes.root}`]: {\n    width: '100%',\n  },\n\n  [`& .${classes.formWrap}`]: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n\n  [`& .${classes.thirdWrap}`]: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n  },\n}));\n\nexport default function SignIn() {\n  const { verify, setAccessToken } = useAuth();\n  const { enqueueSnackbar } = useSnackbar();\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const {\n    data: thirdData,\n    loading: thirdLoading,\n    error: thirdError,\n  } = usePlatformAuthWayQuery();\n  const [login, { loading }] = useLoginMutation({\n    onCompleted(data) {\n      enqueueSnackbar('登录成功', { variant: 'success' });\n      setAccessToken(data?.login);\n      verify();\n    },\n    onError(error) {\n      console.log(error);\n    },\n  });\n\n  const _signIn = function () {\n    login({ variables: { username, password } });\n  };\n\n  const thirdLogin = function (\n    platform: string,\n    url: string,\n    http_domain: string\n  ) {\n    const width = 450;\n    const height = 450;\n    const top = (window.screen.availHeight - height) / 2;\n    const left = (window.screen.availWidth - width) / 2;\n    const child = window.open(\n      http_domain + url,\n      platform,\n      `width=${width},height=${height},top=${top},left=${left},toolbar=0,menubar=0,location=0,status=0`\n    );\n    if (child) {\n      const timer = setInterval(() => {\n        child.postMessage(\n          {\n            type: 'access_token',\n          },\n          http_domain\n        );\n      }, 1000);\n\n      window.addEventListener('message', (event) => {\n        const data = event.data;\n        if (data && data.type === 'access_token_callback') {\n          clearInterval(timer);\n          child && child.close();\n          enqueueSnackbar(\n            data.data.access_token ? '登录成功' : data.data.error || '登录失败',\n            { variant: data.data.access_token ? 'success' : 'error' }\n          );\n          setAccessToken(data.data.access_token);\n          verify();\n        }\n      });\n    }\n  };\n\n  React.useEffect(() => {\n    verify();\n  });\n\n  return (\n    <Root className={classes.root}>\n      <Typography variant=\"h4\">登录</Typography>\n      <form className={classes.formWrap}>\n        <TextField\n          id=\"username\"\n          label=\"用户名\"\n          value={username}\n          onChange={(e) => setUsername(e.target.value)}\n          placeholder=\"请输入用户名\"\n          fullWidth\n          variant=\"outlined\"\n          margin=\"normal\"\n        />\n        <TextField\n          id=\"password\"\n          label=\"密码\"\n          type=\"password\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          placeholder=\"请输入密码\"\n          fullWidth\n          variant=\"outlined\"\n          margin=\"normal\"\n        />\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"large\"\n          fullWidth\n          onClick={_signIn}\n          disabled={loading}\n        >\n          {loading ? '登录中' : '登录'}\n        </Button>\n      </form>\n      <div className={classes.thirdWrap}>\n        <Typography variant=\"caption\" color=\"textSecondary\">\n          更多登录方式\n        </Typography>\n        {thirdData?.platform_auth_way.map((item, idx) => {\n          return (\n            <div key={idx}>\n              <IconButton\n                onClick={() =>\n                  thirdLogin(item.platform, item.url, item.http_domain)\n                }\n              >\n                {item.platform === 'github' && <GitHub />}\n              </IconButton>\n            </div>\n          );\n        })}\n        {thirdLoading && (\n          <Typography component=\"div\" variant=\"caption\" color=\"textSecondary\">\n            loading\n          </Typography>\n        )}\n        {thirdError && (\n          <Typography component=\"div\" variant=\"caption\" color=\"textSecondary\">\n            oops!\n          </Typography>\n        )}\n      </div>\n    </Root>\n  );\n}\n","import * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport { TextField, Button, Box, Typography } from '@mui/material';\nimport {\n  // useHasUsernameLazyQuery,\n  useSendRegisterEmailMutation,\n  useCreateUserWithCodeMutation,\n} from '@/schema';\nimport { useAuth } from '@/hooks';\nimport { useSnackbar } from 'notistack';\n\nconst PREFIX = 'SignUp';\n\nconst classes = {\n  root: `${PREFIX}-root`,\n  formWrap: `${PREFIX}-formWrap`,\n};\n\nconst Root = styled('div')(({ theme }) => ({\n  [`&.${classes.root}`]: {\n    width: '100%',\n  },\n\n  [`& .${classes.formWrap}`]: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n}));\n\nexport default function SignIn() {\n  const { verify } = useAuth();\n  const { enqueueSnackbar } = useSnackbar();\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [email, setEmail] = React.useState('');\n  const [code, setCode] = React.useState('');\n\n  // const [hasUsernameQuery, data] = useHasUsernameLazyQuery();\n\n  // 发送验证码\n  const [send_register_email] = useSendRegisterEmailMutation({\n    onCompleted() {\n      enqueueSnackbar('发送成功', { variant: 'success' });\n    },\n  });\n  const _sendVerifyCode = function () {\n    send_register_email({ variables: { email: email } });\n  };\n\n  // 注册\n  const [create_user_with_code] = useCreateUserWithCodeMutation({\n    onCompleted() {\n      enqueueSnackbar('注册成功', { variant: 'success' });\n      verify();\n    },\n  });\n  const _signUp = () => {\n    create_user_with_code({\n      variables: {\n        user: {\n          username,\n          password,\n          email,\n          code,\n        },\n      },\n    });\n  };\n\n  const _changeUsername = (\n    e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => {\n    // hasUsernameQuery();\n    setUsername(e.target.value);\n  };\n\n  React.useEffect(() => {\n    verify();\n  });\n\n  return (\n    <Root className={classes.root}>\n      <Typography variant=\"h4\">注册</Typography>\n      <form className={classes.formWrap}>\n        <TextField\n          id=\"username\"\n          label=\"用户名\"\n          required\n          value={username}\n          onChange={_changeUsername}\n          placeholder=\"请输入用户名\"\n          fullWidth\n          variant=\"outlined\"\n          margin=\"normal\"\n        />\n        <TextField\n          id=\"password\"\n          label=\"密码\"\n          type=\"password\"\n          required\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          placeholder=\"请输入密码\"\n          fullWidth\n          variant=\"outlined\"\n          margin=\"normal\"\n        />\n        <TextField\n          id=\"email\"\n          label=\"邮箱\"\n          type=\"email\"\n          required\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"请输入邮箱\"\n          fullWidth\n          variant=\"outlined\"\n          margin=\"normal\"\n        />\n        <Box display=\"flex\" alignItems=\"center\" justifyContent=\"space-between\">\n          <TextField\n            id=\"code\"\n            label=\"验证码\"\n            value={code}\n            onChange={(e) => setCode(e.target.value)}\n            placeholder=\"请输入验证码\"\n            variant=\"outlined\"\n            margin=\"normal\"\n          />\n          <Button variant=\"text\" onClick={_sendVerifyCode}>\n            获取验证码\n          </Button>\n        </Box>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          size=\"large\"\n          fullWidth\n          onClick={_signUp}\n        >\n          注册\n        </Button>\n      </form>\n    </Root>\n  );\n}\n","import * as React from 'react';\nimport SwipeableViews from 'react-swipeable-views';\nimport { autoPlay } from 'react-swipeable-views-utils';\nimport Image from '@/components/base/image';\nimport { LOGIN_IMAGES } from '@/common/constants/default.constant';\n\nconst PREFIX = 'Swiper';\n\nconst classes = {\n  root: `${PREFIX}-root`,\n  image: `${PREFIX}-image`,\n};\n\nconst AutoPlaySwipeableViews = autoPlay(SwipeableViews);\n\ninterface SwiperProps {\n  images: string[];\n}\n\nfunction Swiper(props: SwiperProps) {\n  const { images } = props;\n  const [idx, setIdx] = React.useState(0);\n\n  const handleChangeIndex = (idx: number) => {\n    setIdx(idx);\n  };\n\n  return (\n    <AutoPlaySwipeableViews\n      className={classes.root}\n      enableMouseEvents\n      onChangeIndex={handleChangeIndex}\n      index={idx}\n    >\n      {images.map((item, i) => {\n        return (\n          <div className={classes.image} key={i}>\n            <Image src={item} />\n          </div>\n        );\n      })}\n    </AutoPlaySwipeableViews>\n  );\n}\n\nSwiper.defaultProps = {\n  images: LOGIN_IMAGES,\n} as Partial<SwiperProps>;\n\nexport default Swiper;\n","import * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport { SignIn, SignUp, Swiper } from './modules';\nimport { Button, Box } from '@mui/material';\nimport { LogoIcon } from '@/components/base/icons';\nimport { useNavigate } from 'react-router-dom';\n\nconst PREFIX = 'index';\n\nconst classes = {\n  root: `${PREFIX}-root`,\n  left: `${PREFIX}-left`,\n  right: `${PREFIX}-right`,\n  rightHeader: `${PREFIX}-rightHeader`,\n  rightMain: `${PREFIX}-rightMain`,\n  rightFooter: `${PREFIX}-rightFooter`,\n};\n\nconst StyledBox = styled(Box)(({ theme }) => ({\n  [`&.${classes.root}`]: {\n    width: '100%',\n    height: '100vh',\n    fontSize: 0,\n    overflow: 'hidden',\n  },\n\n  [`& .${classes.left}`]: {\n    flex: 1.5,\n    // backgroundColor: theme.palette.primary.main,\n  },\n\n  [`& .${classes.right}`]: {\n    flex: 1,\n    backgroundColor: theme.palette.background.paper,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: theme.spacing(0, 4),\n    overflow: 'auto',\n  },\n\n  [`& .${classes.rightHeader}`]: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: theme.spacing(2, 0),\n    width: '100%',\n  },\n\n  [`& .${classes.rightMain}`]: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '100%',\n    padding: theme.spacing(0, 8),\n  },\n\n  [`& .${classes.rightFooter}`]: {},\n}));\n\nexport default function Login() {\n  const navigate = useNavigate();\n  const [tag, setTag] = React.useState(0);\n\n  return (\n    <StyledBox className={classes.root} display=\"flex\">\n      <div className={classes.left}>\n        <Swiper />\n      </div>\n      <div className={classes.right}>\n        <div className={classes.rightHeader}>\n          <LogoIcon\n            sx={(theme) => ({\n              cursor: 'pointer',\n              color: theme.palette.primary.main,\n            })}\n            fontSize=\"large\"\n            onClick={() => navigate('/home')}\n          />\n          {tag === 1 && (\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={(_) => setTag(0)}\n            >\n              登录\n            </Button>\n          )}\n          {tag === 0 && (\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={(_) => setTag(1)}\n            >\n              注册\n            </Button>\n          )}\n        </div>\n        <div className={classes.rightMain}>\n          {tag === 0 && <SignIn />}\n          {tag === 1 && <SignUp />}\n        </div>\n        <div className={classes.rightFooter}></div>\n      </div>\n    </StyledBox>\n  );\n}\n"],"names":["createSvgIcon","_jsx","d","PREFIX","classes","root","formWrap","thirdWrap","Root","styled","theme","width","display","flexDirection","padding","spacing","textAlign","SignIn","useAuth","verify","setAccessToken","enqueueSnackbar","useSnackbar","React","username","setUsername","password","setPassword","usePlatformAuthWayQuery","thirdData","data","thirdLoading","loading","thirdError","error","useLoginMutation","onCompleted","variant","login","onError","console","log","className","Typography","TextField","id","label","value","onChange","e","target","placeholder","fullWidth","margin","type","Button","color","size","onClick","variables","disabled","platform_auth_way","map","item","idx","IconButton","platform","url","http_domain","top","window","screen","availHeight","left","availWidth","child","open","timer","setInterval","postMessage","addEventListener","event","clearInterval","close","access_token","thirdLogin","GitHub","component","email","setEmail","code","setCode","useSendRegisterEmailMutation","send_register_email","useCreateUserWithCodeMutation","create_user_with_code","required","Box","alignItems","justifyContent","user","image","AutoPlaySwipeableViews","autoPlay","SwipeableViews","Swiper","props","images","setIdx","enableMouseEvents","onChangeIndex","index","i","src","defaultProps","LOGIN_IMAGES","right","rightHeader","rightMain","rightFooter","StyledBox","height","fontSize","overflow","flex","backgroundColor","palette","background","paper","Login","navigate","useNavigate","tag","setTag","sx","cursor","primary","main","_"],"sourceRoot":""}