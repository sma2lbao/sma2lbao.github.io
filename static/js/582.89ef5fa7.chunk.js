"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[582],{69998:function(i,e,o){o.r(e),o.d(e,{ShadowUpdate:function(){return g}});var n=o(56828),d=o(51955),t=o(53326),l=o(40663),r=o(14417),s=o(59376),u=o(40192),c=o(47032),a=o(87664),v=o(57192),p=o(4555),h=o(46405),f=o(77100),x=o(97353),b=o(81259),j=o(16831),g=function(){var i=(0,p.s0)(),e=d.useState(0),o=(0,n.Z)(e,2),g=o[0],w=o[1],Z=d.useState(!1),m=(0,n.Z)(Z,2),C=m[0],_=m[1],S=d.createRef(),k=d.createRef(),D=d.createRef(),R=d.createRef(),M=(0,p.UO)().id,I=(0,h.uJ)({variables:{id:M}}),U=I.data,A=I.error,O=I.loading;console.log(U,O);var y=(0,h.sE)({onCompleted:function(){f.Z.dialog({title:"\u63d0\u793a",content:"\u66f4\u65b0\u6210\u529f\u3002"}).then((function(){i("/home")}))}}),J=(0,n.Z)(y,1)[0];return O||A?(0,j.jsx)(b.ZP,{error:!!A,loading:O}):(0,j.jsxs)(r.Z,{children:[(0,j.jsx)(l.IT,{children:(0,j.jsx)(l.A1,{children:(0,j.jsx)(t.MJ,{ref:S,title:null===U||void 0===U?void 0:U.shadow.title,sub_title:(null===U||void 0===U?void 0:U.shadow.sub_title)||"",description:(null===U||void 0===U?void 0:U.shadow.description)||"",posters:(null===U||void 0===U?void 0:U.shadow.posters)||[],cover:null===U||void 0===U?void 0:U.shadow.cover})})}),(0,j.jsxs)(l.A1,{children:[(0,j.jsxs)(l.BW,{sx:function(i){return{backgroundColor:i.palette.background.paper,padding:i.spacing(1,6),borderRight:"1px solid ".concat(i.palette.divider)}},children:[(0,j.jsxs)(s.Z,{value:g,onChange:function(i,e){return w(e)},children:[(0,j.jsx)(u.Z,{label:"\u4fe1\u606f"}),(0,j.jsx)(u.Z,{label:"\u76f8\u5173\u63a8\u8350",disabled:!0}),(0,j.jsx)(u.Z,{label:"\u5173\u4e8e"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{hidden:0!==g,children:(0,j.jsx)(t.IA,{ref:k,mediums:(null===U||void 0===U?void 0:U.shadow.sources)||[]})}),(0,j.jsx)("div",{hidden:2!==g,children:(0,j.jsx)(t.XU,{ref:D,about:(null===U||void 0===U?void 0:U.shadow.about)||""})}),(0,j.jsx)(c.Z,{ariaLabel:"SpeedDial OpenIcon",sx:function(i){return{position:"fixed","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:i.spacing(2),right:i.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:i.spacing(2),left:i.spacing(2)}}},icon:(0,j.jsx)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"}}),onClose:function(){return _(!1)},onOpen:function(){return _(!0)},open:C,children:(0,j.jsx)(v.Z,{icon:(0,j.jsx)(x.Z,{}),tooltipTitle:"Create",onClick:function(){var i=S.current,e=k.current,o=R.current,n=D.current;J({variables:{shadow_id:M,shadow:{title:(null===i||void 0===i?void 0:i.title)||"",sub_title:(null===i||void 0===i?void 0:i.sub_title)||"",cover:(null===i||void 0===i?void 0:i.cover)||"",posters:null===i||void 0===i?void 0:i.posters,description:null===i||void 0===i?void 0:i.description,credits:null===o||void 0===o?void 0:o.credits,about:(null===n||void 0===n?void 0:n.about)||"",sources:null===e||void 0===e?void 0:e.mediums.filter((function(i){return!i.id})).map((function(e){var o=e.name,n=e.sub_name,d=e.description,t=e.cover,l=e.url;return{name:o||(null===i||void 0===i?void 0:i.title),sub_name:n||(null===i||void 0===i?void 0:i.sub_title),description:d||(null===i||void 0===i?void 0:i.description),cover:t||(null===i||void 0===i?void 0:i.cover),url:l}}))}}})}})})]})]}),(0,j.jsx)(l._9,{children:(0,j.jsx)(t.P7,{ref:R,credits:(null===U||void 0===U?void 0:U.shadow.credits)||[]})})]})]})};e.default=g}}]);
//# sourceMappingURL=582.89ef5fa7.chunk.js.map