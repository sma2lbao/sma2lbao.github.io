(this.webpackJsonpmiss=this.webpackJsonpmiss||[]).push([[13],{394:function(e,t,n){"use strict";n.r(t);var a=n(46),r=n(0),l=n(388),c=n(332),o=n(187),i=n(98),u=n(22),s=n(99),m=n(59);function d(){var e=Object(s.a)(["\n  mutation($user: CreateUserWithCodeInput!) {\n    create_user_with_code(user: $user) {\n      username\n      avatar\n    }\n  }\n"]);return d=function(){return e},e}function f(){var e=Object(s.a)(["\n  mutation($email: String!) {\n    send_register_email(email: $email)\n  }\n"]);return f=function(){return e},e}function b(){var e=Object(s.a)(["\n  mutation($username: String!, $password: String!) {\n    login(username: $username, password: $password)\n  }\n"]);return b=function(){return e},e}var v=Object(m.a)(b()),g=Object(m.a)(f()),p=Object(m.a)(d());function h(){var e=Object(u.f)(),t=Object(i.b)().enqueueSnackbar,n=Object(o.a)(v,{onCompleted:function(n){t("\u767b\u5f55\u6210\u529f"),localStorage.setItem("access_token",n.access_token),e.push("/home")},onError:function(e){console.log(e)}}),s=Object(a.a)(n,2),m=s[0],d=s[1].loading,f=r.useState(""),b=Object(a.a)(f,2),g=b[0],p=b[1],h=r.useState(""),E=Object(a.a)(h,2),j=E[0],O=E[1];return r.createElement("div",null,r.createElement("form",null,r.createElement(l.a,{id:"username",label:"\u7528\u6237\u540d",value:g,onChange:function(e){return p(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",fullWidth:!0,margin:"normal"}),r.createElement(l.a,{id:"password",label:"\u5bc6\u7801",type:"password",value:j,onChange:function(e){return O(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",fullWidth:!0,margin:"normal"}),r.createElement(c.a,{variant:"contained",onClick:function(){m({variables:{username:g,password:j}})},disabled:d},d?"\u767b\u5f55\u4e2d":"\u767b\u5f55")))}var E=n(317);function j(){var e=Object(i.b)().enqueueSnackbar,t=r.useState(""),n=Object(a.a)(t,2),u=n[0],s=n[1],m=r.useState(""),d=Object(a.a)(m,2),f=d[0],b=d[1],v=r.useState(""),h=Object(a.a)(v,2),j=h[0],O=h[1],C=r.useState(""),w=Object(a.a)(C,2),k=w[0],S=w[1],y=Object(o.a)(g,{onCompleted:function(t){console.log(t),e("\u53d1\u9001\u6210\u529f")},onError:function(t){console.error(t),e("\u53d1\u9001\u5931\u8d25")}}),$=Object(a.a)(y,1)[0],_=Object(o.a)(p,{onError:function(t){console.error(t),e("\u6ce8\u518c\u5931\u8d25")},onCompleted:function(t){console.log(t),e("\u6ce8\u518c\u6210\u529f")}}),x=Object(a.a)(_,1)[0];return r.createElement("div",null,r.createElement("form",null,r.createElement(l.a,{id:"username",label:"\u7528\u6237\u540d",required:!0,value:u,onChange:function(e){return s(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",fullWidth:!0,margin:"normal"}),r.createElement(l.a,{id:"password",label:"\u5bc6\u7801",type:"password",required:!0,value:f,onChange:function(e){return b(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",fullWidth:!0,margin:"normal"}),r.createElement(l.a,{id:"email",label:"\u90ae\u7bb1",type:"email",required:!0,value:j,onChange:function(e){return O(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",fullWidth:!0,margin:"normal"}),r.createElement(E.a,null,r.createElement(l.a,{id:"code",label:"\u9a8c\u8bc1\u7801",value:k,onChange:function(e){return S(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",margin:"normal"}),r.createElement(c.a,{variant:"contained",onClick:function(){$({variables:{email:j}})}},"\u83b7\u53d6\u9a8c\u8bc1\u7801")),r.createElement(c.a,{variant:"contained",fullWidth:!0,onClick:function(){x({variables:{username:u,password:f,email:j,code:k}})}},"\u6ce8\u518c")))}var O=n(119),C=n.n(O),w=n(166),k=n(48),S=n(259),y=n(254),$=Object(w.autoPlay)(C.a),_=Object(S.a)((function(e){return Object(y.a)({image:{width:"100%",height:"100%"}})}));function x(e){var t=_(),n=e.images;return r.createElement("div",null,r.createElement($,{enableMouseEvents:!0,index:0},n.map((function(e,n){return r.createElement("div",{className:t.image,key:n},r.createElement(k.a,{src:e}))}))))}x.defaultProps={images:["https://pic1.zhimg.com/v2-cc17d8b31fe162fdbfadba1d18b7836e_1200x500.jpg","http://n.sinaimg.cn/collect/crawl/20160224/ZFh0-fxprucv9824132.jpg"]};var W=x;n.d(t,"default",(function(){return N}));var q=Object(S.a)((function(e){return Object(y.a)({root:{width:"100%",height:"100vh",fontSize:0,overflow:"hidden"},left:{flex:1,backgroundColor:e.palette.primary.main},right:{flex:1,backgroundColor:e.palette.background.paper,display:"flex",alignItems:"center",justifyContent:"center"},main:{width:300}})}));function N(){var e=q(),t=r.useState(0),n=Object(a.a)(t,2),l=n[0],o=n[1];return r.createElement(E.a,{className:e.root,display:"flex"},r.createElement("div",{className:e.left},r.createElement(W,null)),r.createElement("div",{className:e.right},r.createElement("div",{className:e.main},r.createElement(c.a,{onClick:function(e){return o(0)}},"\u767b\u5f55"),r.createElement(c.a,{onClick:function(e){return o(1)}},"\u6ce8\u518c"),r.createElement("div",null,0===l&&r.createElement(h,null),1===l&&r.createElement(j,null)))))}}}]);
//# sourceMappingURL=13.19a2a746.chunk.js.map