(this.webpackJsonpmiss=this.webpackJsonpmiss||[]).push([[13],{425:function(e,t,a){"use strict";a.r(t);var n=a(50),l=a(0),r=a(418),o=a(328),c=a(312),i=a(99),u=a(81),s=a(47),m=a(414);function d(){var e=Object(s.a)(),t=Object(u.g)(),a=t.data,d=t.loading;console.log(a,d);var f=Object(i.b)().enqueueSnackbar,b=Object(u.c)({onCompleted:function(t){f("\u767b\u5f55\u6210\u529f"),localStorage.setItem("access_token",null===t||void 0===t?void 0:t.login),e.gotoHome()},onError:function(e){console.log(e)}}),v=Object(n.a)(b,2),g=v[0],h=v[1].loading,p=l.useState(""),E=Object(n.a)(p,2),j=E[0],k=E[1],O=l.useState(""),w=Object(n.a)(O,2),C=w[0],y=w[1],S=function(){var e=window.open("http://localhost:108/auth/github","github","width=450,height=450,toolbar=0,menubar=0,location=0,status=0");if(e){var t=setInterval((function(){e.postMessage({type:"access_token"},"http://localhost:108")}),1e3);window.addEventListener("message",(function(a){var n=a.data;n&&"access_token_callback"===n.type&&(clearInterval(t),e&&e.close(),f(n.data.access_token?"\u767b\u5f55\u6210\u529f":n.data.error||"\u767b\u5f55\u5931\u8d25"),localStorage.setItem("access_token",n.data.access_token))}))}};return l.createElement("div",null,l.createElement("form",null,l.createElement(r.a,{id:"username",label:"\u7528\u6237\u540d",value:j,onChange:function(e){return k(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",fullWidth:!0,margin:"normal"}),l.createElement(r.a,{id:"password",label:"\u5bc6\u7801",type:"password",value:C,onChange:function(e){return y(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",fullWidth:!0,margin:"normal"}),l.createElement(o.a,{variant:"contained",onClick:function(){g({variables:{username:j,password:C}})},disabled:h},h?"\u767b\u5f55\u4e2d":"\u767b\u5f55")),null===a||void 0===a?void 0:a.platform_auth_way.map((function(e,t){return l.createElement("div",{key:t},l.createElement(c.a,{onClick:S},l.createElement(m.a,null)))})))}var f=a(337);function b(){var e=Object(i.b)().enqueueSnackbar,t=l.useState(""),a=Object(n.a)(t,2),c=a[0],s=a[1],m=l.useState(""),d=Object(n.a)(m,2),b=d[0],v=d[1],g=l.useState(""),h=Object(n.a)(g,2),p=h[0],E=h[1],j=l.useState(""),k=Object(n.a)(j,2),O=k[0],w=k[1],C=Object(u.i)({onCompleted:function(t){console.log(t),e("\u53d1\u9001\u6210\u529f")},onError:function(t){console.error(t),e("\u53d1\u9001\u5931\u8d25")}}),y=Object(n.a)(C,1)[0],S=Object(u.a)({onError:function(t){console.error(t),e("\u6ce8\u518c\u5931\u8d25")},onCompleted:function(t){console.log(t),e("\u6ce8\u518c\u6210\u529f")}}),_=Object(n.a)(S,1)[0];return l.createElement("div",null,l.createElement("form",null,l.createElement(r.a,{id:"username",label:"\u7528\u6237\u540d",required:!0,value:c,onChange:function(e){return s(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",fullWidth:!0,margin:"normal"}),l.createElement(r.a,{id:"password",label:"\u5bc6\u7801",type:"password",required:!0,value:b,onChange:function(e){return v(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",fullWidth:!0,margin:"normal"}),l.createElement(r.a,{id:"email",label:"\u90ae\u7bb1",type:"email",required:!0,value:p,onChange:function(e){return E(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",fullWidth:!0,margin:"normal"}),l.createElement(f.a,null,l.createElement(r.a,{id:"code",label:"\u9a8c\u8bc1\u7801",value:O,onChange:function(e){return w(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",margin:"normal"}),l.createElement(o.a,{variant:"contained",onClick:function(){y({variables:{email:p}})}},"\u83b7\u53d6\u9a8c\u8bc1\u7801")),l.createElement(o.a,{variant:"contained",fullWidth:!0,onClick:function(){_({variables:{user:{username:c,password:b,email:p,code:O}}})}},"\u6ce8\u518c")))}var v=a(176),g=a.n(v),h=a(179),p=a(84),E=a(276),j=a(271),k=Object(h.autoPlay)(g.a),O=Object(E.a)((function(e){return Object(j.a)({image:{width:"100%",height:"100%"}})}));function w(e){var t=O(),a=e.images;return l.createElement("div",null,l.createElement(k,{enableMouseEvents:!0,index:0},a.map((function(e,a){return l.createElement("div",{className:t.image,key:a},l.createElement(p.b,{src:e}))}))))}w.defaultProps={images:["https://pic1.zhimg.com/v2-cc17d8b31fe162fdbfadba1d18b7836e_1200x500.jpg","http://n.sinaimg.cn/collect/crawl/20160224/ZFh0-fxprucv9824132.jpg"]};var C=w;a.d(t,"default",(function(){return S}));var y=Object(E.a)((function(e){return Object(j.a)({root:{width:"100%",height:"100vh",fontSize:0,overflow:"hidden"},left:{flex:1,backgroundColor:e.palette.primary.main},right:{flex:1,backgroundColor:e.palette.background.paper,display:"flex",alignItems:"center",justifyContent:"center"},main:{width:300}})}));function S(){var e=y(),t=l.useState(0),a=Object(n.a)(t,2),r=a[0],c=a[1];return l.createElement(f.a,{className:e.root,display:"flex"},l.createElement("div",{className:e.left},l.createElement(C,null)),l.createElement("div",{className:e.right},l.createElement("div",{className:e.main},l.createElement(o.a,{onClick:function(e){return c(0)}},"\u767b\u5f55"),l.createElement(o.a,{onClick:function(e){return c(1)}},"\u6ce8\u518c"),l.createElement("div",null,0===r&&l.createElement(d,null),1===r&&l.createElement(b,null)))))}}}]);
//# sourceMappingURL=13.bf3ecbf6.chunk.js.map