{"version":3,"sources":["components/base/Confirm/index.tsx","views/Test/index.tsx"],"names":["ShowDialog","props","React","open","setOpen","Dialog","onClose","onCancel","title","DialogTitle","DialogContent","DialogContentText","content","DialogActions","cancel","Button","onClick","color","cancelText","onConfirm","autoFocus","confirmText","Confirm","dialog","options","Promise","resolve","reject","mountPoint","document","createElement","body","appendChild","clear","remove","ReactDOM","render","ToolMediaNormal","withTool","MediaNormal","Test","handleConfirm","a","isConfirm","console","log","cover","onDelete"],"mappings":"mOAwBMA,EAAa,SAACC,GAA6C,IAAD,EACtCC,YAAe,GADuB,mBACvDC,EADuD,KACjDC,EADiD,KAiB9D,OACE,2BACE,gBAACC,EAAA,EAAD,CAAQF,KAAMA,EAAMG,QAPJ,WAClBF,GAAQ,GACRH,EAAMM,UAAYN,EAAMM,aAMnBN,EAAMO,OAAS,gBAACC,EAAA,EAAD,KAAcR,EAAMO,OACpC,gBAACE,EAAA,EAAD,KACE,gBAACC,EAAA,EAAD,KAAoBV,EAAMW,UAE5B,gBAACC,EAAA,EAAD,KACGZ,EAAMa,QACL,gBAACC,EAAA,EAAD,CAAQC,QAxBG,WACnBZ,GAAQ,GACRH,EAAMM,UAAYN,EAAMM,YAsBeU,MAAM,WAClChB,EAAMiB,YAAc,gBAGzB,gBAACH,EAAA,EAAD,CAAQC,QAvBM,WACpBZ,GAAQ,GACRH,EAAMkB,WAAalB,EAAMkB,aAqBaF,MAAM,UAAUG,WAAS,GACtDnB,EAAMoB,aAAe,oBAkCnBC,EA1BQ,CACrBC,OAAQ,SAASC,GACf,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAaC,SAASC,cAAc,OAC1CD,SAASE,KAAKC,YAAYJ,GAC1B,IAAMK,EAAQ,WACZL,EAAWM,UAUbC,IAASC,OACP,2BACE,gBAAC,EAAD,iBAAgBZ,EAAhB,CAAyBL,UAVX,WAChBO,GAAQ,GACRO,KAQiD1B,SANlC,WACfmB,GAAQ,GACRO,SAMAL,QC9EFS,EAAkBC,YAASC,KA4BlBC,UA1BQ,WACrB,IAAMC,EAAa,uCAAG,4BAAAC,EAAA,sEACIpB,EAAQC,OAAO,CACrCf,MAAO,eACPI,QAAS,iBAHS,OACd+B,EADc,OAKpBC,QAAQC,IAAIF,GALQ,2CAAH,qDAQnB,OACE,2BACE,2BACE,uBAAK3B,QAASyB,GAAd,WAEA,gBAACJ,EAAD,CACE7B,MAAO,QACPsC,MAAO,QACPC,SAAU,WACRH,QAAQC,IAAI","file":"static/js/17.4c613faf.chunk.js","sourcesContent":["import * as React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  Button\n} from \"@material-ui/core\";\n\ninterface ConfirmProps {\n  title?: string;\n  content: string;\n  cancel?: boolean;\n  cancelText?: string;\n  confirmText?: string;\n}\n\ninterface ConfirmEventProps {\n  onConfirm?(): void;\n  onCancel?(): void;\n}\n\nconst ShowDialog = (props: ConfirmEventProps & ConfirmProps) => {\n  const [open, setOpen] = React.useState(true);\n  const handleCancel = () => {\n    setOpen(false);\n    props.onCancel && props.onCancel();\n  };\n\n  const handleConfirm = () => {\n    setOpen(false);\n    props.onConfirm && props.onConfirm();\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    props.onCancel && props.onCancel();\n  };\n\n  return (\n    <div>\n      <Dialog open={open} onClose={handleClose}>\n        {props.title && <DialogTitle>{props.title}</DialogTitle>}\n        <DialogContent>\n          <DialogContentText>{props.content}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          {props.cancel && (\n            <Button onClick={handleCancel} color=\"primary\">\n              {props.cancelText || \"取消\"}\n            </Button>\n          )}\n          <Button onClick={handleConfirm} color=\"primary\" autoFocus>\n            {props.confirmText || \"确定\"}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nexport const Confirm = {\n  dialog: function(options: ConfirmProps): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      const mountPoint = document.createElement(\"div\");\n      document.body.appendChild(mountPoint);\n      const clear = () => {\n        mountPoint.remove();\n      };\n      const onConfirm = () => {\n        resolve(true);\n        clear();\n      };\n      const onCancel = () => {\n        resolve(false);\n        clear();\n      };\n      ReactDOM.render(\n        <div>\n          <ShowDialog {...options} onConfirm={onConfirm} onCancel={onCancel} />\n        </div>,\n        mountPoint\n      );\n    });\n  }\n};\n\nexport default Confirm;\n","import * as React from \"react\";\n// import { FileUpload } from \"@/components/app/FileUpload\";\nimport { withTool, MediaNormal } from \"@/components/app/Media\";\nimport Confirm from \"@/components/base/Confirm\";\n\nconst ToolMediaNormal = withTool(MediaNormal);\n\nconst Test: React.FC = () => {\n  const handleConfirm = async () => {\n    const isConfirm = await Confirm.dialog({\n      title: \"标题\",\n      content: \"内容\"\n    });\n    console.log(isConfirm);\n  };\n\n  return (\n    <div>\n      <div>\n        <div onClick={handleConfirm}>confirm</div>\n        {/* <FileUpload>upload</FileUpload> */}\n        <ToolMediaNormal\n          title={\"title\"}\n          cover={\"cover\"}\n          onDelete={() => {\n            console.log(\"delete\");\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Test;\n"],"sourceRoot":""}