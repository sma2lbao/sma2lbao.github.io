"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[271],{13271:function(t,o,n){n.r(o),n.d(o,{ShadowContext:function(){return tt},default:function(){return ot}});var e,i=n(56828),r=n(51955),a=n(14417),s=n(59376),c=n(40192),d=n(52202),l=n(2815),u=n(11604),h=n(16831),x="About",p={root:"".concat(x,"-root"),default:"".concat(x,"-default")},v=(0,l.ZP)(a.Z)((function(t){var o,n=t.theme;return o={},(0,d.Z)(o,"&.".concat(p.root),{height:"100%"}),(0,d.Z)(o,"& .".concat(p.default),{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:n.spacing(5),color:n.palette.text.secondary}),o})),f=function(t){var o=t.html;return(0,h.jsx)(v,{className:p.root,children:o?(0,h.jsx)("div",{dangerouslySetInnerHTML:{__html:o}}):(0,h.jsx)(a.Z,{display:"flex",justifyContent:"center",children:(0,h.jsx)(u.Vm,{subtitle:"\u8be5\u8d44\u6e90\u6ca1\u6709\u4ecb\u7ecd"})})})},Z=n(49941),j=n(85899),m=n(78643),g=n(32033),b=n(16480),y=n(75662),w={root:"".concat("Cast","-root")},k=(0,l.ZP)(a.Z)((function(t){var o=t.theme;return(0,d.Z)({},"&.".concat(w.root),{backgroundColor:o.palette.background.paper})})),C=function(){var t,o,n=r.useContext(tt);return(0,h.jsx)(k,{className:w.root,children:(0,h.jsx)(Z.Z,{subheader:(0,h.jsx)(j.Z,{children:"\u6f14\u804c\u8868"}),children:null!==n&&void 0!==n&&null!==(t=n.shadow)&&void 0!==t&&null!==(o=t.credits)&&void 0!==o&&o.length?(0,h.jsx)(h.Fragment,{children:n.shadow.credits.map((function(t,o){return(0,h.jsxs)(m.ZP,{children:[(0,h.jsx)(g.Z,{children:(0,h.jsx)(b.Z,{src:t.avatar})}),(0,h.jsx)(y.Z,{primary:t.name,secondary:t.description})]},o)}))}):(0,h.jsx)(a.Z,{sx:{textAlign:"center"},children:(0,h.jsx)(u.Vm,{subtitle:"\u6682\u65e0\u6f14\u804c\u5458\u4fe1\u606f"})})})})},S=n(4962),R=n(66530),N=n(23921),I=n(6717),T=n(4555),P="Main",_={root:"".concat(P,"-root"),box:"".concat(P,"-box")},A=(0,l.ZP)(a.Z)((function(t){var o,n=t.theme;return o={},(0,d.Z)(o,"&.".concat(_.root),{padding:n.spacing(1,0)}),(0,d.Z)(o,"& .".concat(_.box),{padding:n.spacing(2,0),"& + &":{borderTop:"1px solid ".concat(n.palette.divider)}}),o})),O=function(){var t,o=(0,T.s0)(),n=r.useContext(tt);return(0,h.jsx)(A,{className:_.root,children:(0,h.jsx)(a.Z,{className:_.box,children:null!==n&&void 0!==n&&null!==(t=n.shadow.sources)&&void 0!==t&&t.length?(0,h.jsx)(R.Z,{rowHeight:"auto",cols:4,children:n.shadow.sources.map((function(t,e){return(0,h.jsx)(N.Z,{cols:1,children:(0,h.jsx)(I.sV,(0,S.Z)((0,S.Z)({},t),{},{onClickRoot:function(){return e=t.id,void o("/shadow-play/".concat(null===n||void 0===n?void 0:n.shadow.id),{state:{medium_id:e}});var e}}))},e)}))}):(0,h.jsx)("div",{children:(0,h.jsx)(u.ZP,{subtitle:"\u6682\u65e0\u76f8\u5173\u8d44\u6e90"})})})})},L=n(46405),E=n(81259),F={root:"".concat("Relative","-root")},M=(0,l.ZP)(a.Z)((function(t){var o=t.theme;return(0,d.Z)({},"&.".concat(F.root),{padding:o.spacing(2,0)})})),z=function(){var t,o=(0,T.UO)().id,n=(0,T.s0)(),e=(0,L.aT)({variables:{shadow_id:o}}),i=e.data,r=e.error,a=e.loading;return(0,h.jsx)(M,{className:F.root,children:null!==i&&void 0!==i&&null!==(t=i.shadow_urges_by_shadow)&&void 0!==t&&t.length?(0,h.jsx)(R.Z,{rowHeight:"auto",cols:4,children:null===i||void 0===i?void 0:i.shadow_urges_by_shadow.map((function(t,o){return(0,h.jsx)(N.Z,{children:(0,h.jsx)(I.h6,(0,S.Z)((0,S.Z)({},t),{},{onClickRoot:function(){return n("/shadow/".concat(t.id))},onClickAuthor:function(){return n("/profile/".concat(t.author.username))}}))},o)}))}):(0,h.jsx)("div",{children:(0,h.jsx)(E.qZ,{loading:a,error:!!r,placeholderTitle:"\u6682\u65e0\u76f8\u5173\u63a8\u8350"})})})},B=n(50518),G=n(7607),V=n(52066),H=n(69006),U=n(47204),D=n(87455),q=n(4304),W="Top",J={root:"".concat(W,"-root"),main:"".concat(W,"-main"),mainContent:"".concat(W,"-mainContent")},K=(0,l.ZP)("div")((function(t){var o,n=t.theme;return o={},(0,d.Z)(o,"&.".concat(J.root),{position:"relative",width:"100%"}),(0,d.Z)(o,"& .".concat(J.main),{position:"absolute",top:"50%",right:0,width:"50%",padding:n.spacing(0,8),transform:"translate(0, -50%)",color:"#fff",display:"flex",flexDirection:"column"}),(0,d.Z)(o,"& .".concat(J.mainContent),{background:"rgba(0, 0, 0, .1)",backdropFilter:"blur(8px)",padding:n.spacing(4),borderRadius:n.shape.borderRadius}),o})),Q=(0,q.bH)(D.ZP),X=function(){var t,o=r.useContext(tt),n=(0,T.s0)(),e=r.useState(0),s=(0,i.Z)(e,2),c=s[0],d=s[1];return(0,h.jsxs)(K,{className:J.root,children:[o&&o.shadow&&null!==(t=o.shadow.posters)&&void 0!==t&&t.length?(0,h.jsx)(Q,{onChangeIndex:function(t){return d(t)},index:c,children:o.shadow.posters.map((function(t,o){return(0,h.jsx)(B.E,{aspectRatio:16/9,src:t},o)}))}):(0,h.jsx)(B.E,{aspectRatio:16/9,src:G.OD}),(0,h.jsx)("div",{className:J.main,children:(0,h.jsxs)("div",{className:J.mainContent,children:[(0,h.jsx)(V.Z,{gutterBottom:!0,variant:"h4",component:"div",children:null===o||void 0===o?void 0:o.shadow.title}),(0,h.jsx)(V.Z,{gutterBottom:!0,variant:"subtitle1",component:"div",children:null===o||void 0===o?void 0:o.shadow.sub_title}),(0,h.jsx)(V.Z,{variant:"body2",component:"div",children:null===o||void 0===o?void 0:o.shadow.description}),(0,h.jsx)(a.Z,{mt:3,children:(0,h.jsx)(H.Z,{color:"inherit",onClick:function(){n("/shadow-play/".concat(null===o||void 0===o?void 0:o.shadow.id))},children:(0,h.jsx)(U.Z,{fontSize:"large"})})})]})})]})},Y=n(40663),$=n(13436),tt=r.createContext(void 0);function ot(){var t,o=(0,T.UO)().id,n=(0,L.uJ)({variables:{id:o}}),d=n.data,l=n.error,u=n.loading,x=r.useState(e.INFO),p=(0,i.Z)(x,2),v=p[0],Z=p[1];return(0,h.jsxs)(a.Z,{children:[(0,h.jsx)($.q,{children:(0,h.jsx)("title",{children:null===d||void 0===d?void 0:d.shadow.title})}),null!==d&&void 0!==d&&d.shadow?(0,h.jsxs)(tt.Provider,{value:d,children:[(0,h.jsx)(Y.IT,{children:(0,h.jsx)(Y.A1,{children:(0,h.jsx)(X,{})})}),(0,h.jsxs)(Y.A1,{children:[(0,h.jsxs)(Y.BW,{sx:function(t){return{display:"flex",flexDirection:"column",backgroundColor:t.palette.background.paper,padding:t.spacing(1,6),borderRight:"1px solid ".concat(t.palette.divider)}},children:[(0,h.jsxs)(s.Z,{value:v,onChange:function(t,o){return Z(o)},children:[(0,h.jsx)(c.Z,{label:"\u4fe1\u606f"}),(0,h.jsx)(c.Z,{label:"\u76f8\u5173\u63a8\u8350"}),(0,h.jsx)(c.Z,{label:"\u5173\u4e8e"})]}),(0,h.jsxs)(a.Z,{sx:{flex:1},children:[(0,h.jsx)("div",{hidden:v!==e.INFO,children:(0,h.jsx)(O,{})}),(0,h.jsx)("div",{hidden:v!==e.RELATIVE,children:(0,h.jsx)(z,{})}),(0,h.jsx)("div",{hidden:v!==e.ABOUT,children:(0,h.jsx)(f,{html:(null===d||void 0===d||null===(t=d.shadow)||void 0===t?void 0:t.about)||""})})]})]}),(0,h.jsx)(Y._9,{children:(0,h.jsx)(C,{})})]})]}):(0,h.jsx)(E.qZ,{error:!!l,loading:u})]})}!function(t){t[t.INFO=0]="INFO",t[t.RELATIVE=1]="RELATIVE",t[t.ABOUT=2]="ABOUT"}(e||(e={}))},47204:function(t,o,n){var e=n(78953),i=n(16831);o.Z=(0,e.Z)((0,i.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"PlayCircleOutline")},85899:function(t,o,n){n.d(o,{Z:function(){return f}});var e=n(14974),i=n(1167),r=n(51955),a=n(18767),s=n(81165),c=n(2815),d=n(18555),l=n(33925),u=n(56171);function h(t){return(0,u.Z)("MuiListSubheader",t)}(0,n(99531).Z)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);var x=n(16831),p=["className","color","component","disableGutters","disableSticky","inset"],v=(0,c.ZP)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:function(t,o){var n=t.ownerState;return[o.root,"default"!==n.color&&o["color".concat((0,l.Z)(n.color))],!n.disableGutters&&o.gutters,n.inset&&o.inset,!n.disableSticky&&o.sticky]}})((function(t){var o=t.theme,n=t.ownerState;return(0,i.Z)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(o.vars||o).palette.text.secondary,fontFamily:o.typography.fontFamily,fontWeight:o.typography.fontWeightMedium,fontSize:o.typography.pxToRem(14)},"primary"===n.color&&{color:(o.vars||o).palette.primary.main},"inherit"===n.color&&{color:"inherit"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.inset&&{paddingLeft:72},!n.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(o.vars||o).palette.background.paper})})),f=r.forwardRef((function(t,o){var n=(0,d.Z)({props:t,name:"MuiListSubheader"}),r=n.className,c=n.color,u=void 0===c?"default":c,f=n.component,Z=void 0===f?"li":f,j=n.disableGutters,m=void 0!==j&&j,g=n.disableSticky,b=void 0!==g&&g,y=n.inset,w=void 0!==y&&y,k=(0,e.Z)(n,p),C=(0,i.Z)({},n,{color:u,component:Z,disableGutters:m,disableSticky:b,inset:w}),S=function(t){var o=t.classes,n=t.color,e=t.disableGutters,i=t.inset,r=t.disableSticky,a={root:["root","default"!==n&&"color".concat((0,l.Z)(n)),!e&&"gutters",i&&"inset",!r&&"sticky"]};return(0,s.Z)(a,h,o)}(C);return(0,x.jsx)(v,(0,i.Z)({as:Z,className:(0,a.Z)(S.root,r),ref:o,ownerState:C},k))}))}}]);
//# sourceMappingURL=271.77768e1b.chunk.js.map