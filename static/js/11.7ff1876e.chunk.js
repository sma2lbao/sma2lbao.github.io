(this.webpackJsonpmiss=this.webpackJsonpmiss||[]).push([[11],{358:function(e,t,a){"use strict";var n=a(0),l=a(3),r=a(280),c=a(275),i=Object(r.a)((function(e){return Object(c.a)({icon:{fontSize:120}})})),o=function(e){var t=i(),a=e.title,r=e.subtitle;return n.createElement("div",null,n.createElement("div",null,n.createElement("div",null,n.createElement("i",{className:Object(l.a)("iconfont icon-404",t.icon)})),a&&n.createElement("div",null,a),r&&n.createElement("div",null,r)))};a.d(t,"a",(function(){return u}));t.b=o;var u=o},589:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a(280),r=a(275),c=a(448),i=a.n(c),o=Object(l.a)((function(e){return Object(r.a)({root:{width:"100%",paddingTop:"calc(56.25%)",position:"relative"},player:{width:"100% !important",height:"100% !important",position:"absolute",top:0,left:0}})})),u=function(){var e=o();return n.createElement("div",null,n.createElement("div",{className:e.root},n.createElement(i.a,{className:e.player,url:"https://www.youtube.com/watch?v=ysz5S6PUM-U"})))},m=a(343),s=a(118),d=a(117),v=a(345),E=Object(l.a)((function(e){return Object(r.a)({avatar:{marginRight:e.spacing(2)},main:{flex:1},infoItem:{"& + &":{marginLeft:e.spacing(2)}},commentText:{marginTop:e.spacing(1)}})}));var f=function(){var e=E();return n.createElement(m.a,null,n.createElement(m.a,{display:"flex"},n.createElement(v.a,{className:e.avatar},"L"),n.createElement("div",{className:e.main},n.createElement(m.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},n.createElement(d.a,null,"\u6635\u79f0"),n.createElement(d.a,{variant:"caption"},"2020\u5e7410\u670801\u65e5")),n.createElement(m.a,{display:"flex"},n.createElement(d.a,{variant:"caption",className:e.infoItem},"like 2"),n.createElement(d.a,{variant:"caption",className:e.infoItem},"dislike 0")))),n.createElement(d.a,{variant:"body2",className:e.commentText},"\u4f60\u7684\u8bc4\u8bba\u5185\u5bb9\u3002\u4f60\u7684\u8bc4\u8bba\u5185\u5bb9\u3002\u4f60\u7684\u8bc4\u8bba\u5185\u5bb9\u3002\u4f60\u7684\u8bc4\u8bba\u5185\u5bb9\u3002\u4f60\u7684\u8bc4\u8bba\u5185\u5bb9\u3002\u4f60\u7684\u8bc4\u8bba\u5185\u5bb9\u3002"))},b=a(454);function g(){return n.createElement("div",null,n.createElement(b.a,{placeholder:""}))}var p=Object(l.a)((function(e){return Object(r.a)({item:{padding:e.spacing(2,0),"& + &":{borderTop:"1px solid ".concat(e.palette.divider)}},commentTitle:{padding:e.spacing(1,0)}})}));function h(){var e=p();return n.createElement(m.a,null,n.createElement(g,null),n.createElement(d.a,{variant:"subtitle2",className:e.commentTitle}),n.createElement("div",null,n.createElement("div",{className:e.item},n.createElement(f,null)),n.createElement("div",{className:e.item},n.createElement(f,null)),n.createElement("div",{className:e.item},n.createElement(f,null)),n.createElement("div",{className:e.item},n.createElement(f,null)),n.createElement("div",{className:e.item},n.createElement(f,null)),n.createElement("div",{className:e.item},n.createElement(f,null)),n.createElement("div",{className:e.item},n.createElement(f,null)),n.createElement("div",{className:e.item},n.createElement(f,null)),n.createElement("div",{className:e.item},n.createElement(f,null)),n.createElement("div",{className:e.item},n.createElement(f,null)),n.createElement("div",{className:e.item},n.createElement(f,null)),n.createElement("div",{className:e.item},n.createElement(f,null))))}var O=a(106),j=a(336),y=a(337),C=a(86),N=a(20),T=a(358);function P(){var e=Object(N.g)().id,t=Object(C.i)({variables:{movie_id:e}}),a=t.data,l=t.error;return t.loading?n.createElement("div",null,"loading"):l?n.createElement("div",null,"error"):n.createElement(m.a,{py:2},n.createElement(d.a,{variant:"subtitle1",gutterBottom:!0},"\u63a5\u4e0b\u6765\u64ad\u653e"),(null===a||void 0===a?void 0:a.movie_next_urges_by_movie.length)?n.createElement(j.a,{cellHeight:"auto",cols:4},a.movie_next_urges_by_movie.map((function(e,t){return n.createElement(y.a,{cols:1,key:t},n.createElement(O.a,null))}))):n.createElement("div",null,n.createElement(T.b,{title:"\u6682\u65e0\u53ef\u64ad\u653e\u8d44\u6e90"})))}var k=a(54),x=a(318),w=a(334),M=a(566),R=a(567),L=a(381),S=a(70),_=a.n(S),I=a(110),D=Object(l.a)((function(e){return Object(r.a)({root:{},header:{display:"flex",justifyContent:"space-between",marginBottom:e.spacing(1)},infoItem:{"& + &":{marginLeft:e.spacing(1)}},toolBox:{display:"flex",alignItems:"center",marginRight:e.spacing(2)},toolText:{marginLeft:e.spacing(.5)},description:{marginBottom:e.spacing(1)}})}));function U(){var e=D(),t=Object(I.b)().enqueueSnackbar,a=n.useContext(de),l=n.useState(!1),r=Object(k.a)(l,2),c=r[0],i=r[1],o=Object(C.e)({onCompleted:function(e){i(e.is_following)}}),u=Object(k.a)(o,1)[0];n.useEffect((function(){(null===a||void 0===a?void 0:a.movie.author.uid)&&u({variables:{owner_uid:a.movie.author.uid}})}),[u,a]);var s=Object(C.a)({onCompleted:function(){t("\u5173\u6ce8\u6210\u529f")}}),E=Object(k.a)(s,1)[0],f=Object(C.p)({onCompleted:function(){t("\u53d6\u6d88\u6210\u529f")}}),b=Object(k.a)(f,1)[0],g=function(){(null===a||void 0===a?void 0:a.movie.author.uid)&&(c?b({variables:{follow:{owner_uid:null===a||void 0===a?void 0:a.movie.author.uid}}}):E({variables:{follow:{owner_uid:null===a||void 0===a?void 0:a.movie.author.uid}}}))};return n.createElement("div",null,n.createElement(m.a,{className:e.header},n.createElement("div",null,n.createElement(d.a,{variant:"subtitle1"},null===a||void 0===a?void 0:a.movie.title),n.createElement(m.a,{display:"flex"},n.createElement(d.a,{variant:"caption",className:e.infoItem},"\u89c2\u770b: TODO"),n.createElement(d.a,{variant:"caption",className:e.infoItem},"\u53d1\u5e03\u65f6\u95f4:"," ",_()(null===a||void 0===a?void 0:a.movie.create_at).format("YYYY-MM-DD HH:mm")))),n.createElement(m.a,{display:"flex",alignItems:"center"},n.createElement(m.a,{className:e.toolBox},n.createElement(x.a,{size:"small"},n.createElement(M.a,null)),n.createElement(d.a,{className:e.toolText},"TODO")),n.createElement(m.a,{className:e.toolBox},n.createElement(x.a,{size:"small"},n.createElement(R.a,null)),n.createElement(d.a,{className:e.toolText},"TODO")),n.createElement(x.a,{size:"small"},n.createElement(L.a,null)))),n.createElement(d.a,{className:e.description,variant:"body2"},null===a||void 0===a?void 0:a.movie.description),n.createElement(m.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},n.createElement(m.a,{display:"flex",alignItems:"center"},n.createElement(v.a,{src:null===a||void 0===a?void 0:a.movie.author.avatar}),n.createElement(m.a,{ml:1},n.createElement(d.a,{variant:"subtitle2"},null===a||void 0===a?void 0:a.movie.author.nickname),n.createElement(d.a,{variant:"caption"},null===a||void 0===a?void 0:a.movie.author.description))),c?n.createElement(w.a,{onClick:g},"\u5df2\u5173\u6ce8"):n.createElement(w.a,{onClick:g},"\u5173\u6ce8")))}var F=a(161),W=a(132),z=a(311),B=a(576),H=a(604);function V(e){var t=e.duration,a=e.currentTime,l=e.onChange,r=function(e){var t=_.a.duration(e,"ms").hours()+"",a=_.a.duration(e,"ms").minutes()+"",n=_.a.duration(e,"ms").seconds()+"";return t.padStart(2,"0")+":"+a.padStart(2,"0")+":"+n.padStart(2,"0")},c=r(t);return n.createElement(m.a,{display:"flex"},n.createElement(H.a,{min:0,max:t,value:a,valueLabelDisplay:"auto",valueLabelFormat:function(e){return r(e)},onChange:function(e,t){l(t)},onMouseMove:function(e){},disabled:0===t}),n.createElement(d.a,null,r(a),"/"),n.createElement(d.a,null,c))}var Y=a(572),A=a(568),J=a(569),q=a(570),G=a(571);function K(e){var t=e.volume,a=e.muted,l=e.onClickMuted,r=e.onVolumeChange,c=n.useRef(null),i=n.useState(!1),o=Object(k.a)(i,2),u=o[0],m=o[1];return n.createElement("span",{ref:c,onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)}},n.createElement(x.a,{onClick:l},a&&n.createElement(A.a,null),!a&&0===t&&n.createElement(J.a,null),!a&&t>0&&t<=.5&&n.createElement(q.a,null),!a&&t>.5&&n.createElement(G.a,null)),n.createElement(Y.a,{placement:"top",open:u,anchorEl:c.current,transition:!0,disablePortal:!0},n.createElement("div",{style:{height:80}},n.createElement(H.a,{step:.01,min:0,max:1,value:t,valueLabelDisplay:"off",orientation:"vertical",onChange:function(e,t){r(t)}}))))}var Q,X,Z,$=a(573),ee=a(574),te=a(575);function ae(e){var t=e.status,a=e.onPlay,l=e.onPause;return n.createElement(m.a,null,(t===Z.Ready||t===Z.Pause)&&n.createElement(x.a,{onClick:a},n.createElement($.a,null)),t===Z.Playing&&n.createElement(x.a,{onClick:l},n.createElement(ee.a,null)),t===Z.Waiting&&n.createElement(x.a,null,n.createElement(te.a,null)))}!function(e){e[e.S075=.75]="S075",e[e.F125=1.25]="F125",e[e.F150=1.5]="F150",e[e.F200=2]="F200"}(Q||(Q={})),function(e){e.M3U8="m3u8",e.NORMAL="normal"}(X||(X={})),function(e){e[e.Loading=0]="Loading",e[e.Ready=1]="Ready",e[e.Waiting=2]="Waiting",e[e.Playing=3]="Playing",e[e.Pause=4]="Pause",e[e.Ended=5]="Ended",e[e.Error=6]="Error"}(Z||(Z={}));var ne=a(285),le=a(276),re=Object(ne.a)((function(e){return Object(le.a)({root:{width:300,minHeight:450,backgroundColor:"#fff"}})}));function ce(){var e=re(),t=n.useRef(null),a=n.useState(!1),l=Object(k.a)(a,2),r=l[0],c=l[1];return n.createElement("div",{className:e.root},n.createElement("div",null,n.createElement(d.a,null,"Speed"),n.createElement("div",{ref:t,style:{background:"red"},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)}},n.createElement(d.a,null,"Normal"),n.createElement(d.a,null,">"),n.createElement(Y.a,{placement:"left-end",open:r,anchorEl:t.current,transition:!0,disablePortal:!0},(function(){return n.createElement(z.a,{onClickAway:function(){return c(!1)}},n.createElement("div",{style:{width:200,height:40,background:"blue"},onClick:function(){return console.log("yi")}},"yi"))})))))}var ie=a(456),oe=a.n(ie),ue=Object(l.a)((function(e){return Object(r.a)({root:{position:"relative",minHeight:700},setting:{},wrap:{position:"absolute",bottom:e.spacing(2),right:e.spacing(2)},position:{position:"absolute",right:0,bottom:"calc(100% + ".concat(e.spacing(1),"px)")}})}));function me(e){var t=e.mediaType,a=e.src,l=e.onDurationChange,r=e.onTimeUpdate,c=e.onProgress,i=e.onVolumeChange,o=e.onLoadedMetadata,u=e.onRateChange,m=e.onWaiting,s=e.onPlaying,d=e.onPause,v=e.onEnded,E=e.onError,f=e.onCanPlay,b=Object(W.a)(e,["mediaType","src","onDurationChange","onTimeUpdate","onProgress","onVolumeChange","onLoadedMetadata","onRateChange","onWaiting","onPlaying","onPause","onEnded","onError","onCanPlay"]),g=n.useRef(null),p=ue(),h=n.useState(!1),O=Object(k.a)(h,2),j=O[0],y=O[1],C=n.useState({status:Z.Loading,volume:1,muted:!1,playbackRate:1,duration:0,currentTime:0,cache:0}),N=Object(k.a)(C,2),T=N[0],P=N[1],w=n.useState(t===X.M3U8?"":a),M=Object(k.a)(w,1)[0];n.useEffect((function(){if(t===X.M3U8&&g.current){var e=new oe.a;e.loadSource(a),e.attachMedia(g.current)}}),[t,a]);return n.createElement("div",{className:p.root},n.createElement("video",Object.assign({},b,{src:M,ref:g,onWaiting:function(e){m&&m(e),P(Object(F.a)(Object(F.a)({},T),{},{status:Z.Waiting}))},onPlaying:function(e){s&&s(e),P(Object(F.a)(Object(F.a)({},T),{},{status:Z.Playing}))},onPause:function(e){d&&d(e),P(Object(F.a)(Object(F.a)({},T),{},{status:Z.Pause}))},onEnded:function(e){v&&v(e),P(Object(F.a)(Object(F.a)({},T),{},{status:Z.Ended}))},onError:function(e){E&&E(e),P(Object(F.a)(Object(F.a)({},T),{},{status:Z.Error}))},onCanPlay:function(e){f&&f(e),P(Object(F.a)(Object(F.a)({},T),{},{status:Z.Ready}))},onLoadedMetadata:function(e){o&&o(e);var t=e.currentTarget,a=t.volume,n=t.muted,l=t.playbackRate;P(Object(F.a)(Object(F.a)({},T),{},{volume:a,muted:n,playbackRate:l}))},onVolumeChange:function(e){i&&i(e),P(Object(F.a)(Object(F.a)({},T),{},{volume:+e.currentTarget.volume,muted:!!e.currentTarget.muted}))},onProgress:function(e){c&&c(e);var t=e.currentTarget,a=t.buffered,n=t.duration;if(a&&0!==a.length){var l=a.end(a.length-1),r=l>n?1e3*n:1e3*l;P(Object(F.a)(Object(F.a)({},T),{},{cache:r}))}},onTimeUpdate:function(e){r&&r(e);var t=1e3*e.currentTarget.currentTime;P(Object(F.a)(Object(F.a)({},T),{},{currentTime:t}))},onDurationChange:function(e){l&&l(e);var t=1e3*e.currentTarget.duration;P(Object(F.a)(Object(F.a)({},T),{},{duration:t}))},onRateChange:function(e){u&&u(e),P(Object(F.a)(Object(F.a)({},T),{},{playbackRate:+e.currentTarget.playbackRate}))}})),n.createElement(ae,{status:T.status,onPlay:function(){g.current&&g.current.play()},onPause:function(){g.current&&g.current.pause()}}),n.createElement(K,{volume:T.volume,muted:T.muted,onClickMuted:function(){return e=!T.muted,void(g.current&&(g.current.muted=e));var e},onVolumeChange:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"small",a=e;"percent"===t&&(a/=100),g.current&&(g.current.volume=a)}(e)}}),n.createElement(V,{duration:T.duration,currentTime:T.currentTime,onChange:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ms",a=e;"ms"===t&&(a/=1e3),g.current&&(g.current.currentTime=a)}(e)}}),n.createElement(z.a,{onClickAway:function(){return y(!1)}},n.createElement("div",{className:p.wrap},n.createElement(x.a,{className:p.setting,size:"small",onClick:function(){return y(!0)}},n.createElement(B.a,null)),j&&n.createElement("div",{className:p.position},n.createElement(ce,null)))))}me.defaultProps={autoPlay:!1,controls:!1,controlsList:"nodownload nofullscreen noremoteplayback",loop:!1,muted:!1,playsInline:!1,width:200,height:100,preload:"auto"};a.d(t,"MoviePlayContext",(function(){return de})),a.d(t,"default",(function(){return ve}));var se=Object(l.a)((function(e){return Object(r.a)({root:{height:"100%"},body:{backgroundColor:e.palette.background.paper,display:"flex",margin:"0 auto"},content:{padding:e.spacing(2,5),borderRight:"1px solid ".concat(e.palette.divider)},aider:{padding:e.spacing(2,4),height:"100%",overflow:"auto"}})})),de=n.createContext(void 0);function ve(){var e=se(),t=Object(N.g)().id,a=Object(C.j)({variables:{id:t}}).data;return console.log(null===a||void 0===a?void 0:a.movie),n.createElement(m.a,{className:e.root},n.createElement(de.Provider,{value:a},n.createElement(s.d,null,n.createElement(s.b,null,n.createElement(u,null))),n.createElement(s.b,{className:e.body},n.createElement(s.c,{className:e.content},n.createElement(U,null),n.createElement(P,null)),n.createElement(s.a,{sticky:!0,className:e.aider},n.createElement(h,null)))))}}}]);
//# sourceMappingURL=11.7ff1876e.chunk.js.map