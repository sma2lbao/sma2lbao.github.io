"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[439],{34826:function(e,n,t){t.d(n,{Y:function(){return h},Z:function(){return k}});var i=t(4962),r=t(6914),o=t(52202),a=t(51955),l=t(2815),c=t(35890),s=t(5197),d=t(16831),u=["url"],x={player:"".concat("ShadowPlayer","-player")},p=(0,l.ZP)(s.Ue)((function(){return(0,o.Z)({},"& .".concat(x.player),{width:"100% !important",height:"100% !important",background:"#000"})})),h=function(e){var n=e.url,t=(0,r.Z)(e,u),o=null===n||void 0===n?void 0:n.toString().endsWith(".m3u8"),l=a.createRef();return(0,d.jsx)(p,{ratio:16/9,children:(0,d.jsx)(c.Z,(0,i.Z)((0,i.Z)({ref:l,className:x.player},t),{},{url:n,config:{file:{forceHLS:o,attributes:{controlsList:"nodownload noremoteplayback",disablePictureInPicture:!0}},youtube:{playerVars:{autoplay:t.playing,modestbranding:1,rel:0,showinfo:0,controls:t.controls},embedOptions:{}}}}))})};h.defaultProps={controls:!0,playing:!0};var f=t(56828),m=t(19305),Z=t(91992),j=t(14934),v=t(88404),g=["youtubeUrl"],b="withThird",y={wrap:"".concat(b,"-wrap"),tool:"".concat(b,"-tool"),grouped:"".concat(b,"-grouped")},C=(0,l.ZP)("div")((function(e){var n,t=e.theme;return n={},(0,o.Z)(n,"&.".concat(y.wrap),{position:"relative",width:"100%"}),(0,o.Z)(n,"& .".concat(y.tool),{position:"absolute",right:t.spacing(1),top:"50%",transform:"translateY(-50%)",display:"flex",flexDirection:"column",justifyContent:"space-between",maxHeight:"50%",overflow:"auto",background:"rgba(0, 0, 0, .1)",backdropFilter:"blur(8px)",color:"#fff",padding:t.spacing(1),borderRadius:t.shape.borderRadius,visibility:"hidden","$wrap:hover &":{visibility:"initial"}}),(0,o.Z)(n,"& .".concat(y.grouped),{border:"none","&:not(:first-child)":{borderRadius:t.shape.borderRadius},"&:first-child":{borderRadius:t.shape.borderRadius}}),n}));function k(e){return function(n){var t=n.youtubeUrl,o=(0,r.Z)(n,g),l=o&&o.url?o.url:void 0,c=a.useState(l),s=(0,f.Z)(c,2),u=s[0],x=s[1],p=a.useState(),h=(0,f.Z)(p,2),b=h[0],k=h[1],w=t&&o&&o.url&&o.url!==t;return a.useEffect((function(){x("youtube"===b?t:l)}),[b,l,t]),(0,d.jsxs)(C,{className:y.wrap,children:[(0,d.jsx)(e,(0,i.Z)((0,i.Z)({},o),{},{url:u})),w&&(0,d.jsx)("div",{className:y.tool,children:(0,d.jsx)(m.Z,{theme:{palette:{type:"dark"}},children:(0,d.jsx)(Z.Z,{classes:{grouped:y.grouped},orientation:"vertical",value:b,exclusive:!0,onChange:function(e,n){k(n)},children:(0,d.jsx)(j.Z,{value:"youtube",children:(0,d.jsx)(v.Z,{})})})})})]})}}},77100:function(e,n,t){var i=t(4962),r=t(56828),o=t(51955),a=t(63157),l=t(77412),c=t(87943),s=t(61318),d=t(83386),u=t(87669),x=t(77969),p=t(16831),h=function(e){var n=o.useState(!0),t=(0,r.Z)(n,2),i=t[0],a=t[1];return(0,p.jsx)("div",{children:(0,p.jsxs)(l.Z,{open:i,onClose:function(){a(!1),e.onCancel&&e.onCancel()},children:[e.title&&(0,p.jsx)(c.Z,{children:e.title}),(0,p.jsx)(s.Z,{children:(0,p.jsx)(d.Z,{children:e.content})}),(0,p.jsxs)(u.Z,{children:[e.cancel&&(0,p.jsx)(x.Z,{onClick:function(){a(!1),e.onCancel&&e.onCancel()},color:"primary",children:e.cancelText||"\u53d6\u6d88"}),(0,p.jsx)(x.Z,{onClick:function(){a(!1),e.onConfirm&&e.onConfirm()},color:"primary",autoFocus:!0,children:e.confirmText||"\u786e\u5b9a"})]})]})})},f={dialog:function(e){return new Promise((function(n,t){var r=document.createElement("div");document.body.appendChild(r);var o=function(){r.remove()};a.render((0,p.jsx)("div",{children:(0,p.jsx)(h,(0,i.Z)((0,i.Z)({},e),{},{onConfirm:function(){n(!0),o()},onCancel:function(){n(!1),o()}}))}),r)}))}};n.Z=f},53326:function(e,n,t){t.d(n,{XU:function(){return Qe},P7:function(){return X},IA:function(){return Le},MJ:function(){return fe}});var i,r=t(52202),o=t(27949),a=t(56828),l=t(51955),c=t(14417),s=t(49941),d=t(85899),u=t(69006),x=t(78643),p=t(32033),h=t(72432),f=t(16480),m=t(55114),Z=t(71641),j=t(19558),v=t(88080),g=t(11604),b=function(e){var n=l.useState(e),t=(0,a.Z)(n,2),i=t[0],r=t[1];return[i,function(e){r(e.target.value)}]},y=t(4962),C=t(6914),k=t(54303),w=t(60889),S=t(77058);!function(e){e[e.NORMAL=0]="NORMAL",e[e.EDITING=1]="EDITING"}(i||(i={}));var R=t(16831),I=["value","onChange","placeholder","variant"],T=function(e){var n=e.value,t=e.onChange,r=e.placeholder,o=e.variant,c=void 0===o?"inherit":o,s=(0,C.Z)(e,I),d=l.useState(i.NORMAL),x=(0,a.Z)(d,2),p=x[0],h=x[1];return(0,R.jsx)(k.Z,{onClickAway:function(){p!==i.NORMAL&&h(i.NORMAL)},children:(0,R.jsx)(w.Z,(0,y.Z)((0,y.Z)({sx:[{root:{color:"inherit"}},function(e){return"inherit"!==c?e.typography[c]:{}}],fullWidth:!0,multiline:!0,value:n,onChange:t,placeholder:r},s),{},{startAdornment:p===i.NORMAL?(0,R.jsx)(S.Z,{position:"start",children:(0,R.jsx)(u.Z,{size:"small",color:"inherit",onClick:function(){return h(i.EDITING)},children:(0,R.jsx)(j.Z,{fontSize:"small"})})}):null,readOnly:p===i.NORMAL,disableUnderline:p===i.NORMAL}))})},N=t(52066),E=t(16833),z=t(51168),B=t(73381),D=t(36353),O=t(46405),L=t(10926),H=t.n(L),P=t(80808),A=t.n(P),M="sma2lbao-1305700162",F="ap-hongkong",U=function(){var e=(0,O.iT)({onError:function(e){console.error(e)}}),n=(0,a.Z)(e,1)[0],t=new(A())({getAuthorization:function(e,t){return(0,D.Z)((0,B.Z)().mark((function e(){return(0,B.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n().then((function(e){var n=e.data,i=null===n||void 0===n?void 0:n.get_cos_credential;t({TmpSecretId:i.credentials.tmpSecretId,TmpSecretKey:i.credentials.tmpSecretKey,SecurityToken:i.credentials.sessionToken,StartTime:i.startTime,ExpiredTime:i.expiredTime})}));case 1:case"end":return e.stop()}}),e)})))()}}),i=function(){var e=(0,D.Z)((0,B.Z)().mark((function e(n){var i,r,o;return(0,B.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Date.now(),r=H()(i).format("YYYY-MM-DD"),e.next=4,t.uploadFile({Bucket:M,Region:F,Key:"/upload/".concat(r,"/").concat(i),Body:n});case 4:return o=e.sent,console.log(o),e.abrupt("return","".concat(o.Location.replace("".concat(M,".cos.").concat(F,".myqcloud.com"),"https://sma1lbao.cn")));case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return{uploadFile:i}},Y=function(e){var n=e.onComplete,t=e.onError,i=e.children,r=e.component,o=e.custom,s=e.title,d=e.maxSize,u=(0,z.Ds)().enqueueSnackbar,x=U().uploadFile,p=(0,l.useState)(!1),h=(0,a.Z)(p,2),f=h[0],m=h[1],Z=l.createRef(),j=r||"div";return(0,R.jsxs)(j,{role:"button",onClick:function(){var e;f||(null===(e=Z.current)||void 0===e||e.click())},children:[(0,R.jsx)("input",{ref:Z,style:{display:"none"},type:"file",accept:"*",onChange:function(e){var i=e.currentTarget,r=i.validity,o=i.files,a=null===o||void 0===o?void 0:o[0];a&&d&&a.size>1024*d*1024?u("\u8d85\u51fa\u5c3a\u5bf8\u9650\u5236",{variant:"warning"}):r.valid&&(m(!0),x(a).then((function(e){n&&n(e)})).catch((function(e){t&&t(e.message)})).finally((function(){m(!1)})))}}),o?(0,R.jsx)(R.Fragment,{children:i}):(0,R.jsxs)(c.Z,{sx:function(n){var t,i;return{display:"inline-flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:null!==(t=e.width)&&void 0!==t?t:"100%",height:null!==(i=e.height)&&void 0!==i?i:"100%",color:n.palette.text.secondary,flex:1}},children:[(0,R.jsx)("div",{children:(0,R.jsx)(E.Z,{})}),(0,R.jsx)(N.Z,{variant:"h6",children:f?"\u4e0a\u4f20\u4e2d...":s})]})]})};Y.defaultProps={custom:!1,title:"\u70b9\u51fb\u4e0a\u4f20",maxSize:200};var _=t(77412),q=t(59376),K=t(40192),W=t(27582),V=t(91446),G=t(92620),$=t(87940),J=function(e){var n=l.useState(!1),t=(0,a.Z)(n,2),i=t[0],r=t[1],o=l.useState(0),s=(0,a.Z)(o,2),d=s[0],x=s[1],p=l.useState(""),h=(0,a.Z)(p,2),f=h[0],m=h[1];return(0,R.jsxs)("div",{children:[(0,R.jsx)("div",{onClick:function(){return r(!0)},children:e.custom?(0,R.jsx)(R.Fragment,{children:e.children}):(0,R.jsxs)(c.Z,{sx:function(e){return{display:"inline-flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"100%",height:"100%",color:e.palette.text.secondary,flex:1}},children:[(0,R.jsx)("div",{children:(0,R.jsx)(E.Z,{})}),(0,R.jsx)(N.Z,{variant:"h6",children:e.title})]})}),(0,R.jsx)(_.Z,{onClose:function(){return r(!1)},open:i,children:(0,R.jsxs)(c.Z,{padding:2,children:[(0,R.jsxs)(q.Z,{value:d,onChange:function(e,n){return x(n)},children:[(0,R.jsx)(K.Z,{label:"\u672c\u5730\u4e0a\u4f20"}),(0,R.jsx)(K.Z,{label:"\u7c98\u8d34\u94fe\u63a5"})]}),(0,R.jsxs)(c.Z,{sx:function(e){return{marginTop:e.spacing(2)}},children:[(0,R.jsx)("div",{hidden:0!==d,children:(0,R.jsx)(Y,{onComplete:function(n){e.onComplete&&e.onComplete(n),r(!1)},onError:e.onError})}),(0,R.jsx)("div",{hidden:1!==d,children:(0,R.jsxs)(W.Z,{sx:{display:"flex",alignItems:"center"},component:"form",children:[(0,R.jsx)(u.Z,{disabled:!0,children:(0,R.jsx)(G.Z,{})}),(0,R.jsx)(V.ZP,{value:f,onChange:function(e){m(e.target.value)},fullWidth:!0,placeholder:"\u94fe\u63a5\u5730\u5740"}),(0,R.jsx)(u.Z,{onClick:function(){e.onComplete&&e.onComplete(f),r(!1)},color:"primary",disabled:!f,children:(0,R.jsx)($.Z,{})})]})})]})]})})]})};J.defaultProps={custom:!1,title:"\u70b9\u51fb\u4e0a\u4f20"};var X=l.forwardRef((function(e,n){var t,i=l.useState((null===(t=e.credits)||void 0===t?void 0:t.map((function(e){return{avatar:e.avatar,name:e.name,description:e.description}})))||[]),b=(0,a.Z)(i,2),y=b[0],C=b[1];l.useImperativeHandle(n,(function(){return{credits:y}}));var k=function(e){var n=e.target,t=n.dataset,i=n.value;if(t.idx&&t.key){var a=y[+t.idx];Object.assign(a,(0,r.Z)({},t.key,i)),C((0,o.Z)(y))}};return(0,R.jsx)(c.Z,{sx:function(e){return{backgroundColor:e.palette.background.paper}},children:(0,R.jsx)(s.Z,{subheader:(0,R.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:["\u6f14\u804c\u8868",(0,R.jsx)(u.Z,{onClick:function(){C([].concat((0,o.Z)(y),[{avatar:"",name:"",description:""}]))},size:"small",children:(0,R.jsx)(Z.Z,{fontSize:"small"})})]}),children:y.length?(0,R.jsx)(R.Fragment,{children:y.map((function(e,n){return(0,R.jsxs)(x.ZP,{children:[(0,R.jsx)(p.Z,{children:(0,R.jsx)(J,{custom:!0,onComplete:function(e){return function(e,n){var t=y[e];Object.assign(t,{avatar:n}),C((0,o.Z)(y))}(n,e)},children:(0,R.jsx)(h.Z,{overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:(0,R.jsx)(j.Z,{fontSize:"small"}),children:(0,R.jsx)(f.Z,{src:e.avatar})})})}),(0,R.jsxs)("div",{children:[(0,R.jsx)(T,{inputProps:{"data-idx":n,"data-key":"name"},value:e.name,onChange:k,placeholder:"\u8bf7\u8f93\u5165\u540d\u5b57",maxRows:1}),(0,R.jsx)(T,{inputProps:{"data-idx":n,"data-key":"description"},value:e.description,onChange:k,placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0",maxRows:1})]}),(0,R.jsx)(m.Z,{children:(0,R.jsx)(u.Z,{onClick:function(){return function(e){y.splice(e,1),C((0,o.Z)(y))}(n)},children:(0,R.jsx)(v.Z,{})})})]},n)}))}):(0,R.jsx)(c.Z,{justifyContent:"center",display:"flex",children:(0,R.jsx)(g.Vm,{subtitle:"\u65b0\u589e\u6f14\u804c\u5458"})})})})})),Q=t(2815),ee=t(50518),ne=t(7607),te=t(66530),ie=t(23921),re=t(49742),oe=t(55995),ae=t(22422),le=t(47204),ce=t(87455),se=t(4304),de=t(5197),ue="EditTop",xe={root:"".concat(ue,"-root"),aider:"".concat(ue,"-aider"),aiderContent:"".concat(ue,"-aiderContent"),main:"".concat(ue,"-main"),mainContent:"".concat(ue,"-mainContent"),poster:"".concat(ue,"-poster"),posterTool:"".concat(ue,"-posterTool")},pe=(0,Q.ZP)("div")((function(e){var n,t=e.theme;return n={},(0,r.Z)(n,"&.".concat(xe.root),{position:"relative",width:"100%"}),(0,r.Z)(n,"& .".concat(xe.aider),{position:"absolute",left:0,top:0,bottom:0,width:"45%",padding:t.spacing(8)}),(0,r.Z)(n,"& .".concat(xe.aiderContent),{width:"50%",padding:t.spacing(1),borderRadius:t.shape.borderRadius,maxHeight:"100%",background:"rgba(0, 0, 0, .1)",backdropFilter:"blur(8px)",overflow:"auto"}),(0,r.Z)(n,"& .".concat(xe.main),{position:"absolute",top:"50%",right:0,width:"50%",padding:t.spacing(0,8),transform:"translate(0, -50%)",color:"#fff",display:"flex",flexDirection:"column"}),(0,r.Z)(n,"& .".concat(xe.mainContent),{background:"rgba(0, 0, 0, .1)",backdropFilter:"blur(8px)",padding:t.spacing(4),borderRadius:t.shape.borderRadius}),(0,r.Z)(n,"& .".concat(xe.poster),{position:"relative"}),(0,r.Z)(n,"& .".concat(xe.posterTool),{display:"flex",justifyContent:"space-between",alignItems:"center",visibility:"hidden",position:"absolute",padding:t.spacing(1),top:0,left:0,width:"100%",color:"#fff","$poster:hover &":{visibility:"initial"}}),n})),he=(0,se.bH)(ce.ZP),fe=l.forwardRef((function(e,n){var t=l.useState(0),i=(0,a.Z)(t,2),r=i[0],s=i[1],d=b(e.title||""),x=(0,a.Z)(d,2),p=x[0],h=x[1],f=b(e.sub_title||""),m=(0,a.Z)(f,2),Z=m[0],j=m[1],g=b(e.description||""),y=(0,a.Z)(g,2),C=y[0],k=y[1],w=l.useState(e.posters||[]),S=(0,a.Z)(w,2),I=S[0],N=S[1],E=l.useState(e.cover||""),z=(0,a.Z)(E,2),B=z[0],D=z[1];l.useEffect((function(){I&&I.length>0?B&&I.includes(B)||D(I[0]):D("")}),[B,I]),l.useImperativeHandle(n,(function(){return{title:p,sub_title:Z,description:C,posters:I,cover:B}}));var O=function(e){if(window.confirm("delete?")){var n=e.currentTarget.dataset;n.idx&&(I.splice(+n.idx,1),N((0,o.Z)(I)))}};return(0,R.jsxs)(pe,{className:xe.root,children:[I.length?(0,R.jsx)(he,{onChangeIndex:function(e){return s(e)},index:r,children:I.map((function(e,n){return(0,R.jsx)(ee.E,{aspectRatio:16/9,src:e},n)}))}):(0,R.jsx)(ee.E,{aspectRatio:16/9,src:ne.OD}),(0,R.jsx)("div",{className:xe.aider,children:(0,R.jsx)("div",{className:xe.aiderContent,children:(0,R.jsxs)(te.Z,{rowHeight:"auto",cols:1,children:[I.map((function(e,n){return(0,R.jsxs)(ie.Z,{cols:1,className:xe.poster,children:[(0,R.jsx)(ee.E,{aspectRatio:16/9,src:e,alt:"poster"+n}),(0,R.jsxs)("div",{className:xe.posterTool,children:[(0,R.jsx)("div",{children:(0,R.jsx)(re.Z,{TransitionComponent:oe.Z,title:"\u8bbe\u6210\u5c01\u9762",placement:"bottom",arrow:!0,children:(0,R.jsx)(ae.Z,{size:"small",color:"primary",checked:B===e,onChange:function(){return function(e){D(I[e])}(n)}})})}),(0,R.jsx)("div",{"data-idx":n,onClick:O,children:(0,R.jsx)(re.Z,{TransitionComponent:oe.Z,title:"\u5220\u9664",placement:"bottom",arrow:!0,children:(0,R.jsx)(u.Z,{size:"medium",children:(0,R.jsx)(v.Z,{fontSize:"small"})})})})]})]},e)})),(0,R.jsx)(ie.Z,{cols:1,children:(0,R.jsx)(de.Ue,{ratio:16/9,children:(0,R.jsx)(c.Z,{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",children:(0,R.jsx)(J,{onComplete:function(e){e&&!I.includes(e)&&N([].concat((0,o.Z)(I),[e]))}})})})})]})})}),(0,R.jsx)("div",{className:xe.main,children:(0,R.jsxs)("div",{className:xe.mainContent,children:[(0,R.jsx)(T,{variant:"h4",value:p,onChange:h,placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"}),(0,R.jsx)(T,{variant:"subtitle1",value:Z,onChange:j,placeholder:"\u8bf7\u8f93\u5165\u526f\u6807\u9898"}),(0,R.jsx)(T,{variant:"body2",value:C,onChange:k,placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0..."}),(0,R.jsx)(c.Z,{mt:3,children:(0,R.jsx)(u.Z,{color:"inherit",disabled:!0,children:(0,R.jsx)(le.Z,{fontSize:"large"})})})]})})]})})),me=t(77969),Ze=t(6717),je=t(95394),ve=t(98669),ge=t(18103),be=t(66648),ye=t(40663),Ce=t(78175),ke=t(37469),we=t(34826),Se=t(48547),Re=t(28773),Ie=t(8216),Te=t(34635),Ne="EditInfo",Ee={root:"".concat(Ne,"-root"),header:"".concat(Ne,"-header"),infoItem:"".concat(Ne,"-infoItem"),toolBox:"".concat(Ne,"-toolBox"),toolText:"".concat(Ne,"-toolText"),description:"".concat(Ne,"-description")},ze=(0,Q.ZP)("div")((function(e){var n,t=e.theme;return n={},(0,r.Z)(n,"& .".concat(Ee.root),{}),(0,r.Z)(n,"& .".concat(Ee.header),{display:"flex",justifyContent:"space-between",marginBottom:t.spacing(1)}),(0,r.Z)(n,"& .".concat(Ee.infoItem),{"& + &":{marginLeft:t.spacing(1)}}),(0,r.Z)(n,"& .".concat(Ee.toolBox),{display:"flex",alignItems:"center",marginRight:t.spacing(2)}),(0,r.Z)(n,"& .".concat(Ee.toolText),{marginLeft:t.spacing(.5)}),(0,r.Z)(n,"& .".concat(Ee.description),{marginBottom:t.spacing(1)}),n})),Be=l.forwardRef((function(e,n){var t=b(e.name||""),i=(0,a.Z)(t,2),r=i[0],o=i[1],s=b(e.sub_name||""),d=(0,a.Z)(s,2),x=d[0],p=d[1],h=b(e.description||""),m=(0,a.Z)(h,2),Z=m[0],j=m[1],v=(0,Te.a)().member;return l.useImperativeHandle(n,(function(){return{name:r,sub_name:x,description:Z}})),(0,R.jsxs)(ze,{children:[(0,R.jsxs)(c.Z,{className:Ee.header,children:[(0,R.jsxs)("div",{children:[(0,R.jsxs)(N.Z,{variant:"subtitle1",children:[(0,R.jsx)(T,{value:r,onChange:o,placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"}),(0,R.jsx)(T,{value:x,onChange:p,placeholder:"\u8bf7\u8f93\u5165\u526f\u6807\u9898"})]}),(0,R.jsx)(c.Z,{display:"flex",children:(0,R.jsxs)(N.Z,{variant:"caption",className:Ee.infoItem,children:["\u53d1\u5e03\u65f6\u95f4: ",H()(Date.now()).format("YYYY-MM-DD HH:mm")]})})]}),(0,R.jsxs)(c.Z,{display:"flex",alignItems:"center",children:[(0,R.jsxs)(c.Z,{className:Ee.toolBox,children:[(0,R.jsx)(u.Z,{size:"small",children:(0,R.jsx)(Se.Z,{fontSize:"small"})}),(0,R.jsx)(N.Z,{className:Ee.toolText,children:"--"})]}),(0,R.jsxs)(c.Z,{className:Ee.toolBox,children:[(0,R.jsx)(u.Z,{size:"small",children:(0,R.jsx)(Re.Z,{fontSize:"small"})}),(0,R.jsx)(N.Z,{className:Ee.toolText,children:"--"})]}),(0,R.jsx)(u.Z,{size:"small",children:(0,R.jsx)(Ie.Z,{fontSize:"small"})})]})]}),(0,R.jsx)(N.Z,{className:Ee.description,variant:"body2",children:(0,R.jsx)(T,{variant:"body2",value:Z,onChange:j,placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0..."})}),(0,R.jsx)(c.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",children:(0,R.jsxs)(c.Z,{display:"flex",alignItems:"center",children:[(0,R.jsx)(f.Z,{src:null===v||void 0===v?void 0:v.avatar}),(0,R.jsxs)(c.Z,{ml:1,children:[(0,R.jsx)(N.Z,{variant:"subtitle2",children:null===v||void 0===v?void 0:v.nickname}),(0,R.jsx)(N.Z,{variant:"caption",children:null===v||void 0===v?void 0:v.description})]})]})})]})})),De=function(e){var n=e.onSave,t=e.onCancel,i=(0,je.Z)(),r=l.useState(!1),o=(0,a.Z)(r,2),s=o[0],d=o[1],u=l.useState(""),x=(0,a.Z)(u,2),p=x[0],h=x[1],f=l.useState(""),m=(0,a.Z)(f,2),Z=m[0],j=m[1],v=l.createRef();l.useEffect((function(){d(e.open)}),[e.open]);var b=function(){d(!1),t&&t(),d(!1),h(""),j("")};return(0,R.jsx)(c.Z,{children:(0,R.jsxs)(_.Z,{open:s,fullScreen:!0,onClose:b,children:[(0,R.jsx)(ve.Z,{position:"fixed",sx:{boxShadow:i.shadows[0]},children:(0,R.jsxs)(ge.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,R.jsx)(me.Z,{onClick:function(){var e,t,i;n&&n({url:p,cover:Z,name:null===(e=v.current)||void 0===e?void 0:e.name,sub_name:null===(t=v.current)||void 0===t?void 0:t.sub_name,description:null===(i=v.current)||void 0===i?void 0:i.description}),b()},color:"inherit",children:"\u4fdd\u5b58"}),(0,R.jsx)(me.Z,{onClick:b,color:"inherit",children:"\u53d6\u6d88"})]})}),(0,R.jsxs)(c.Z,{sx:{height:"100%"},children:[(0,R.jsx)(ge.Z,{}),(0,R.jsx)(ye.IT,{children:(0,R.jsx)(ye.A1,{children:(0,R.jsxs)(c.Z,{sx:{width:"100%",position:"relative"},children:[p?(0,R.jsx)(we.Y,{url:p,light:Z||ne.OD}):(0,R.jsx)(ee.E,{aspectRatio:16/9,src:Z||ne.OD}),(0,R.jsx)(J,{custom:!0,onComplete:function(e){e&&j(e)},children:(0,R.jsx)(be.Z,{color:Z?"primary":"default",size:"medium",sx:{position:"absolute",left:i.spacing(4),bottom:i.spacing(4)},children:(0,R.jsx)(Ce.Z,{})})}),(0,R.jsx)(J,{custom:!0,onComplete:function(e){e&&h(e)},children:(0,R.jsx)(be.Z,{color:p?"primary":"default",size:"medium",sx:{position:"absolute",right:i.spacing(4),bottom:i.spacing(4)},children:(0,R.jsx)(ke.Z,{})})})]})})}),(0,R.jsxs)(ye.A1,{sx:{backgroundColor:i.palette.background.paper,display:"flex",margin:"0 auto"},children:[(0,R.jsx)(ye.BW,{sx:{padding:i.spacing(2,5),borderRight:"1px solid ".concat(i.palette.divider)},children:(0,R.jsx)(Be,{ref:v})}),(0,R.jsx)(ye._9,{sticky:!0,sx:{padding:i.spacing(2,4),height:"100%",overflow:"auto"},children:(0,R.jsx)(g.Vm,{subtitle:"\u8bc4\u8bba\u533a",sx:{width:"100%"}})})]})]})]})})},Oe=(0,Ze.T4)(Ze.sV),Le=l.forwardRef((function(e,n){var t,i=l.useState(!1),r=(0,a.Z)(i,2),s=r[0],d=r[1],u=l.useState((null===(t=e.mediums)||void 0===t?void 0:t.map((function(e){return(0,y.Z)((0,y.Z)({},e),{},{name:e.name||""})})))||[]),x=(0,a.Z)(u,2),p=x[0],h=x[1];l.useImperativeHandle(n,(function(){return{mediums:p}}));return(0,R.jsxs)(c.Z,{children:[(0,R.jsx)(c.Z,{sx:function(e){return{padding:e.spacing(1,0)}},children:(0,R.jsx)(c.Z,{sx:function(e){return{padding:e.spacing(2,0)}},children:(0,R.jsxs)(te.Z,{rowHeight:"auto",cols:4,children:[p.map((function(e,n){return(0,R.jsx)(ie.Z,{cols:1,children:(0,R.jsx)(Oe,(0,y.Z)((0,y.Z)({},e),{},{onDelete:function(){return function(e){var n=p.findIndex((function(n){return n===e}));-1!==n&&(p.splice(n,1),h((0,o.Z)(p)))}(e)}}))},n)})),(0,R.jsx)(me.Z,{onClick:function(){return d(!0)},children:(0,R.jsx)(g.Vm,{subtitle:"\u65b0\u589e\u5a92\u4f53\u8d44\u6e90"})})]})})}),(0,R.jsx)(De,{open:s,onSave:function(e){h([].concat((0,o.Z)(p),[e]))},onCancel:function(){return d(!1)}})]})})),He=t(51661),Pe=t(57812),Ae=(t(38957),t(91992)),Me=t(14934),Fe=t(56305),Ue=t(1204),Ye=t(98824),_e=t(45134),qe=t(66629),Ke=t(46575),We=t(55892),Ve=t(39370),Ge=[{label:"Blockquote",style:"blockquote",value:"blockquote",icon:(0,R.jsx)(Ue.Z,{})},{label:"UL",style:"unordered-list-item",value:"ul",icon:(0,R.jsx)(Ye.Z,{})},{label:"OL",style:"ordered-list-item",value:"ol",icon:(0,R.jsx)(_e.Z,{})},{label:"CodeBlock",style:"code-block",value:"codeblock",icon:(0,R.jsx)(qe.Z,{})}],$e=[{label:"Bold",style:"BOLD",value:"bold",icon:(0,R.jsx)(Ke.Z,{})},{label:"Italic",style:"ITALIC",value:"italic",icon:(0,R.jsx)(We.Z,{})},{label:"Underline",style:"UNDERLINE",value:"underline",icon:(0,R.jsx)(Ve.Z,{})}],Je=function(e){var n=l.useState([]),t=(0,a.Z)(n,2),i=t[0],r=t[1],o=l.useState(),c=(0,a.Z)(o,2),s=c[0],d=c[1],u=e.toggleBlockType,x=e.toggleInlineStyle;return(0,R.jsxs)(W.Z,{elevation:0,sx:function(e){return{display:"inline-flex",border:"1px solid ".concat(e.palette.divider),flexWrap:"wrap"}},children:[(0,R.jsx)(Ae.Z,{value:i,onChange:function(e,n){var t=e.currentTarget.dataset.style;t&&x(t),r(n)},sx:{grouped:function(e){return{margin:e.spacing(.5),border:"none","&:not(:first-child)":{borderRadius:e.shape.borderRadius},"&:first-child":{borderRadius:e.shape.borderRadius}}}},children:$e.map((function(e){return(0,R.jsx)(Me.Z,{"data-style":e.style,value:e.value,children:e.icon},e.value)}))}),(0,R.jsx)(Fe.Z,{flexItem:!0,orientation:"vertical",sx:function(e){return{margin:e.spacing(1,.5)}}}),(0,R.jsx)(Ae.Z,{value:s,exclusive:!0,onChange:function(e,n){var t=e.currentTarget.dataset.style;t&&u(t),d(n)},children:Ge.map((function(e){return(0,R.jsx)(Me.Z,{"data-style":e.style,value:e.value,children:e.icon},e.value)}))})]})},Xe=l.forwardRef((function(e,n){var t=e.html,i=e.onBlur,r=e.placeholder,o=l.useState((function(){return t?He.EditorState.createWithContent((0,Pe.h4)(t)):He.EditorState.createEmpty()})),s=(0,a.Z)(o,2),d=s[0],u=s[1];l.useImperativeHandle(n,(function(){return{getHtmlString:function(){return(0,Pe.cn)(d.getCurrentContent())}}}));return(0,R.jsxs)(c.Z,{children:[(0,R.jsx)(Je,{editorState:d,toggleBlockType:function(e){u(He.RichUtils.toggleBlockType(d,e))},toggleInlineStyle:function(e){u(He.RichUtils.toggleInlineStyle(d,e))}}),(0,R.jsx)(c.Z,{sx:function(e){return{minHeight:220,border:"1px solid ".concat(e.palette.divider)}},children:(0,R.jsx)(He.Editor,{blockStyleFn:function(e){return"blockquote"===e.getType()?"RichEditor-blockquote":""},customStyleMap:{CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}},editorState:d,handleKeyCommand:function(e,n){var t=He.RichUtils.handleKeyCommand(n,e);return t?(u(t),"handled"):"not-handled"},keyBindingFn:function(e){return(0,He.getDefaultKeyBinding)(e)},onChange:u,onBlur:i,placeholder:r,spellCheck:!0})})]})})),Qe=l.forwardRef((function(e,n){var t=l.useState(e.about||""),i=(0,a.Z)(t,2),r=i[0],o=i[1];l.useImperativeHandle(n,(function(){return{about:r}}));var c=l.createRef();return(0,R.jsx)("div",{children:(0,R.jsx)(Xe,{ref:c,onBlur:function(){var e,n=null===(e=c.current)||void 0===e?void 0:e.getHtmlString();o(n)}})})}))}}]);
//# sourceMappingURL=439.f22412db.chunk.js.map