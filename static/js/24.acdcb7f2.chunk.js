(this.webpackJsonpmiss=this.webpackJsonpmiss||[]).push([[24],{655:function(e,t,a){"use strict";a.r(t);var n=a(21),l=a(0),o=a.n(l),r=a(225),c=a(221),i=a(440),d=a(442),u=a(393),s=a(73),m=Object(r.a)((function(e){return Object(c.a)({root:{height:"100%"},default:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:e.spacing(5),color:e.palette.text.secondary}})})),v=function(e){var t=m(),a=e.html;return l.createElement(i.a,{className:t.root},a?l.createElement("div",{dangerouslySetInnerHTML:{__html:a}}):l.createElement(s.a,{title:"\u8be5\u8d44\u6e90\u6ca1\u6709\u4ecb\u7ecd"}))},E=a(372),b=a(391),h=a(319),p=a(383),g=a(446),f=a(384),O=Object(r.a)((function(e){return Object(c.a)({root:{backgroundColor:e.palette.background.paper}})})),w=function(){var e,t,a=O(),n=l.useContext(Q);return l.createElement(i.a,{className:a.root},l.createElement(E.a,{subheader:l.createElement(b.a,null,"\u6f14\u804c\u8868")},(null===n||void 0===n||null===(e=n.shadow)||void 0===e||null===(t=e.credits)||void 0===t?void 0:t.length)?l.createElement(l.Fragment,null,n.shadow.credits.map((function(e,t){return l.createElement(h.a,{key:t},l.createElement(p.a,null,l.createElement(g.a,{src:e.avatar})),l.createElement(f.a,{primary:e.name,secondary:e.description}))}))):l.createElement("div",null,l.createElement(s.a,{title:"\u6682\u65e0\u6f14\u804c\u5458\u4fe1\u606f"}))))},j=a(386),x=a(387),y=a(81),k=a(34),C=Object(r.a)((function(e){return Object(c.a)({root:{padding:e.spacing(1,0)},box:{padding:e.spacing(2,0),"& + &":{borderTop:"1px solid ".concat(e.palette.divider)}}})})),N=function(){var e,t=C(),a=Object(k.c)(),n=o.a.useContext(Q);return o.a.createElement(i.a,{className:t.root},o.a.createElement(i.a,{className:t.box},(null===n||void 0===n||null===(e=n.shadow.sources)||void 0===e?void 0:e.length)?o.a.createElement(j.a,{cellHeight:"auto",cols:4},n.shadow.sources.map((function(e,t){return o.a.createElement(x.a,{key:t,cols:1},o.a.createElement(y.b,Object.assign({},e,{onClickRoot:function(){return t=e.id,void a.gotoShadowPlay(null===n||void 0===n?void 0:n.shadow.id,{medium_id:t});var t}})))}))):o.a.createElement("div",null,o.a.createElement(s.b,{title:"\u6682\u65e0\u76f8\u5173\u8d44\u6e90"}))))},_=a(57),I=a(25),R=a(89),T=Object(r.a)((function(e){return Object(c.a)({root:{padding:e.spacing(2,0)}})})),S=function(){var e,t=T(),a=Object(I.h)().id,n=Object(k.c)(),o=Object(_.y)({variables:{shadow_id:a}}),r=o.data,c=o.error,d=o.loading;return l.createElement(i.a,{className:t.root},(null===r||void 0===r||null===(e=r.shadow_urges_by_shadow)||void 0===e?void 0:e.length)?l.createElement(j.a,{cellHeight:"auto",cols:4},null===r||void 0===r?void 0:r.shadow_urges_by_shadow.map((function(e,t){return l.createElement(x.a,{key:t},l.createElement(y.a,Object.assign({},e,{onClickRoot:function(){return n.gotoShadow(e.id)},onClickAuthor:function(){return n.gotoProfile(e.author.username)}})))}))):l.createElement("div",null,l.createElement(R.a,{loading:d,error:!!c,placeholderTitle:"\u6682\u65e0\u76f8\u5173\u63a8\u8350"})))},A=a(92),F=a(51),B=a(65),P=a(366),L=a(392),D=a(168),H=a.n(D),U=a(169),V=Object(U.autoPlay)(H.a),J=Object(r.a)((function(e){return Object(c.a)({root:{position:"relative",width:"100%"},main:{position:"absolute",top:"50%",right:0,width:"50%",padding:e.spacing(0,8),transform:"translate(0, -50%)",color:"#fff",display:"flex",flexDirection:"column"},mainContent:{background:"rgba(0, 0, 0, .1)",backdropFilter:"blur(8px)",padding:e.spacing(4),borderRadius:e.shape.borderRadius}})})),z=function(){var e,t=l.useContext(Q),a=J(),o=Object(k.c)(),r=l.useState(0),c=Object(n.a)(r,2),d=c[0],u=c[1];return l.createElement("div",{className:a.root},t&&t.shadow&&(null===(e=t.shadow.posters)||void 0===e?void 0:e.length)?l.createElement(V,{onChangeIndex:function(e){return u(e)},index:d},t.shadow.posters.map((function(e,t){return l.createElement(A.a,{key:t,aspectRatio:16/9,src:e})}))):l.createElement(A.a,{aspectRatio:16/9,src:F.e}),l.createElement("div",{className:a.main},l.createElement("div",{className:a.mainContent},l.createElement(B.a,{gutterBottom:!0,variant:"h4",component:"div"},null===t||void 0===t?void 0:t.shadow.title),l.createElement(B.a,{gutterBottom:!0,variant:"subtitle1",component:"div"},null===t||void 0===t?void 0:t.shadow.sub_title),l.createElement(B.a,{variant:"body2",component:"div"},null===t||void 0===t?void 0:t.shadow.description),l.createElement(i.a,{mt:3},l.createElement(P.a,{color:"inherit",onClick:function(){o.gotoShadowPlay(null===t||void 0===t?void 0:t.shadow.id)}},l.createElement(L.a,{fontSize:"large"}))))))},M=a(100),q=a(126);a.d(t,"ShadowContext",(function(){return Q})),a.d(t,"default",(function(){return W}));var G,K=Object(r.a)((function(e){return Object(c.a)({main:{display:"flex",flexDirection:"column",backgroundColor:e.palette.background.paper,padding:e.spacing(1,6),borderRight:"1px solid ".concat(e.palette.divider)},content:{flex:1}})})),Q=l.createContext(void 0);function W(){var e,t=Object(I.h)().id,a=Object(_.x)({variables:{id:t}}),o=a.data,r=a.error,c=a.loading,s=K(),m=l.useState(G.INFO),E=Object(n.a)(m,2),b=E[0],h=E[1];return l.createElement(i.a,null,l.createElement(q.a,null,l.createElement("title",null,null===o||void 0===o?void 0:o.shadow.title)),(null===o||void 0===o?void 0:o.shadow)?l.createElement(Q.Provider,{value:o},l.createElement(M.d,null,l.createElement(M.b,null,l.createElement(z,null))),l.createElement(M.b,null,l.createElement(M.c,{className:s.main},l.createElement(d.a,{value:b,onChange:function(e,t){return h(t)}},l.createElement(u.a,{label:"\u4fe1\u606f"}),l.createElement(u.a,{label:"\u76f8\u5173\u63a8\u8350"}),l.createElement(u.a,{label:"\u5173\u4e8e"})),l.createElement("div",{className:s.content},l.createElement("div",{hidden:b!==G.INFO},l.createElement(N,null)),l.createElement("div",{hidden:b!==G.RELATIVE},l.createElement(S,null)),l.createElement("div",{hidden:b!==G.ABOUT},l.createElement(v,{html:(null===o||void 0===o||null===(e=o.shadow)||void 0===e?void 0:e.about)||""})))),l.createElement(M.a,null,l.createElement(w,null)))):l.createElement(R.a,{error:!!r,loading:c}))}!function(e){e[e.INFO=0]="INFO",e[e.RELATIVE=1]="RELATIVE",e[e.ABOUT=2]="ABOUT"}(G||(G={}))}}]);
//# sourceMappingURL=24.acdcb7f2.chunk.js.map