(this.webpackJsonpmiss=this.webpackJsonpmiss||[]).push([[13],{425:function(e,a,t){"use strict";t.r(a);var n=t(50),l=t(0),r=t(418),o=t(328),c=t(312),i=t(99),s=t(81),u=t(47),m=t(414);function d(){var e=Object(u.a)(),a=Object(s.g)(),t=a.data,d=a.loading;console.log(t,d);var E=Object(i.b)().enqueueSnackbar,b=Object(s.c)({onCompleted:function(a){E("\u767b\u5f55\u6210\u529f"),localStorage.setItem("access_token",null===a||void 0===a?void 0:a.login),e.gotoHome()},onError:function(e){console.log(e)}}),p=Object(n.a)(b,2),f=p[0],v=p[1].loading,g=l.useState(""),_=Object(n.a)(g,2),A=_[0],h=_[1],P=l.useState(""),C=Object(n.a)(P,2),R=C[0],O=C[1];return l.createElement("div",null,l.createElement("form",null,l.createElement(r.a,{id:"username",label:"\u7528\u6237\u540d",value:A,onChange:function(e){return h(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",fullWidth:!0,margin:"normal"}),l.createElement(r.a,{id:"password",label:"\u5bc6\u7801",type:"password",value:R,onChange:function(e){return O(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",fullWidth:!0,margin:"normal"}),l.createElement(o.a,{variant:"contained",onClick:function(){f({variables:{username:A,password:R}})},disabled:v},v?"\u767b\u5f55\u4e2d":"\u767b\u5f55")),null===t||void 0===t?void 0:t.platform_auth_way.map((function(a,t){return l.createElement("div",{key:t},l.createElement(c.a,{onClick:function(){return function(a,t){var n=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_FIREBASE_MEASUREMENTID:"G-8DLV2JEGMF",REACT_APP_FIREBASE_STORAGEBUCKET:"miss-806b9.appspot.com",REACT_APP_FIREBASE_AUTHDOMAIN:"miss-806b9.firebaseapp.com",REACT_APP_FIREBASE_MESSAGINGSENDERID:"235168205247",REACT_APP_FIREBASE_PROJECTID:"miss-806b9",REACT_APP_FIREBASE_APPID:"1:235168205247:web:205b138db89e2819cdf90a",REACT_APP_SENTRY_DSN:"https://dd33ce2bcf8742db81848a0a8809cca8@o394912.ingest.sentry.io/5245935",REACT_APP_FIREBASE_APIKEY:"AIzaSyCizAPnqkLpEsJzaiOTsvl0L-Dy8_tYhvA",REACT_APP_HTTP_URL:"https://sma2lbao.cn/api/graphql",REACT_APP_FIREBASE_DATABASEURL:"https://miss-806b9.firebaseio.com",REACT_APP_WEBSOCKET_URL:"wss://sma2lbao.cn/api/graphql",REACT_APP_UPLOAD_URL:"https://sma2lbao.cn/api/graphql"}).REACT_APP_HTTP_DOMAIN_URL||"",l=window.open(n+t,a,"width=450,height=450,toolbar=0,menubar=0,location=0,status=0");if(l){var r=setInterval((function(){l.postMessage({type:"access_token"},n)}),1e3);window.addEventListener("message",(function(a){var t=a.data;t&&"access_token_callback"===t.type&&(clearInterval(r),l&&l.close(),E(t.data.access_token?"\u767b\u5f55\u6210\u529f":t.data.error||"\u767b\u5f55\u5931\u8d25"),localStorage.setItem("access_token",t.data.access_token),e.gotoHome())}))}}(a.platform,a.url)}},l.createElement(m.a,null)))})))}var E=t(337);function b(){var e=Object(i.b)().enqueueSnackbar,a=l.useState(""),t=Object(n.a)(a,2),c=t[0],u=t[1],m=l.useState(""),d=Object(n.a)(m,2),b=d[0],p=d[1],f=l.useState(""),v=Object(n.a)(f,2),g=v[0],_=v[1],A=l.useState(""),h=Object(n.a)(A,2),P=h[0],C=h[1],R=Object(s.i)({onCompleted:function(a){console.log(a),e("\u53d1\u9001\u6210\u529f")},onError:function(a){console.error(a),e("\u53d1\u9001\u5931\u8d25")}}),O=Object(n.a)(R,1)[0],S=Object(s.a)({onError:function(a){console.error(a),e("\u6ce8\u518c\u5931\u8d25")},onCompleted:function(a){console.log(a),e("\u6ce8\u518c\u6210\u529f")}}),j=Object(n.a)(S,1)[0];return l.createElement("div",null,l.createElement("form",null,l.createElement(r.a,{id:"username",label:"\u7528\u6237\u540d",required:!0,value:c,onChange:function(e){return u(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",fullWidth:!0,margin:"normal"}),l.createElement(r.a,{id:"password",label:"\u5bc6\u7801",type:"password",required:!0,value:b,onChange:function(e){return p(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",fullWidth:!0,margin:"normal"}),l.createElement(r.a,{id:"email",label:"\u90ae\u7bb1",type:"email",required:!0,value:g,onChange:function(e){return _(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",fullWidth:!0,margin:"normal"}),l.createElement(E.a,null,l.createElement(r.a,{id:"code",label:"\u9a8c\u8bc1\u7801",value:P,onChange:function(e){return C(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",margin:"normal"}),l.createElement(o.a,{variant:"contained",onClick:function(){O({variables:{email:g}})}},"\u83b7\u53d6\u9a8c\u8bc1\u7801")),l.createElement(o.a,{variant:"contained",fullWidth:!0,onClick:function(){j({variables:{user:{username:c,password:b,email:g,code:P}}})}},"\u6ce8\u518c")))}var p=t(176),f=t.n(p),v=t(179),g=t(84),_=t(276),A=t(271),h=Object(v.autoPlay)(f.a),P=Object(_.a)((function(e){return Object(A.a)({image:{width:"100%",height:"100%"}})}));function C(e){var a=P(),t=e.images;return l.createElement("div",null,l.createElement(h,{enableMouseEvents:!0,index:0},t.map((function(e,t){return l.createElement("div",{className:a.image,key:t},l.createElement(g.b,{src:e}))}))))}C.defaultProps={images:["https://pic1.zhimg.com/v2-cc17d8b31fe162fdbfadba1d18b7836e_1200x500.jpg","http://n.sinaimg.cn/collect/crawl/20160224/ZFh0-fxprucv9824132.jpg"]};var R=C;t.d(a,"default",(function(){return S}));var O=Object(_.a)((function(e){return Object(A.a)({root:{width:"100%",height:"100vh",fontSize:0,overflow:"hidden"},left:{flex:1,backgroundColor:e.palette.primary.main},right:{flex:1,backgroundColor:e.palette.background.paper,display:"flex",alignItems:"center",justifyContent:"center"},main:{width:300}})}));function S(){var e=O(),a=l.useState(0),t=Object(n.a)(a,2),r=t[0],c=t[1];return l.createElement(E.a,{className:e.root,display:"flex"},l.createElement("div",{className:e.left},l.createElement(R,null)),l.createElement("div",{className:e.right},l.createElement("div",{className:e.main},l.createElement(o.a,{onClick:function(e){return c(0)}},"\u767b\u5f55"),l.createElement(o.a,{onClick:function(e){return c(1)}},"\u6ce8\u518c"),l.createElement("div",null,0===r&&l.createElement(d,null),1===r&&l.createElement(b,null)))))}}}]);
//# sourceMappingURL=13.14d39158.chunk.js.map