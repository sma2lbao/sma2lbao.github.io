{"version":3,"file":"static/js/104.f282537a.chunk.js","mappings":"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","sources":["views/users/profile/modules/playlists/index.tsx","views/users/profile/modules/top/index.tsx","views/users/profile/modules/medias/index.tsx","views/users/profile/modules/basic/index.tsx","views/users/profile/index.tsx","../../../../node_modules/.pnpm/@mui+icons-material@5.8.4_6s6kn4eixjfxblkpq6brdgw3sa/node_modules/@mui/icons-material/PlayCircleFilled.js","../../../../node_modules/.pnpm/@mui+material@5.10.0_wor5pgs5xy5sjitksyor3b72wm/node_modules/@mui/material/ListItemIcon/ListItemIcon.js"],"sourcesContent":["import { useParams } from 'react-router-dom';\nimport { usePlaylistsPaginatedQuery } from '@/schema';\nimport { SpecialBox } from '@/components/public/special-box';\n// import { Playlist } from \"@/components/app/Playlist\";\nimport PlayCircleFilledIcon from '@mui/icons-material/PlayCircleFilled';\nimport { List, ListItem, ListItemIcon, ListItemText } from '@mui/material';\n\nexport default function Playlists() {\n  const { username } = useParams();\n  const { data, loading, error } = usePlaylistsPaginatedQuery({\n    variables: {\n      query: {\n        last: 8,\n      },\n      author_username: username,\n    },\n  });\n  return (\n    <div>\n      {data?.playlists_paginated?.edges?.length ? (\n        <List>\n          {data.playlists_paginated.edges.map((playlist, idx) => {\n            return (\n              <ListItem key={idx}>\n                <ListItemIcon>\n                  <PlayCircleFilledIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary={playlist.node.title}\n                  secondary={playlist.node.create_at}\n                />\n              </ListItem>\n            );\n          })}\n        </List>\n      ) : (\n        <SpecialBox\n          loading={loading}\n          error={!!error}\n          placeholder={!data?.playlists_paginated?.edges?.length}\n          placeholderTitle={'No Playlist Here.'}\n        />\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport { Box, Avatar, Typography, Button } from '@mui/material';\nimport { MediaPlain } from '@/components/app/media';\nimport { useFollowHelper } from '@/hooks';\nimport { ProfileContext } from '../..';\nimport moment from 'moment';\nimport { useNavigate } from 'react-router-dom';\n\nexport const Top: React.FC = () => {\n  const [userQuery, [topShadow]] = React.useContext(ProfileContext);\n  const navigate = useNavigate();\n  const { following, toggleFollow } = useFollowHelper({\n    owner_uid: userQuery?.user.uid as string,\n  });\n\n  return (\n    <Box sx={(theme) => ({ display: 'flex', paddingBottom: theme.spacing(2) })}>\n      <Box\n        sx={{\n          display: 'flex',\n          flexDirection: 'column',\n          flex: 1,\n          overflow: 'hidden',\n        }}\n      >\n        <Box\n          sx={(theme) => ({\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            marginBottom: theme.spacing(6),\n          })}\n        >\n          <Box display=\"flex\" alignItems=\"center\">\n            <Avatar src={userQuery?.user.avatar}></Avatar>\n            <Box ml={1}>\n              <Typography variant=\"subtitle1\">\n                {userQuery?.user.nickname}\n              </Typography>\n              <Typography variant=\"caption\">\n                {userQuery?.user.description}\n              </Typography>\n            </Box>\n          </Box>\n\n          {following ? (\n            <Button\n              sx={(theme) => ({ marginLeft: theme.spacing(1), flexShrink: 0 })}\n              onClick={toggleFollow}\n            >\n              已关注\n            </Button>\n          ) : (\n            <Button\n              sx={(theme) => ({ marginLeft: theme.spacing(1), flexShrink: 0 })}\n              onClick={toggleFollow}\n            >\n              关注\n            </Button>\n          )}\n        </Box>\n        <Box>\n          <Typography gutterBottom variant=\"subtitle2\" component=\"div\">\n            {topShadow?.title}\n          </Typography>\n          <Typography\n            gutterBottom\n            variant=\"body2\"\n            color=\"textSecondary\"\n            component=\"div\"\n          >\n            {topShadow?.description}\n          </Typography>\n          <div>\n            {/* <Typography variant=\"caption\">观看数： TODO</Typography> */}\n            {/* <Typography variant=\"caption\">点赞数： TODO</Typography> */}\n            <Typography variant=\"caption\">\n              发布于：{moment(topShadow?.create_at).format('YYYY-MM-DD')}\n            </Typography>\n          </div>\n        </Box>\n      </Box>\n      <Box\n        sx={(theme) => ({\n          flex: 1,\n          overflow: 'hidden',\n          marginLeft: theme.spacing(2),\n        })}\n      >\n        <MediaPlain\n          {...topShadow}\n          onClickRoot={() => navigate(`/shadow/${topShadow?.id}`)}\n        />\n      </Box>\n    </Box>\n  );\n};\n\nexport default Top;\n","import React from 'react';\nimport { styled } from '@mui/material/styles';\nimport {\n  Box,\n  ImageList,\n  ImageListItem,\n  Button,\n  Typography,\n} from '@mui/material';\nimport { MediaOwn, withTool } from '@/components/app/media';\nimport { useUserShadowsPaginatedQuery } from '@/schema';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { SpecialBox } from '@/components/public/special-box';\nimport { ProfileContext } from '../..';\nimport { useAuth } from '@/hooks';\n\nconst EditMediaOwn = withTool(MediaOwn);\n\nconst PREFIX = 'Medias';\n\nconst classes = {\n  footer: `${PREFIX}-footer`,\n};\n\nconst StyledBox = styled(Box)(({ theme }) => ({\n  [`& .${classes.footer}`]: {\n    padding: theme.spacing(2),\n    textAlign: 'center',\n  },\n}));\n\nexport const Medias: React.FC = () => {\n  const { username } = useParams();\n  const { member } = useAuth();\n  const [, [, setTopShadow]] = React.useContext(ProfileContext);\n  const navigate = useNavigate();\n  const { data, loading, error, fetchMore } = useUserShadowsPaginatedQuery({\n    variables: {\n      query: {\n        last: 8,\n      },\n      author_username: username!,\n    },\n  });\n\n  const loadMore = () => {\n    fetchMore({\n      variables: {\n        query: {\n          last: 8,\n          before: data?.user_shadows_paginated?.pageInfo?.endCursor,\n        },\n      },\n      updateQuery: (previousQueryResult, { fetchMoreResult }) => {\n        if (fetchMoreResult?.user_shadows_paginated?.edges) {\n          const { edges, pageInfo, totalCount } =\n            fetchMoreResult.user_shadows_paginated;\n          return {\n            user_shadows_paginated: {\n              pageInfo,\n              totalCount,\n              edges: [\n                ...(previousQueryResult.user_shadows_paginated.edges as []),\n                ...edges,\n              ],\n              __typename: previousQueryResult.user_shadows_paginated.__typename,\n            },\n          };\n        }\n        return previousQueryResult;\n      },\n    });\n  };\n\n  React.useEffect(() => {\n    if (data?.user_shadows_paginated.edges?.length) {\n      setTopShadow(data.user_shadows_paginated.edges[0].node);\n    }\n  }, [data, setTopShadow]);\n\n  return (\n    <StyledBox>\n      {data?.user_shadows_paginated.totalCount ? (\n        <>\n          <ImageList rowHeight=\"auto\" cols={4}>\n            {data.user_shadows_paginated.edges!.map((item) => {\n              return (\n                <ImageListItem key={item.cursor} cols={1} rows={1}>\n                  <EditMediaOwn\n                    {...item.node}\n                    onEdit={\n                      member?.username === username\n                        ? () => navigate(`/shadow-update/${item.node.id}`)\n                        : undefined\n                    }\n                    onClickRoot={() => navigate(`/shadow/${item.node.id}`)}\n                  />\n                </ImageListItem>\n              );\n            })}\n          </ImageList>\n          {data?.user_shadows_paginated?.pageInfo?.hasNextPage && (\n            <Box className={classes.footer}>\n              <Button onClick={loadMore} disabled={loading}>\n                <Typography color=\"textSecondary\" variant=\"caption\">\n                  {loading ? '加载中...' : '加载更多'}\n                </Typography>\n              </Button>\n            </Box>\n          )}\n        </>\n      ) : (\n        <SpecialBox\n          loading={loading}\n          error={!!error}\n          placeholder\n          placeholderTitle=\"暂未上传视频\"\n        />\n      )}\n    </StyledBox>\n  );\n};\n\nexport default Medias;\n","import * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport { DEFAULT_PROFILE_COVER } from '@/common/constants/default.constant';\nimport { Typography } from '@mui/material';\nimport { ProfileContext } from '../..';\nimport { useFansTotalQuery, useFollowsTotalQuery } from '@/schema';\nimport { SpecialBoxText } from '@/components/public/special-box';\n\nconst PREFIX = 'Basic';\n\nconst classes = {\n  root: `${PREFIX}-root`,\n  cover: `${PREFIX}-cover`,\n  coverImg: `${PREFIX}-coverImg`,\n  info: `${PREFIX}-info`,\n  pirmaryColor: `${PREFIX}-pirmaryColor`,\n  secondColor: `${PREFIX}-secondColor`,\n};\n\nconst Root = styled('div')(({ theme }) => ({\n  [`&.${classes.root}`]: {},\n  [`& .${classes.cover}`]: {},\n\n  [`& .${classes.coverImg}`]: {\n    width: '100%',\n    objectFit: 'contain',\n  },\n\n  [`& .${classes.info}`]: {\n    padding: theme.spacing(3, 4),\n  },\n\n  [`& .${classes.pirmaryColor}`]: {\n    color: '#fff',\n  },\n\n  [`& .${classes.secondColor}`]: {\n    color: '#aaa',\n  },\n}));\n\nexport const Basic: React.FC = () => {\n  const [userQuery] = React.useContext(ProfileContext);\n  const {\n    data: fansData,\n    loading: fansLoading,\n    error: fansError,\n  } = useFansTotalQuery({\n    variables: {\n      owner_uid: userQuery?.user.uid.toString(),\n    },\n  });\n  const {\n    data: followsData,\n    loading: followsLoading,\n    error: followsError,\n  } = useFollowsTotalQuery({\n    variables: {\n      follower_uid: userQuery?.user.uid.toString(),\n    },\n  });\n\n  return (\n    <Root className={classes.root}>\n      <div className={classes.cover}>\n        <img\n          alt=\"cover\"\n          className={classes.coverImg}\n          src={DEFAULT_PROFILE_COVER}\n        />\n      </div>\n      <div className={classes.info}>\n        <div className={classes.pirmaryColor}>\n          <Typography gutterBottom variant=\"h4\">\n            {userQuery?.user.nickname}\n          </Typography>\n        </div>\n        <Typography\n          component=\"div\"\n          gutterBottom\n          className={classes.pirmaryColor}\n        >\n          <SpecialBoxText loading={fansLoading} error={!!fansError} />\n          {fansData?.fans_total || 0} 粉丝\n        </Typography>\n        <Typography\n          component=\"div\"\n          gutterBottom\n          className={classes.pirmaryColor}\n        >\n          <SpecialBoxText loading={followsLoading} error={!!followsError} />\n          {followsData?.follows_total || 0} 关注\n        </Typography>\n        <Typography\n          component=\"div\"\n          variant=\"caption\"\n          className={classes.secondColor}\n          gutterBottom\n        >\n          {userQuery?.user.description}\n        </Typography>\n        {/* <div>\n          <Typography\n            variant=\"subtitle2\"\n            component=\"div\"\n            gutterBottom\n            className={classes.pirmaryColor}\n          >\n            Born\n          </Typography>\n          <Typography\n            className={classes.secondColor}\n            component=\"div\"\n            variant=\"caption\"\n          >\n            出生日期\n          </Typography>\n        </div> */}\n      </div>\n    </Root>\n  );\n};\n\nexport default Basic;\n","import * as React from 'react';\nimport { Tabs, Tab, Divider, Box } from '@mui/material';\nimport { Medias, Basic, Playlists, Top } from './modules';\nimport {\n  BodyScreen,\n  ContentScreen,\n  AiderScreen,\n  FullScreen,\n} from '@/layouts/page-layout';\nimport { useParams } from 'react-router-dom';\nimport { useUserQuery, UserQuery, Shadow } from '@/schema';\nimport { SpecialBox } from '@/components/public/special-box';\nimport { Helmet } from 'react-helmet';\n\nexport const ProfileContext = React.createContext<\n  [\n    UserQuery | undefined,\n    [Shadow | undefined, React.Dispatch<Shadow | undefined>]\n  ]\n>([undefined, [undefined, () => {}]]);\n\nexport default function Profile() {\n  const { username } = useParams();\n  const { data, loading, error } = useUserQuery({\n    variables: {\n      username,\n    },\n  });\n  const [topShadow, setTopShadow] = React.useState<Shadow | undefined>();\n  const [tab, setTab] = React.useState(0);\n\n  return (\n    <FullScreen>\n      <Helmet>\n        <title>\n          {`${data?.user.username || data?.user.nickname}`}的个人主页\n        </title>\n      </Helmet>\n      {data?.user ? (\n        <BodyScreen>\n          <ProfileContext.Provider value={[data, [topShadow, setTopShadow]]}>\n            <AiderScreen sx={{ background: '#333' }}>\n              <Basic />\n            </AiderScreen>\n            <ContentScreen sx={(theme) => ({ padding: theme.spacing(6, 4) })}>\n              <Top />\n              <Divider />\n              <div>\n                <Tabs value={tab} onChange={(e, value) => setTab(value)}>\n                  <Tab label=\"视频\"></Tab>\n                  <Tab label=\"列表\" disabled></Tab>\n                  {/* <Tab label=\"社区\"></Tab> */}\n                </Tabs>\n                <Box py={2} hidden={tab !== 0}>\n                  <Medias />\n                </Box>\n                <Box py={2} hidden={tab !== 1}>\n                  <Playlists />\n                </Box>\n              </div>\n            </ContentScreen>\n          </ProfileContext.Provider>\n        </BodyScreen>\n      ) : (\n        <SpecialBox loading={loading} error={!!error} />\n      )}\n    </FullScreen>\n  );\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14.5v-9l6 4.5-6 4.5z\"\n}), 'PlayCircleFilled');\n\nexports.default = _default;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport { getListItemIconUtilityClass } from './listItemIconClasses';\nimport ListContext from '../List/ListContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    alignItems,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', alignItems === 'flex-start' && 'alignItemsFlexStart']\n  };\n  return composeClasses(slots, getListItemIconUtilityClass, classes);\n};\n\nconst ListItemIconRoot = styled('div', {\n  name: 'MuiListItemIcon',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.alignItems === 'flex-start' && styles.alignItemsFlexStart];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  minWidth: 56,\n  color: (theme.vars || theme).palette.action.active,\n  flexShrink: 0,\n  display: 'inline-flex'\n}, ownerState.alignItems === 'flex-start' && {\n  marginTop: 8\n}));\n/**\n * A simple wrapper to apply `List` styles to an `Icon` or `SvgIcon`.\n */\n\nconst ListItemIcon = /*#__PURE__*/React.forwardRef(function ListItemIcon(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiListItemIcon'\n  });\n\n  const {\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const context = React.useContext(ListContext);\n\n  const ownerState = _extends({}, props, {\n    alignItems: context.alignItems\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(ListItemIconRoot, _extends({\n    className: clsx(classes.root, className),\n    ownerState: ownerState,\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListItemIcon.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component, normally `Icon`, `SvgIcon`,\n   * or a `@mui/icons-material` SVG icon element.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default ListItemIcon;"],"names":["Playlists","username","useParams","usePlaylistsPaginatedQuery","variables","query","last","author_username","data","loading","error","playlists_paginated","edges","length","List","map","playlist","idx","ListItem","ListItemIcon","PlayCircleFilled","ListItemText","primary","node","title","secondary","create_at","placeholder","placeholderTitle","React","ProfileContext","userQuery","topShadow","navigate","useNavigate","useFollowHelper","owner_uid","user","uid","following","toggleFollow","Box","sx","theme","display","paddingBottom","spacing","flexDirection","flex","overflow","alignItems","justifyContent","marginBottom","Avatar","src","avatar","ml","Typography","variant","nickname","description","Button","marginLeft","flexShrink","onClick","gutterBottom","component","color","moment","format","onClickRoot","id","EditMediaOwn","withTool","MediaOwn","classes","footer","StyledBox","styled","padding","textAlign","Medias","member","useAuth","setTopShadow","useUserShadowsPaginatedQuery","fetchMore","user_shadows_paginated","totalCount","ImageList","rowHeight","cols","item","ImageListItem","rows","onEdit","undefined","cursor","pageInfo","hasNextPage","className","before","endCursor","updateQuery","previousQueryResult","fetchMoreResult","__typename","disabled","PREFIX","root","cover","coverImg","info","pirmaryColor","secondColor","Root","width","objectFit","Basic","useFansTotalQuery","toString","fansData","fansLoading","fansError","useFollowsTotalQuery","follower_uid","followsData","followsLoading","followsError","alt","DEFAULT_PROFILE_COVER","fans_total","follows_total","Profile","useUserQuery","tab","setTab","Helmet","Provider","value","background","Divider","Tabs","onChange","e","Tab","label","py","hidden","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","_excluded","ListItemIconRoot","name","slot","overridesResolver","props","styles","ownerState","alignItemsFlexStart","_extends","minWidth","vars","palette","action","active","marginTop","inProps","ref","useThemeProps","other","_objectWithoutPropertiesLoose","context","ListContext","slots","composeClasses","getListItemIconUtilityClass","useUtilityClasses","_jsx","clsx"],"sourceRoot":""}