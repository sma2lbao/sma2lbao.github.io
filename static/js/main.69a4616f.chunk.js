(this.webpackJsonpmiss=this.webpackJsonpmiss||[]).push([[2],{101:function(e,n,t){"use strict";var a=t(0),r=t(68),o=t(225),i=t(221),c=t(3),l=Object(o.a)((function(e){return Object(i.a)({container:{maxWidth:400,flex:1},agent:function(n){var t,a,o=Object.keys(e.mixins.toolbar),i=+((null===(t=e.mixins.toolbar)||void 0===t?void 0:t.height)||(null===(a=e.mixins.toolbar)||void 0===a?void 0:a.minHeight)||0)+((null===n||void 0===n?void 0:n.top)||0),c={position:"sticky",top:i,overflow:"auto",maxHeight:"calc(100vh - ".concat(i,"px)")};return o.forEach((function(t){var a=e.mixins.toolbar[t];if("object"===typeof a&&((null===a||void 0===a?void 0:a.height)||(null===a||void 0===a?void 0:a.minHeight))){var o=+((null===a||void 0===a?void 0:a.height)||(null===a||void 0===a?void 0:a.minHeight))+((null===n||void 0===n?void 0:n.top)||0);Object.assign(c,Object(r.a)({},t,{top:o,maxHeight:"calc(100vh - ".concat(o,"px)")}))}})),c},root:{}})}));function u(e){var n=l(e);return e.sticky?a.createElement("div",{className:Object(c.a)(n.container)},a.createElement("div",{className:Object(c.a)(n.agent)},a.createElement("div",{className:Object(c.a)(n.root,e.className)},e.children))):a.createElement("div",{className:Object(c.a)(n.container,e.className)},e.children)}var s=Object(o.a)((function(e){return Object(i.a)({root:{maxWidth:1600,display:"flex",margin:"0 auto"}})}));function d(e){var n=s();return a.createElement("div",{className:Object(c.a)(n.root,e.className)},e.children)}var m=Object(o.a)((function(e){return Object(i.a)({root:{maxWidth:1200,flex:3}})}));function f(e){var n=m();return a.createElement("div",{style:Object.assign({},e.width?{width:e.width}:{}),className:Object(c.a)(n.root,e.className)},e.children)}var p=Object(o.a)((function(e){return Object(i.a)({root:{width:"100%"}})}));function h(e){var n=p();return a.createElement("div",{className:Object(c.a)(n.root,e.className)},e.children)}t.d(n,"d",(function(){return h})),t.d(n,"b",(function(){return d})),t.d(n,"c",(function(){return f})),t.d(n,"a",(function(){return u}))},118:function(e,n,t){"use strict";var a=t(0),r=t(225),o=t(221),i=t(3),c=t(440),l=t(364),u=t(65),s=Object(r.a)((function(e){return Object(o.a)({root:{fontWeight:"bold",color:"transparent",backgroundRepeat:"no-repeat",backgroundImage:"linear-gradient(90deg, #e6e6e6 25%, #d6d6d6 37%, #e6e6e6 63%)",backgroundSize:"400% 100%",animation:"$skeleton-busy-animate 2s ease infinite",display:"inline-flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:function(e){var n;return null!==(n=e.width)&&void 0!==n?n:"100%"},height:function(e){var n;return null!==(n=e.height)&&void 0!==n?n:"100%"},flex:1,padding:e.spacing(2,0)},logo:e.custom.base.icon.large,"@keyframes skeleton-busy-animate":{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}})})),d=function(e){var n=s(e),t=e.title,r=e.subtitle,o=e.children;return a.createElement(a.Fragment,null,a.createElement("style",{dangerouslySetInnerHTML:{__html:".WebkitBackgroundClipText { background-clip: text; -webkit-background-clip: text; }"}}),a.createElement("div",{className:Object(i.a)("WebkitBackgroundClipText",n.root)},a.createElement(c.a,{mb:1},a.createElement(l.a,{className:Object(i.a)("iconfont icon-logo",n.logo)})),t&&a.createElement(u.a,{variant:"h6"},t),r&&a.createElement(u.a,{variant:"subtitle1"},r),o))};d.defaultProps={title:"Loading"},t.d(n,"a",(function(){return d}));n.b=d},167:function(e,n,t){"use strict";var a=t(0),r=t(225),o=t(221),i=Object(r.a)((function(e){return Object(o.a)({root:{height:function(e){return e.height||"auto"},width:function(e){return e.width||"100%"},overflow:"hidden"},aspect:{paddingTop:function(e){return"calc(1 / ".concat(e.ratio," * 100%)")},position:"relative",backgroundColor:"transparent"},container:{position:"absolute",width:"100%",height:"100%",top:0,left:0,overflow:"hidden"}})})),c=function(e){var n=i(e),t=e.children,r=e.ratio;return a.createElement("div",{className:n.root},r?a.createElement("div",{className:n.aspect},a.createElement("div",{className:n.container},t)):a.createElement("div",{className:n.root},t))};t.d(n,"a",(function(){return l}));var l=c},170:function(e,n,t){"use strict";var a=t(0),r=t(225),o=t(221),i=t(3),c=t(440),l=t(364),u=t(65),s=Object(r.a)((function(e){return Object(o.a)({root:{display:"inline-flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:function(e){var n;return null!==(n=e.width)&&void 0!==n?n:"100%"},height:function(e){var n;return null!==(n=e.height)&&void 0!==n?n:"100%"},color:e.palette.text.secondary,flex:1,padding:e.spacing(2,0)},icon:e.custom.base.icon.large})})),d=function(e){var n=s(e),t=e.title,r=e.subtitle,o=e.children;return a.createElement("div",{className:n.root},a.createElement(c.a,{mb:1},a.createElement(l.a,{className:Object(i.a)("iconfont icon-404",n.icon)})),t&&a.createElement(u.a,{variant:"h6"},t),r&&a.createElement(u.a,{variant:"subtitle1"},r),o)};d.defaultProps={title:"\u7cdf\u7cd5\uff0c\u51fa\u9519\u5566"},t.d(n,"a",(function(){return m}));n.b=d;var m=d},195:function(e,n,t){"use strict";var a=t(0),r=t.n(a),o=t(225),i=t(221),c=t(364),l=t(3),u=Object(o.a)((function(e){return Object(i.a)({iconWrap:{display:"flex",alignItems:"center",justifyContent:"center"}})})),s=function(e){var n=u();return r.a.createElement(c.a,Object.assign({},e,{className:Object(l.a)("iconfont icon-logo",n.iconWrap)}))};t.d(n,"a",(function(){return s}))},247:function(e,n,t){e.exports=t(308)},308:function(e,n,t){"use strict";t.r(n);var a=t(141),r=t(0),o=t.n(r),i=t(19),c=t.n(i),l=t(439),u=t(390),s=t(11),d=t(93),m=t(36),f=t(21),p=t(359),h=t(217),v={MuiCssBaseline:{"@global":{".iconfont":{lineHeight:"1"},body:{minWidth:960}}},MuiTabs:{root:{}},MuiTab:{root:{}}},b={},E={tertiary:{main:"#ccc"}},g={layout:{size:{parent:{width:80}}},base:{icon:{large:{fontSize:120},medium:{fontSize:80},small:{fontSize:60}}}},O=r.createContext([Object(h.a)(),function(){}]),y=function(e){var n=r.useState((function(){return Object(h.a)({palette:E,overrides:v,typography:b},{custom:g})})),t=Object(f.a)(n,2),a=t[0],o=t[1];return r.createElement(p.a,{theme:a},r.createElement(O.Provider,{value:[a,function(e,n){var t=Object(h.a)(Object(m.a)({palette:E,overrides:v,typography:b},e),Object(m.a)({custom:g},n));o(t)}]},e.children))},w=t(145),_=t(25),j=t(68),S=t(225),R=t(221),N=t(376),k=t(80),C=t(365),x=t(366),I=t(364),A=t(445),P=t(368),T=t(65),D=t(360),$=t(361),z=t(362),M=t(363),U=t(56),F=[{id:1e3,icon:r.createElement(D.a,null),label:"Home",children:[{id:1001,icon:r.createElement($.a,null),label:"Home",path:U.c},{id:1002,icon:r.createElement($.a,null),label:"History Topics",path:"/topics",disabled:!0}]},{id:2e3,icon:r.createElement(z.a,null),label:"Shadow",value:"shadow",path:U.g},{id:3e3,icon:r.createElement(M.a,null),label:"My",value:"user",path:"",children:[{id:3001,icon:r.createElement($.a,null),label:"My Homepage",value:"personal",path:"/personal"},{id:3002,icon:r.createElement($.a,null),label:"Setting",value:"setting",path:"/setting",disabled:!0}]}],L=function(){var e=Object(_.i)().path,n=r.useState(),t=Object(f.a)(n,2),a=t[0],o=t[1],i=r.useState(),c=Object(f.a)(i,2),l=c[0],u=c[1];return r.useEffect((function(){if("/"===e)return o(F[0]),void u(F[0].children?F[0].children[0]:void 0);for(var n=void 0,t=void 0,a=0;a<F.length;a++){var r,i=F[a],c=null===i||void 0===i||null===(r=i.children)||void 0===r?void 0:r.find((function(n){return n.path===e}));if(c){n=i,t=c;break}if(i.path&&e===i.path){n=i;break}}o(n),u(t)}),[e]),{menus:F,parent:a,child:l,pid:null===a||void 0===a?void 0:a.id,cid:null===l||void 0===l?void 0:l.id}},q=t(3),B=t(34),H=t(367),W=t(369),Q=t(73),G=Object(S.a)((function(e){return Object(R.a)({toolbar:Object(m.a)({padding:e.spacing(0,2),display:"flex",alignItems:"center",justifyContent:"flex-end"},e.mixins.toolbar),root:{display:"flex"},parent:{flexShrink:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},parentIcon:{padding:e.spacing(1)},child:{flex:1,overflow:"hidden",padding:e.spacing(1,2)},childWrap:{padding:e.spacing(1,0)},childItem:{padding:e.spacing(1,0)},active:{color:e.palette.primary.main},disabled:{color:e.palette.text.disabled},openWrap:{position:"fixed",left:"0",top:"50%",transform:"translateY(-50%)"}})})),Y=function(e,n){var t=e.hasExpand,a=e.setHasExpand,o=Object(k.a)(e,["hasExpand","setHasExpand"]),i=L(),c=i.menus,l=i.pid,u=i.cid,s=i.parent,d=i.child,m=G(),p=Object(B.c)(),h=r.useState(l),v=Object(f.a)(h,2),b=v[0],E=v[1];r.useEffect((function(){E(l)}),[l]);var g=function(){a(!1)};return r.createElement(r.Fragment,null,r.createElement(C.a,Object.assign({},o,{open:t,onClose:g}),r.createElement("div",{className:m.toolbar},r.createElement(x.a,{onClick:g},r.createElement(H.a,null))),r.createElement("div",{className:m.root},r.createElement("div",{className:m.parent},c.map((function(e,n){return r.createElement("div",{key:n,className:m.parentIcon},r.createElement(x.a,{size:"medium",color:l===e.id?"primary":b===e.id?"secondary":"default",onClick:function(){return function(e){E(e.id),e.path&&!e.disabled&&e.id!==l&&p.push(e.path)}(e)}},r.createElement(I.a,null,e.icon)))}))),c.map((function(e,n){return r.createElement("div",{key:n,className:m.child,hidden:e.id!==b},e.children?r.createElement("div",null,r.createElement(A.a,{"aria-label":"breadcrumb"},r.createElement(P.a,{color:"inherit"},(null===s||void 0===s?void 0:s.label)||"--"),r.createElement(P.a,{color:"inherit"},(null===d||void 0===d?void 0:d.label)||"--")),r.createElement("div",{className:m.childWrap},null===e||void 0===e?void 0:e.children.map((function(e,n){var t;return r.createElement("div",{key:n,onClick:function(){return function(e){e.path&&!e.disabled&&e.id!==u&&p.push(e.path)}(e)},className:Object(q.a)(m.childItem,(t={},Object(j.a)(t,m.active,e.id===u),Object(j.a)(t,m.disabled,e.disabled),t))},r.createElement(T.a,{variant:"subtitle2"},e.label))})))):r.createElement(Q.a,{size:80,title:"no children router"}))})))),r.createElement("div",{className:m.openWrap,hidden:t},r.createElement(x.a,{onClick:function(){a(!0)}},r.createElement(W.a,null))))},V=t(375),J=t(440),K=t(324),Z=t(320),X=t(381),ee=t(377),ne=t(379),te=t(380),ae=t(370),re=t(323),oe=t(12),ie=Object(S.a)((function(e){return Object(R.a)({search:{borderRadius:e.shape.borderRadius,backgroundColor:Object(oe.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(oe.c)(e.palette.common.white,.25)},display:"inline-flex",alignItems:"center",margin:e.spacing(0,1)},icon:{pointerEvents:"none",margin:e.spacing(0,1)},input:{color:"inherit",paddingRight:e.spacing(1),transition:e.transitions.create("width"),width:120,"&:focus":{width:200}}})}));function ce(){var e=ie(),n=r.useState(""),t=Object(f.a)(n,2),a=t[0],o=t[1],i=Object(B.c)();return r.createElement("div",{className:e.search},r.createElement(ae.a,{className:e.icon}),r.createElement(re.a,{value:a,onChange:function(e){return o(e.target.value)},classes:{input:e.input},placeholder:"\u641c\u7d22",inputProps:{"aria-label":"Search"},onKeyDown:function(e){13===e.keyCode&&a&&i.gotoSearch(a)}}))}var le=t(371),ue=t(446),se=t(218),de=t(373),me=t(374),fe=Object(S.a)((function(e){return Object(R.a)({avatar:{width:e.spacing(4.5),height:e.spacing(4.5)}})})),pe=function(){var e=r.useState(null),n=Object(f.a)(e,2),t=n[0],a=n[1],o=Object(B.a)(),i=o.hasLogged,c=o.member,l=o.clearAccessToken,u=Object(B.c)(),s=fe();function d(){a(null)}return r.createElement(J.a,{mx:.5},i?r.createElement(r.Fragment,null,r.createElement("div",{onClick:function(e){a(e.currentTarget)}},(null===c||void 0===c?void 0:c.avatar)?r.createElement(ue.a,{className:s.avatar,alt:c.username,src:c.avatar}):r.createElement(ue.a,{className:s.avatar,alt:null===c||void 0===c?void 0:c.username},r.createElement(le.a,null))),r.createElement(se.a,{id:"account-menu",anchorEl:t,keepMounted:!0,open:Boolean(t),onClose:d},r.createElement(de.a,{onClick:function(){d(),l()}},"\u9000\u51fa"))):r.createElement(r.Fragment,null,r.createElement(me.a,{onClick:function(){u.redirectAuthLogin()}},"\u767b\u5f55")))},he=t(195),ve=Object(S.a)((function(e){return Object(R.a)({appBar:{zIndex:e.zIndex.drawer+1,boxShadow:e.shadows[0]},icon:{marginLeft:e.spacing(2)},toolbar:{display:"flex",justifyContent:"space-between",alignItems:"center"},search:{margin:e.spacing(0,1)}})}));function be(){var e=ve(),n=Object(B.c)(),t=function(){var e=r.useContext(O),n=Object(f.a)(e,2);return[n[0],n[1]]}(),a=Object(f.a)(t,2),o=a[0],i=a[1],c=function(e){i({palette:{type:e}})};return r.createElement(r.Fragment,null,r.createElement(V.a,{color:"inherit",position:"fixed",className:e.appBar},r.createElement(N.a,{classes:{root:e.toolbar}},r.createElement(J.a,{display:"flex",alignItems:"center"},r.createElement(he.a,{fontSize:"large",onClick:n.gotoHome}),r.createElement(x.a,{onClick:n.gotoShadowUpload,size:"small",className:e.icon},r.createElement(ee.a,{fontSize:"small"}))),r.createElement(J.a,{display:"flex",alignItems:"center"},r.createElement(ce,null),r.createElement(r.Fragment,null,r.createElement(K.a,{TransitionComponent:Z.a,title:"\u5207\u6362\u6a21\u5f0f",placement:"bottom",enterDelay:600,arrow:!0},"dark"===o.palette.type?r.createElement(x.a,{onClick:function(){return c("light")}},r.createElement(ne.a,{color:"inherit"})):r.createElement(x.a,{onClick:function(){return c("dark")}},r.createElement(te.a,{color:"inherit"})))),r.createElement(pe,null))),r.createElement(X.a,null)))}var Ee,ge=t(382),Oe=Object(S.a)((function(e){return Object(R.a)({root:{height:"100%",backgroundColor:e.palette.background.default},drawer:{width:290},shiftMain:{marginLeft:290},main:{transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),minHeight:"100vh",display:"flex",flexDirection:"column"}})})),ye=function(e){var n=e.children,t=e.hideSidebar,a=Oe(),o=function(){var e=Object(ge.a)("(min-width: 1600px)"),n=r.useState(!!e),t=Object(f.a)(n,2),a=t[0],o=t[1],i=r.useState(!1),c=Object(f.a)(i,2),l=c[0],u=c[1];r.useEffect((function(){o(!(!e||l)||a)}),[e,a,l]);return{hasExpand:a,setHasExpand:function(e){u(!0),o(e)},isLargeDesktop:e}}(),i=o.isLargeDesktop,c=o.hasExpand,l=o.setHasExpand;return r.createElement("div",{className:a.root},r.createElement(be,null),r.createElement("div",null,!t&&r.createElement(Y,{hasExpand:c,setHasExpand:l,variant:i?"persistent":"temporary",classes:{paper:a.drawer}}),r.createElement("main",{className:Object(q.a)(a.main,Object(j.a)({},a.shiftMain,c&&i&&!t))},r.createElement(N.a,null),n)))},we=function(e){return r.createElement(ye,{hideSidebar:!0},e.children)},_e=t(118),je=t(126);!function(e){e[e.GUEST=0]="GUEST",e[e.MEMBER=1]="MEMBER",e[e.ADMIN=2]="ADMIN",e[e.ROOT=3]="ROOT"}(Ee||(Ee={}));var Se=function(e){var n=e.layout,t=e.component,a=e.loading,o=e.lazy,i=e.authority,c=Object(k.a)(e,["layout","component","loading","lazy","authority"]),l=Object(B.c)(),u=Object(B.a)().hasLogged;return i===Ee.GUEST||u||l.redirectAuthLogin(!0),n?r.createElement(_.a,Object.assign({},c,{render:function(e){return r.createElement(r.Fragment,null,r.createElement(je.a,null,r.createElement("title",null,"miss | \u76f8\u5fd8\u4e8e\u6c5f\u6e56")),r.createElement(n,null,o?r.createElement(r.Suspense,{fallback:a?r.createElement(a,null):r.createElement(_e.a,null)},r.createElement(t,e)):r.createElement(t,e)))}})):r.createElement(_.a,Object.assign({},c,{render:function(e){return o?r.createElement(r.Fragment,null,r.createElement(je.a,null,r.createElement("title",null,"miss | \u76f8\u5fd8\u4e8e\u6c5f\u6e56")),r.createElement(r.Suspense,{fallback:a?r.createElement(a,null):r.createElement(_e.a,null)},r.createElement(t,e))):r.createElement(r.Fragment,null,r.createElement(je.a,null,r.createElement("title",null,"miss | \u76f8\u5fd8\u4e8e\u6c5f\u6e56")),r.createElement(t,e))}}))};Se.defaultProps={authority:Ee.GUEST};var Re=Se,Ne=t(101),ke=t(70),Ce=t(313),xe=t(443),Ie=t(372),Ae=t(319),Pe=t(383),Te=t(384),De=t(57),$e=t(89),ze=Object(S.a)((function(e){return Object(R.a)({root:{},title:{padding:e.spacing(1,2)}})}));function Me(){var e=ze(),n=Object(B.c)(),t=Object(De.F)(),a=t.data,o=t.loading,i=t.error;return r.createElement(r.Fragment,null,r.createElement("div",{className:e.root},r.createElement(T.a,{className:e.title,variant:"h6"},"\u8d21\u732e\u699c"),r.createElement(Ie.a,null,(null===a||void 0===a?void 0:a.user_urges.length)?a.user_urges.map((function(e,t){return r.createElement(Ae.a,{key:t,onClick:function(){return n.gotoProfile(null===e||void 0===e?void 0:e.username)}},r.createElement(Pe.a,null,r.createElement(ue.a,{src:e.avatar})),r.createElement(Te.a,null,r.createElement(T.a,{noWrap:!0},e.nickname),r.createElement(T.a,{noWrap:!0,variant:"caption"},e.description)))})):r.createElement($e.a,{loading:o,loadingTitle:"\u52a0\u8f7d\u4e2d",error:!!i,placeholder:!0,placeholderTitle:"\u52a0\u8f7d\u4e2d"}))))}var Ue=t(81),Fe=t(386),Le=t(387);function qe(){var e=Object(B.c)(),n=Object(De.z)(),t=n.data,a=n.loading,o=n.error;return r.createElement(J.a,{padding:0},r.createElement(J.a,{paddingY:2,display:"flex",alignItems:"center",justifyContent:"space-between"},r.createElement(T.a,{component:"span",variant:"h6"},"\u6700\u65b0\u53d1\u5e03"),r.createElement(P.a,{onClick:e.gotoShadowHome,color:"textSecondary",variant:"caption",style:{cursor:"pointer"}},"\u66f4\u591a")),(null===t||void 0===t?void 0:t.shadow_urges.length)?r.createElement(Fe.a,{cellHeight:"auto",cols:4},t.shadow_urges.map((function(n,t){return r.createElement(Le.a,{key:t,cols:1},r.createElement(Ue.a,Object.assign({},n,{onClickRoot:function(){return e.gotoShadow(n.id)},onClickAuthor:function(){e.gotoProfile(n.author.username)}})))}))):r.createElement($e.a,{loading:a,error:!!o,loadingNode:r.createElement(Fe.a,{cellHeight:"auto",cols:4},[0,0,0,0,0,0,0,0].map((function(e,n){return r.createElement(Le.a,{key:n,cols:1},r.createElement(Ue.a,{loading:!0}))}))),placeholder:!0,placeholderNode:r.createElement(Fe.a,{cellHeight:"auto",cols:4},[0,0,0,0,0,0,0,0].map((function(e,n){return r.createElement(Le.a,{key:n,cols:1},r.createElement(Ue.a,{loading:!0}))})))}))}function Be(){return r.createElement(r.Fragment,null,r.createElement(J.a,null,r.createElement(qe,null)))}var He=t(388),We=t(389),Qe=t(168),Ge=t.n(Qe),Ye=t(169),Ve=t(103),Je=Object(Ye.virtualize)(Ge.a),Ke=Object(S.a)((function(e){return Object(R.a)({head:{display:"flex",alignItems:"flex-end",padding:e.spacing(4,0)},headItem:{flex:1,overflow:"hidden","& + &":{marginLeft:e.spacing(4)}},bannerRoot:{flex:1,overflow:"hidden"},banner:{paddingRight:"50%"},bannerItem:{minHeight:200,margin:e.spacing(0,.25),display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"}})}));var Ze=function(){var e=r.useState(0),n=Object(f.a)(e,2),t=n[0],a=n[1],o=Ke(),i=Object(De.i)(),c=i.data,l=i.loading,u=i.error,s=Object(B.c)();return r.createElement(r.Fragment,null,c?r.createElement("div",{className:o.head},r.createElement("div",{className:o.headItem},r.createElement(J.a,null,r.createElement(J.a,{mb:3},r.createElement(T.a,{variant:"h6",gutterBottom:!0},"\u7cbe\u9009"),r.createElement(T.a,{variant:"h5",gutterBottom:!0},null===c||void 0===c?void 0:c.current_topic.title),r.createElement(T.a,{variant:"body2",color:"textSecondary"},null===c||void 0===c?void 0:c.current_topic.description)),r.createElement(J.a,{display:"flex",alignItems:"center"},function(){var e=(null===c||void 0===c?void 0:c.current_topic.top_shadows)||[];return e.length>2?r.createElement(r.Fragment,null,r.createElement("div",null,r.createElement(x.a,{size:"small",onClick:function(){return a(t-1)}},r.createElement(He.a,null))),r.createElement("div",{className:o.bannerRoot},r.createElement(Je,{className:o.banner,index:t,onChangeIndex:function(e){return a(e)},enableMouseEvents:!0,slideRenderer:function(e){var n=e.key,t=e.index,a=(null===c||void 0===c?void 0:c.current_topic.top_shadows)||[],i=Object(Ve.mod)(t,a.length),l=a[i];if(l)return r.createElement("div",{key:n,className:Object(q.a)(o.bannerItem)},r.createElement(Ue.a,Object.assign({},a[i],{onClickRoot:function(){return s.gotoShadow(l.id)},onClickAuthor:function(){return s.gotoProfile(l.author.username)}})))}})),r.createElement("div",null,r.createElement(x.a,{size:"small",onClick:function(){return a(t+1)}},r.createElement(We.a,null)))):e.length>0&&e.length<=2?r.createElement(r.Fragment,null,r.createElement("div",{className:o.bannerRoot,style:{display:"flex"}},e.map((function(e,n){return r.createElement("div",{key:n,className:Object(q.a)(o.bannerItem),style:{flex:1}},r.createElement(Ue.a,Object.assign({},e,{onClickRoot:function(){return s.gotoShadow(e.id)},onClickAuthor:function(){return s.gotoProfile(e.author.username)}})))})),1===e.length&&r.createElement("div",{style:{flex:1},className:Object(q.a)(o.bannerItem)},r.createElement($e.a,{placeholder:!0,placeholderTitle:"\u656c\u8bf7\u671f\u5f85"})))):r.createElement(Q.a,{title:"\u656c\u8bf7\u671f\u5f85"})}()))),r.createElement("div",{className:o.headItem},c.current_topic.top_shadow?r.createElement(Ue.a,Object.assign({showDescription:!0},null===c||void 0===c?void 0:c.current_topic.top_shadow,{onClickRoot:function(){var e,n;return s.gotoShadow(null===c||void 0===c||null===(e=c.current_topic)||void 0===e||null===(n=e.top_shadow)||void 0===n?void 0:n.id)},onClickAuthor:function(){var e,n,t;return s.gotoProfile(null===c||void 0===c||null===(e=c.current_topic)||void 0===e||null===(n=e.top_shadow)||void 0===n||null===(t=n.author)||void 0===t?void 0:t.username)}})):r.createElement(Q.a,{title:"\u656c\u8bf7\u671f\u5f85"}))):r.createElement($e.a,{loading:l,loadingTitle:"\u52a0\u8f7d\u4e2d",error:!!u,placeholder:!0,placeholderTitle:"\u52a0\u8f7d\u4e2d"}))},Xe=Object(S.a)((function(e){return Object(R.a)({main:{backgroundColor:e.palette.background.paper,paddingLeft:e.spacing(8),paddingRight:e.spacing(8)},aider:{backgroundColor:e.palette.background.paper,width:"100%",padding:e.spacing(2,2),borderLeft:"1px solid",borderColor:e.palette.divider},head:{display:"flex",alignItems:"flex-end",padding:e.spacing(4,0)},headItem:{flex:1,overflow:"hidden","& + &":{marginLeft:e.spacing(4)}},alertWrap:{flex:1}})}));function en(){var e=Xe(),n=Object(s.useReactiveVar)(ke.c);return r.createElement(Ne.d,null,r.createElement(Ne.b,null,r.createElement(Ce.a,{in:n,className:e.alertWrap},r.createElement(xe.a,{severity:"warning",onClose:function(){return Object(ke.c)(!1)}},"\u7f51\u7ad9\u529f\u80fd\u6b63\u5728\u5b8c\u5584\u4e2d\uff0c\u5982\u679c\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u9047\u5230\u4efb\u4f55\u95ee\u9898\u6b22\u8fce\u63d0bug\u3002",r.createElement(P.a,{target:"_blank",href:"https://github.com/sma2lbao/miss/issues",color:"inherit"},r.createElement("strong",null,"\u53bb\u63d0Bug\uff01"))))),r.createElement(Ne.b,null,r.createElement(Ne.c,{className:e.main},r.createElement(Ze,null),r.createElement(X.a,null),r.createElement(Be,null)),r.createElement(Ne.a,{sticky:!0,className:e.aider},r.createElement(Me,null))))}var nn=Object(S.a)((function(e){return Object(R.a)({root:{position:"fixed",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:e.spacing(2),background:e.palette.background.paper}})}));function tn(){var e=nn(),n=Object(B.c)();return r.createElement("div",{className:e.root},r.createElement(Q.a,{title:"\u6682\u672a\u9002\u914d\u79fb\u52a8\u7aef\uff0c\u8bf7\u5728\u7535\u8111\u7aef\u8bbf\u95ee\u3002"},r.createElement(J.a,{marginTop:1},r.createElement(me.a,{variant:"outlined",onClick:function(){return n.gotoHome()}},"\u7ee7\u7eed\u524d\u5f80"))))}var an=r.lazy((function(){return t.e(18).then(t.bind(null,659))})),rn=r.lazy((function(){return Promise.all([t.e(0),t.e(24)]).then(t.bind(null,655))})),on=r.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(12),t.e(15)]).then(t.bind(null,653))})),cn=r.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(9),t.e(16)]).then(t.bind(null,652))})),ln=r.lazy((function(){return Promise.all([t.e(0),t.e(14)]).then(t.bind(null,656))})),un=r.lazy((function(){return Promise.all([t.e(0),t.e(13)]).then(t.bind(null,657))})),sn=r.lazy((function(){return Promise.all([t.e(0),t.e(25)]).then(t.bind(null,654))})),dn=r.lazy((function(){return Promise.all([t.e(0),t.e(20)]).then(t.bind(null,658))})),mn=r.lazy((function(){return Promise.all([t.e(0),t.e(19)]).then(t.bind(null,660))})),fn=r.lazy((function(){return t.e(23).then(t.bind(null,661))})),pn=r.lazy((function(){return t.e(21).then(t.bind(null,662))})),hn=r.lazy((function(){return t.e(22).then(t.bind(null,663))})),vn=r.lazy((function(){return t.e(17).then(t.bind(null,650))})),bn=r.lazy((function(){return Promise.all([t.e(0),t.e(1),t.e(11)]).then(t.bind(null,651))}));var En=function(){return/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)&&!window.location.pathname.includes("/not-support")&&(window.location.href=window.location.origin+"/not-support"),r.createElement(w.a,null,r.createElement(_.c,null,r.createElement(Re,{path:"/",exact:!0,component:en,layout:we}),r.createElement(Re,{lazy:!0,path:"/home",component:en,layout:we}),r.createElement(Re,{path:"/shadow-home",lazy:!0,component:an,layout:we}),r.createElement(Re,{lazy:!0,path:"/shadow/:id",component:rn,layout:we}),r.createElement(Re,{lazy:!0,path:"/shadow-play/:id",component:on,layout:we}),r.createElement(Re,{lazy:!0,path:"/shadow-upload",component:cn,layout:we,authority:Ee.MEMBER}),r.createElement(Re,{lazy:!0,path:"/profile/:username",component:ln,layout:we}),r.createElement(Re,{lazy:!0,path:"/personal",component:un,layout:we}),r.createElement(Re,{path:"/search/:word",lazy:!0,component:vn,layout:we}),r.createElement(Re,{lazy:!0,path:"/resume",component:sn}),r.createElement(Re,{lazy:!0,path:"/login",component:dn}),r.createElement(Re,{lazy:!0,path:"/completion",component:mn}),r.createElement(Re,{lazy:!0,path:"/403",exact:!0,component:pn}),r.createElement(Re,{lazy:!0,path:"/404",exact:!0,component:fn}),r.createElement(Re,{lazy:!0,path:"/50x",exact:!0,component:hn}),r.createElement(Re,{path:"/not-support",component:tn}),r.createElement(Re,{lazy:!0,path:"/test",exact:!0,component:bn,layout:we}),r.createElement(Re,{lazy:!0,component:fn})))},gn=document.createElement("div");document.body.appendChild(gn);var On=function(e){var n=Object(d.b)().enqueueSnackbar,t=e.message,a=e.options;return r.useEffect((function(){n(t,a)}),[n,t,a]),r.createElement("div",null)},yn={success:function(e,n){this.toast(e,Object(m.a)(Object(m.a)({},n),{},{variant:"success"}))},warning:function(e,n){this.toast(e,Object(m.a)(Object(m.a)({},n),{},{variant:"warning"}))},info:function(e,n){this.toast(e,Object(m.a)(Object(m.a)({},n),{},{variant:"info"}))},error:function(e,n){this.toast(e,Object(m.a)(Object(m.a)({},n),{},{variant:"error"}))},toast:function(e,n){i.render(r.createElement("div",null,r.createElement(d.a,{maxSnack:3},r.createElement(On,{message:e,options:n}))),gn)}},wn=t(47),_n=t(5),jn=t(213),Sn=t(214),Rn=t(212),Nn=t(210),kn=t(51),Cn=new s.InMemoryCache({typePolicies:{User:{fields:{avatar:{read:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn.b;return e||kn.b}},nickname:{read:function(e){return e||kn.d}},description:{read:function(e){return e||kn.c}}}},Character:{fields:{avatar:{read:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kn.b;return e||kn.b}}}},PlatformAuthWay:{fields:{http_domain:{read:function(){return Object(ke.b)()}}}}}}),xn=t(18);function In(){var e=Object(xn.a)(["\n  directive @client on FIELD\n\n  extend type PlatformAuthWay {\n    http_domain: String!\n  }\n\n  extend type User {\n    avatar: String!\n  }\n\n  extend type Character {\n    avatar: String!\n  }\n"]);return In=function(){return e},e}var An,Pn,Tn,Dn,$n,zn=Object(s.gql)(In()),Mn=Object(m.a)(Object(m.a)({},{Query:{current_topic:function(){return{title:"title",description:"description",top_shadows:[],top_shadow:null}},user_urges:function(){return[{nickname:null,avatar:null,username:"sma2lbao080",uid:"046bef3a-8bd1-4343-b0db-2a78c23eb9b3",description:null}]}}}),{});!function(e){e[e.ERROR=1e5]="ERROR",e[e.ENTITY_NOT_FOUND=100404]="ENTITY_NOT_FOUND"}(An||(An={})),function(e){e[e.ERROR=2e5]="ERROR",e[e.MEDIUM_NOT_FOUND=200404]="MEDIUM_NOT_FOUND"}(Pn||(Pn={})),function(e){e[e.ERROR=3e5]="ERROR",e[e.REGISTER_OTP_DIFFERENT=300001]="REGISTER_OTP_DIFFERENT",e[e.REGISTER_OTP_NOT_EXPIRED=300002]="REGISTER_OTP_NOT_EXPIRED",e[e.USER_UNAUTHORIZED=300401]="USER_UNAUTHORIZED",e[e.USER_NOT_FOUND=300404]="USER_NOT_FOUND"}(Tn||(Tn={})),function(e){e[e.ERROR=4e5]="ERROR",e[e.FOLLOWER_OWNER_REPEAT=400001]="FOLLOWER_OWNER_REPEAT",e[e.FOLLOW_NOT_FOUND=400404]="FOLLOW_NOT_FOUND"}(Dn||(Dn={})),function(e){e[e.ERROR=5e5]="ERROR",e[e.MEDIUM_NOT_FOUND=500404]="MEDIUM_NOT_FOUND"}($n||($n={}));var Un=Object(Rn.a)({uri:"https://sma2lbao.cn/api/graphql"}),Fn=new Nn.a({uri:"wss://sma2lbao.cn/api/graphql",options:{reconnect:!0}}),Ln=Object(s.split)((function(e){var n=e.query,t=Object(_n.p)(n);return"OperationDefinition"===t.kind&&"subscription"===t.operation}),Fn,Un),qn=Object(jn.a)((function(e,n){var t=n.headers,a=localStorage.getItem("access_token");return{headers:Object(m.a)(Object(m.a)({},t),a?{authorization:"Bearer ".concat(a)}:{})}})),Bn=Object(Sn.a)((function(e){var n=e.graphQLErrors,t=e.networkError,a=e.operation,r=e.response;("IgnoreErrorsQuery"===a.operationName&&(null===r||void 0===r?void 0:r.errors)&&(r.errors=void 0),n)&&(n.forEach((function(e){var n=e.message,t=e.locations,a=e.path;yn.error(n||"\u670d\u52a1\u5668\u7e41\u5fd9",{preventDuplicate:!0}),wn.b(n),console.log("[GraphQL error]: Message: ".concat(n,", Location: ").concat(t,", Path: ").concat(a))})),n.some((function(e){return e.status===Tn.USER_UNAUTHORIZED}))&&(Object(ke.a)(void 0),localStorage.removeItem("access_token")));t&&(wn.a(t),yn.error("\u670d\u52a1\u5668\u7e41\u5fd9",{preventDuplicate:!0}),console.log("[Network error]: ".concat(t)))})),Hn="mock"===Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_FIREBASE_MEASUREMENTID:"G-8DLV2JEGMF",REACT_APP_FIREBASE_STORAGEBUCKET:"miss-806b9.appspot.com",REACT_APP_FIREBASE_AUTHDOMAIN:"miss-806b9.firebaseapp.com",REACT_APP_FIREBASE_MESSAGINGSENDERID:"235168205247",REACT_APP_FIREBASE_PROJECTID:"miss-806b9",REACT_APP_HTTP_DOMAIN_URL:"https://sma2lbao.cn/api",REACT_APP_FIREBASE_APPID:"1:235168205247:web:205b138db89e2819cdf90a",REACT_APP_SENTRY_DSN:"https://4403b99510984d08b267737a2a4f7c07@o475150.ingest.sentry.io/5512788",REACT_APP_FIREBASE_APIKEY:"AIzaSyCizAPnqkLpEsJzaiOTsvl0L-Dy8_tYhvA",REACT_APP_HTTP_URL:"https://sma2lbao.cn/api/graphql",REACT_APP_FIREBASE_DATABASEURL:"https://miss-806b9.firebaseio.com",REACT_APP_WEBSOCKET_URL:"wss://sma2lbao.cn/api/graphql",REACT_APP_UPLOAD_URL:"https://sma2lbao.cn/api/graphql"}).REACT_APP_ENV?Mn:{},Wn=new s.ApolloClient({resolvers:Hn,typeDefs:zn,cache:Cn,link:Object(s.from)([qn,Bn,Ln]),connectToDevTools:!0}),Qn=function(){return o.a.createElement(y,null,o.a.createElement(u.a,null),o.a.createElement(d.a,{maxSnack:3},o.a.createElement(s.ApolloProvider,{client:Wn},o.a.createElement(En,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Gn=t(165);t(307);Gn.initializeApp({apiKey:"AIzaSyCizAPnqkLpEsJzaiOTsvl0L-Dy8_tYhvA",authDomain:"miss-806b9.firebaseapp.com",databaseURL:"https://miss-806b9.firebaseio.com",projectId:"miss-806b9",storageBucket:"miss-806b9.appspot.com",messagingSenderId:"235168205247",appId:"1:235168205247:web:205b138db89e2819cdf90a",measurementId:"G-8DLV2JEGMF"}),Gn.analytics(),l.a({enabled:!0,dsn:"https://4403b99510984d08b267737a2a4f7c07@o475150.ingest.sentry.io/5512788"});var Yn=document.getElementById("root");(null===Yn||void 0===Yn?void 0:Yn.hasChildNodes())?c.a.render(o.a.createElement(Qn,null),Yn,(function(){var e,n=document.getElementById("server-side-styles");console.log("ssStyles",n),null===n||void 0===n||null===(e=n.parentNode)||void 0===e||e.removeChild(n)})):c.a.render(o.a.createElement(Qn,null),document.getElementById("root"),(function(){!function(){if(window.__PRERENDER_INJECTED__&&window.__PRERENDER_INJECTED__.isPrerender){var e=function(){var e,n="",t=document.styleSheets,r=Object(a.a)(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(!o.href&&o.cssRules&&o.cssRules.length){var i,c=Object(a.a)(o.cssRules);try{for(c.s();!(i=c.n()).done;){n+=i.value.cssText}}catch(l){c.e(l)}finally{c.f()}}}}catch(l){r.e(l)}finally{r.f()}return n}(),n=document.head;!function(e){var n,t=e.querySelectorAll("style"),r=Object(a.a)(t);try{for(r.s();!(n=r.n()).done;){n.value.remove()}}catch(o){r.e(o)}finally{r.f()}}(n);var t=document.createElement("style");t.id="server-side-styles",t.innerHTML=e,n.appendChild(t)}}()})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},34:function(e,n,t){"use strict";var a=t(25),r=t(56),o=function(){var e=Object(a.f)(),n=Object(a.g)();return{push:function(n,t){e.push(n,t)},replace:function(n,t){e.replace(n,t)},gotoHome:function(){e.push("".concat(r.c))},gotoProfile:function(n){e.push("".concat(r.d,"/").concat(n))},gotoShadow:function(n){e.push("".concat(r.f,"/").concat(n))},gotoShadowHome:function(){e.push(r.g)},gotoShadowPlay:function(n,t){e.push("".concat(r.h,"/").concat(n),t)},gotoShadowUpload:function(){e.push("".concat(r.i))},gotoAuthCompletion:function(){e.push("".concat(r.a))},redirectAuthLogin:function(t){e.replace("".concat(r.b),t?{__referrer_from__:n}:void 0)},gotoSearch:function(n){e.push("".concat(r.e,"/").concat(n))}}},i=t(21),c=t(0),l=t(57),u=t(93),s=function(e){var n=e.owner_uid,t=Object(u.b)().enqueueSnackbar,a=f().hasLogged,r=c.useState(!1),o=Object(i.a)(r,2),s=o[0],d=o[1],m=Object(l.l)({onCompleted:function(e){d(e.is_following)}}),p=Object(i.a)(m,1)[0];c.useEffect((function(){n&&a&&p({variables:{owner_uid:n}})}),[a,p,n]);var h=Object(l.d)({onCompleted:function(){d(!0),t("\u5173\u6ce8\u6210\u529f")}}),v=Object(i.a)(h,1)[0],b=Object(l.r)({onCompleted:function(){d(!1),t("\u53d6\u6d88\u6210\u529f")}}),E=Object(i.a)(b,1)[0];return{following:s,toggleFollow:function(){n&&(s?E({variables:{follow:{owner_uid:n}}}):v({variables:{follow:{owner_uid:n}}}))}}},d=t(11),m=t(70),f=function(){var e=o(),n=c.useState(!1),t=Object(i.a)(n,2),r=t[0],u=t[1],s=c.useState(null),f=Object(i.a)(s,2),p=f[0],h=f[1],v=Object(l.n)(),b=Object(i.a)(v,2),E=b[0],g=b[1].data,O=Object(d.useReactiveVar)(m.a),y=Object(a.g)();return c.useEffect((function(){return O?(E(),(null===g||void 0===g?void 0:g.me)&&(u(!0),h(null===g||void 0===g?void 0:g.me))):(h(null),u(!1)),function(){}}),[O,g,E]),{hasLogged:r,member:p,verify:function(){var n=(y.state||{__referrer_from__:{pathname:"/"}}).__referrer_from__;r&&p&&(p.email&&p.uid&&p.username?e.replace(n):e.gotoAuthCompletion())},setAccessToken:function(e){localStorage.setItem("access_token",e),Object(m.a)(e)},clearAccessToken:function(){localStorage.removeItem("access_token"),Object(m.a)(void 0)}}};t.d(n,"c",(function(){return o})),t.d(n,"b",(function(){return s})),t.d(n,"a",(function(){return f}))},51:function(e,n,t){"use strict";t.d(n,"d",(function(){return a})),t.d(n,"c",(function(){return r})),t.d(n,"b",(function(){return o})),t.d(n,"e",(function(){return i})),t.d(n,"a",(function(){return c}));var a="\u4f60\u597d\uff0c\u6253\u5de5\u4eba",r="\u8fd9\u4e2a\u4eba\u5f88\u795e\u79d8\uff0c\u4ec0\u4e48\u4e5f\u6ca1\u6709\u7559\u4e0b\uff01",o="http://sma2lbao.cn/files/miss/2020/11/16/1605506266889",i="http://sma2lbao.cn/files/miss/2020/11/13/1605259701164",c="http://sma2lbao.cn/files/miss/2020/11/13/1605260091918"},56:function(e,n,t){"use strict";t.d(n,"c",(function(){return a})),t.d(n,"g",(function(){return r})),t.d(n,"f",(function(){return o})),t.d(n,"d",(function(){return i})),t.d(n,"h",(function(){return c})),t.d(n,"i",(function(){return l})),t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return s})),t.d(n,"e",(function(){return d}));var a="/home",r="/shadow-home",o="/shadow",i="/profile",c="/shadow-play",l="/shadow-upload",u="/completion",s="/login",d="/search"},57:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"c",(function(){return o})),t.d(n,"m",(function(){return X})),t.d(n,"v",(function(){return ne})),t.d(n,"h",(function(){return ae})),t.d(n,"B",(function(){return oe})),t.d(n,"g",(function(){return ce})),t.d(n,"e",(function(){return ue})),t.d(n,"G",(function(){return de})),t.d(n,"f",(function(){return fe})),t.d(n,"C",(function(){return he})),t.d(n,"d",(function(){return be})),t.d(n,"r",(function(){return ge})),t.d(n,"p",(function(){return ye})),t.d(n,"o",(function(){return _e})),t.d(n,"n",(function(){return je})),t.d(n,"i",(function(){return Re})),t.d(n,"z",(function(){return ke})),t.d(n,"F",(function(){return xe})),t.d(n,"q",(function(){return Ae})),t.d(n,"x",(function(){return Te})),t.d(n,"A",(function(){return $e})),t.d(n,"E",(function(){return Me})),t.d(n,"y",(function(){return Fe})),t.d(n,"w",(function(){return qe})),t.d(n,"b",(function(){return Be})),t.d(n,"t",(function(){return He})),t.d(n,"u",(function(){return Qe})),t.d(n,"l",(function(){return Ye})),t.d(n,"D",(function(){return Je})),t.d(n,"j",(function(){return Ze})),t.d(n,"k",(function(){return en})),t.d(n,"s",(function(){return tn}));var a,r,o,i=t(18),c=t(15),l=t.n(c),u=t(11);function s(){var e=Object(i.a)(["\n  subscription reviewCreated($type: ReviewMedium!, $type_id: ID!) {\n    review_created(type: $type, type_id: $type_id) {\n      ...Review\n      author {\n        ...Author\n      }\n    }\n  }\n  ","\n  ","\n"]);return s=function(){return e},e}function d(){var e=Object(i.a)(["\n  query followsTotal($follower_uid: String) {\n    follows_total(follower_uid: $follower_uid)\n  }\n"]);return d=function(){return e},e}function m(){var e=Object(i.a)(["\n  query fansTotal($owner_uid: String) {\n    fans_total(owner_uid: $owner_uid)\n  }\n"]);return m=function(){return e},e}function f(){var e=Object(i.a)(["\n  query user($uid: String, $username: String) {\n    user(uid: $uid, username: $username) {\n      uid\n      username\n      email\n      nickname\n      avatar\n      mobile\n      address\n      description\n      create_at\n      update_at\n      delete_at\n    }\n  }\n"]);return f=function(){return e},e}function p(){var e=Object(i.a)(["\n  query isFollowing($owner_uid: String!, $follower_uid: String) {\n    is_following(owner_uid: $owner_uid, follower_uid: $follower_uid)\n  }\n"]);return p=function(){return e},e}function h(){var e=Object(i.a)(["\n  query searchShadowsPaginated($word: String, $query: PaginatedQuery) {\n    search_shadows_paginated(word: $word, query: $query) {\n      totalCount\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n      edges {\n        cursor\n        node {\n          ...Shadow\n          author {\n            ...Author\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return h=function(){return e},e}function v(){var e=Object(i.a)(["\n  query reviewsPaginated(\n    $type: ReviewMedium\n    $type_id: ID\n    $query: PaginatedQuery\n  ) {\n    reviews_paginated(type: $type, type_id: $type_id, query: $query) {\n      totalCount\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n      edges {\n        cursor\n        node {\n          ...Review\n          author {\n            ...Author\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function b(){var e=Object(i.a)(["\n  query shadowNextUrgesByShadow($shadow_id: ID!) {\n    shadow_next_urges_by_shadow(shadow_id: $shadow_id) {\n      ...Shadow\n      author {\n        ...Author\n      }\n    }\n  }\n  ","\n  ","\n"]);return b=function(){return e},e}function E(){var e=Object(i.a)(["\n  query shadowUrgesByShadow($shadow_id: ID!) {\n    shadow_urges_by_shadow(shadow_id: $shadow_id) {\n      ...Shadow\n      author {\n        ...Author\n      }\n    }\n  }\n  ","\n  ","\n"]);return E=function(){return e},e}function g(){var e=Object(i.a)(["\n  query userShadowsPaginated(\n    $author_username: String!\n    $query: PaginatedQuery\n  ) {\n    user_shadows_paginated(author_username: $author_username, query: $query) {\n      totalCount\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n      edges {\n        cursor\n        node {\n          ...Shadow\n          author {\n            ...Author\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return g=function(){return e},e}function O(){var e=Object(i.a)(["\n  query shadowsPaginated($query: PaginatedQuery) {\n    shadows_paginated(query: $query) {\n      totalCount\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n      edges {\n        cursor\n        node {\n          ...Shadow\n          author {\n            ...Author\n          }\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return O=function(){return e},e}function y(){var e=Object(i.a)(["\n  query shadow($id: ID!) {\n    shadow(id: $id) {\n      credits {\n        avatar\n        name\n        description\n      }\n      author {\n        ...Author\n      }\n      alias_title\n      region\n      ...Shadow\n      sources {\n        ...ShadowSource\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return y=function(){return e},e}function w(){var e=Object(i.a)(["\n  query playlistsPaginated(\n    $query: PaginatedQuery\n    $author_uid: String\n    $author_username: String\n  ) {\n    playlists_paginated(\n      query: $query\n      author_uid: $author_uid\n      author_username: $author_username\n    ) {\n      totalCount\n      pageInfo {\n        hasNextPage\n        endCursor\n      }\n      edges {\n        cursor\n        node {\n          title\n          description\n          cover\n          create_at\n        }\n      }\n    }\n  }\n"]);return w=function(){return e},e}function _(){var e=Object(i.a)(["\n  query userUrges {\n    user_urges {\n      nickname\n      avatar\n      username\n      uid\n      description\n    }\n  }\n"]);return _=function(){return e},e}function j(){var e=Object(i.a)(["\n  query shadowUrges {\n    shadow_urges {\n      ...Shadow\n      author {\n        ...Author\n      }\n    }\n  }\n  ","\n  ","\n"]);return j=function(){return e},e}function S(){var e=Object(i.a)(["\n  query currentTopic {\n    current_topic {\n      id\n      title\n      description\n      top_shadows {\n        ...Shadow\n        author {\n          ...Author\n        }\n      }\n      top_shadow {\n        ...Shadow\n        author {\n          ...Author\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return S=function(){return e},e}function R(){var e=Object(i.a)(["\n  query me {\n    me {\n      ...Me\n    }\n  }\n  ","\n"]);return R=function(){return e},e}function N(){var e=Object(i.a)(["\n  query hasUsername($username: String!) {\n    has_username(username: $username)\n  }\n"]);return N=function(){return e},e}function k(){var e=Object(i.a)(["\n  query platformAuthWay {\n    platform_auth_way {\n      platform\n      url\n      http_domain @client\n    }\n  }\n"]);return k=function(){return e},e}function C(){var e=Object(i.a)(["\n  mutation removeFollow($follow: DeleteFollowInput!) {\n    remove_follow(follow: $follow) {\n      create_at\n    }\n  }\n"]);return C=function(){return e},e}function x(){var e=Object(i.a)(["\n  mutation createFollow($follow: CreateFollowInput!) {\n    create_follow(follow: $follow) {\n      create_at\n    }\n  }\n"]);return x=function(){return e},e}function I(){var e=Object(i.a)(["\n  mutation uploadFileOss($file: Upload!) {\n    upload_file_oss(file: $file)\n  }\n"]);return I=function(){return e},e}function A(){var e=Object(i.a)(["\n  mutation createReview($review: CreateReviewInput!) {\n    create_review(review: $review) {\n      id\n    }\n  }\n"]);return A=function(){return e},e}function P(){var e=Object(i.a)(["\n  query vote($medium_id: ID!) {\n    vote(medium_id: $medium_id) {\n      status\n    }\n  }\n"]);return P=function(){return e},e}function T(){var e=Object(i.a)(["\n  mutation createOrUpdateVote($vote: CreateVoteInput!) {\n    create_or_update_vote(vote: $vote) {\n      status\n    }\n  }\n"]);return T=function(){return e},e}function D(){var e=Object(i.a)(["\n  mutation addMediumsToShadow(\n    $shadow_id: ID!\n    $shadow_medium: CreateShadowMediumInput!\n  ) {\n    add_mediums_to_shadow(\n      shadow_id: $shadow_id\n      shadow_medium: $shadow_medium\n    ) {\n      sources {\n        name\n      }\n    }\n  }\n"]);return D=function(){return e},e}function $(){var e=Object(i.a)(["\n  mutation updateShadow($shadow: UpdateShadowInput!, $shadow_id: ID!) {\n    update_shadow(shadow_id: $shadow_id, shadow: $shadow) {\n      create_at\n    }\n  }\n"]);return $=function(){return e},e}function z(){var e=Object(i.a)(["\n  mutation createShadow($shadow: CreateShadowInput!) {\n    create_shadow(shadow: $shadow) {\n      create_at\n    }\n  }\n"]);return z=function(){return e},e}function M(){var e=Object(i.a)(["\n  mutation updateUser($user: UpdateUserInput!) {\n    update_user(user: $user) {\n      ...Me\n    }\n  }\n  ","\n"]);return M=function(){return e},e}function U(){var e=Object(i.a)(["\n  mutation createUserWithCode($user: CreateUserWithCodeInput!) {\n    create_user_with_code(user: $user) {\n      username\n      avatar\n    }\n  }\n"]);return U=function(){return e},e}function F(){var e=Object(i.a)(["\n  mutation sendRegisterEmail($email: String!) {\n    send_register_email(email: $email)\n  }\n"]);return F=function(){return e},e}function L(){var e=Object(i.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password)\n  }\n"]);return L=function(){return e},e}function q(){var e=Object(i.a)(["\n  fragment Review on Review {\n    id\n    content\n    create_at\n    update_at\n  }\n"]);return q=function(){return e},e}function B(){var e=Object(i.a)(["\n  fragment Shadow on Shadow {\n    id\n    description\n    title\n    sub_title\n    create_at\n    update_at\n    cover\n    posters\n    region\n    about\n    sources {\n      ...ShadowSource\n    }\n  }\n  ","\n"]);return B=function(){return e},e}function H(){var e=Object(i.a)(["\n  fragment ShadowSource on ShadowMedium {\n    id\n    cover\n    url\n    super_quality_url\n    preview_url\n    posters\n    name\n    sub_name\n    medium_quality_url\n    low_quality_url\n    high_quality_url\n    youtube_url\n    duration\n    description\n    alias_name\n    create_at\n    update_at\n    vote_like_count\n    vote_dislike_count\n  }\n"]);return H=function(){return e},e}function W(){var e=Object(i.a)(["\n  fragment Author on User {\n    uid\n    avatar\n    nickname\n    username\n    description\n  }\n"]);return W=function(){return e},e}function Q(){var e=Object(i.a)(["\n  fragment Me on User {\n    uid\n    username\n    email\n    nickname\n    avatar\n    mobile\n    address\n    description\n    create_at\n    update_at\n  }\n"]);return Q=function(){return e},e}!function(e){e.Mainland="Mainland",e.America="America",e.Hongkong="Hongkong",e.Taiwan="Taiwan",e.Britain="Britain",e.India="India"}(a||(a={})),function(e){e.Medium="MEDIUM",e.Shadow="SHADOW"}(r||(r={})),function(e){e.Likd="LIKD",e.Dislike="DISLIKE",e.Default="DEFAULT"}(o||(o={}));var G=l()(Q()),Y=l()(W()),V=l()(H()),J=l()(B(),V),K=l()(q()),Z=l()(L());function X(e){return u.useMutation(Z,e)}var ee=l()(F());function ne(e){return u.useMutation(ee,e)}var te=l()(U());function ae(e){return u.useMutation(te,e)}var re=l()(M(),G);function oe(e){return u.useMutation(re,e)}var ie=l()(z());function ce(e){return u.useMutation(ie,e)}l()($());l()(D());var le=l()(T());function ue(e){return u.useMutation(le,e)}var se=l()(P());function de(e){return u.useLazyQuery(se,e)}var me=l()(A());function fe(e){return u.useMutation(me,e)}var pe=l()(I());function he(e){return u.useMutation(pe,e)}var ve=l()(x());function be(e){return u.useMutation(ve,e)}var Ee=l()(C());function ge(e){return u.useMutation(Ee,e)}var Oe=l()(k());function ye(e){return u.useQuery(Oe,e)}l()(N());var we=l()(R(),G);function _e(e){return u.useQuery(we,e)}function je(e){return u.useLazyQuery(we,e)}var Se=l()(S(),J,Y);function Re(e){return u.useQuery(Se,e)}var Ne=l()(j(),J,Y);function ke(e){return u.useQuery(Ne,e)}var Ce=l()(_());function xe(e){return u.useQuery(Ce,e)}var Ie=l()(w());function Ae(e){return u.useQuery(Ie,e)}var Pe=l()(y(),Y,J,V);function Te(e){return u.useQuery(Pe,e)}var De=l()(O(),J,Y);function $e(e){return u.useQuery(De,e)}var ze=l()(g(),J,Y);function Me(e){return u.useQuery(ze,e)}var Ue=l()(E(),J,Y);function Fe(e){return u.useQuery(Ue,e)}var Le=l()(b(),J,Y);function qe(e){return u.useQuery(Le,e)}var Be=l()(v(),K,Y);function He(e){return u.useQuery(Be,e)}var We=l()(h(),J,Y);function Qe(e){return u.useQuery(We,e)}var Ge=l()(p());function Ye(e){return u.useLazyQuery(Ge,e)}var Ve=l()(f());function Je(e){return u.useQuery(Ve,e)}var Ke=l()(m());function Ze(e){return u.useQuery(Ke,e)}var Xe=l()(d());function en(e){return u.useQuery(Xe,e)}var nn=l()(s(),K,Y);function tn(e){return u.useSubscription(nn,e)}},70:function(e,n,t){"use strict";t.d(n,"b",(function(){return r})),t.d(n,"a",(function(){return o})),t.d(n,"c",(function(){return i}));var a=t(11),r=Object(a.makeVar)("https://sma2lbao.cn/api"),o=Object(a.makeVar)(localStorage.getItem("access_token")),i=Object(a.makeVar)(!0)},73:function(e,n,t){"use strict";var a=t(0),r=t(3),o=t(225),i=t(221),c=t(440),l=t(364),u=t(65),s=Object(o.a)((function(e){return Object(i.a)({root:{display:"inline-flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:function(e){var n;return null!==(n=e.width)&&void 0!==n?n:"100%"},height:function(e){var n;return null!==(n=e.height)&&void 0!==n?n:"100%"},color:e.palette.text.secondary,flex:1,padding:e.spacing(2,0)},icon:function(n){return n.size?{fontSize:n.size}:e.custom.base.icon.large}})})),d=function(e){var n=s(e),t=e.title,o=e.subtitle,i=e.children;return a.createElement("div",{className:n.root},a.createElement(c.a,{mb:1},a.createElement(l.a,{className:Object(r.a)("iconfont icon-logo",n.icon)})),t&&a.createElement(u.a,{variant:"h6"},t),o&&a.createElement(u.a,{variant:"subtitle1"},o),i)};t.d(n,"a",(function(){return m}));n.b=d;var m=d},81:function(e,n,t){"use strict";var a=t(68),r=t(0),o=t(440),i=t(446),c=t(65),l=t(225),u=t(221),s=t(92),d=t(3),m=t(83),f=t.n(m),p=Object(l.a)((function(e){return Object(u.a)({duration:{color:"#fff",backgroundColor:"rgba(0, 0, 0, 0.75)",borderRadius:e.shape.borderRadius,width:60,height:24,fontSize:12}})}));function h(e){var n=p(),t=e.duration;"s"===e.unit&&(t*=1e3);var a=f.a.duration(t,"ms").hours()+"",i=f.a.duration(t,"ms").minutes()+"",c=f.a.duration(t,"ms").seconds()+"",l=a.padStart(2,"0")+":"+i.padStart(2,"0")+":"+c.padStart(2,"0");return r.createElement(o.a,{className:Object(d.a)(n.duration,e.classes.root,e.className),display:"flex",justifyContent:"center",alignItems:"center"},l)}h.defaultProps={unit:"ms"};var v=h,b=t(51),E=t(228),g=Object(l.a)((function(e){return Object(u.a)({wrap:{width:"100%",pointerEvents:function(e){return e.disabled||e.loading?"none":"auto"}},cover:{position:"relative"},avatar:Object(a.a)({width:56,height:56,backgroundColor:e.palette.background.paper,border:"3px solid",borderColor:e.palette.background.paper,position:"absolute",bottom:-28,right:10,borderRadius:"50%"},e.breakpoints.down("md"),{width:40,height:40,bottom:-20,right:8}),desc:{overflow:"hidden",display:"-webkit-box",textOverflow:"ellipsis","-webkit-line-clamp":2,"-webkit-box-orient":"vertical"},duration:{position:"absolute",left:10,bottom:10}})})),O=function(e){var n=g(e),t=function(n){n.stopPropagation(),e.onClickAuthor&&e.onClickAuthor(n)};return e.loading?r.createElement(y,{classes:n}):r.createElement(o.a,{className:n.wrap,onClick:function(n){n.stopPropagation(),e.onClickRoot&&e.onClickRoot(n)}},r.createElement("div",{className:n.cover},r.createElement(s.b,{src:e.cover||b.e,aspectRatio:16/9}),e.duration&&r.createElement(v,{classes:{root:n.duration},duration:e.duration}),r.createElement(i.a,{onClick:t,className:n.avatar,src:e.author&&e.author.avatar})),r.createElement(o.a,{padding:1},r.createElement(c.a,{onClick:t,variant:"body2",color:"textSecondary"},e.author&&(e.author.nickname||e.author.username)),r.createElement(c.a,{variant:"subtitle1",noWrap:!0},e.title||e.name),e.showDescription&&r.createElement(c.a,{className:n.desc,variant:"body2",color:"textSecondary"},e.description),r.createElement(o.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},r.createElement(c.a,{variant:"caption",color:"textSecondary"},"\u53d1\u5e03\u4e8e\uff1a",f()(e.create_at).format("YYYY-MM-DD")))))},y=function(e){return r.createElement(o.a,{className:e.classes.wrap},r.createElement("div",{className:e.classes.cover},r.createElement(s.b,{aspectRatio:16/9}),r.createElement("div",{className:e.classes.avatar},r.createElement(E.a,{width:"100%",height:"100%",variant:"circle"}))),r.createElement(o.a,{padding:1},r.createElement(c.a,{variant:"body2",color:"textSecondary"},r.createElement(E.a,{width:"20%"})),r.createElement(c.a,{variant:"subtitle1",noWrap:!0},r.createElement(E.a,{width:"40%"})),r.createElement(o.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},r.createElement(E.a,{width:"30%"}),r.createElement(E.a,{width:"40%"}))))},w=Object(l.a)((function(e){return Object(u.a)({wrap:{width:"100%"},cover:{position:"relative"},duration:{position:"absolute",left:10,bottom:10}})})),_=function(e){var n=w();return r.createElement(o.a,{className:n.wrap,onClick:function(n){n.stopPropagation(),e.onClickRoot&&e.onClickRoot(n)}},r.createElement("div",{className:n.cover},r.createElement(s.b,{src:e.cover||b.e,aspectRatio:16/9}),e.duration&&r.createElement(v,{classes:{root:n.duration},duration:e.duration})),r.createElement(o.a,{padding:1},r.createElement(c.a,{variant:"subtitle1",noWrap:!0},e.title||e.name),r.createElement(o.a,{display:"flex",justifyContent:"space-between",alignItems:"center"},r.createElement(c.a,{variant:"caption",color:"textSecondary"},"\u53d1\u5e03\u4e8e\uff1a",f()(e.create_at).format("YYYY-MM-DD")))))},j=Object(l.a)((function(e){return Object(u.a)({wrap:{width:"100%"},cover:{position:"relative"},duration:{position:"absolute",left:10,bottom:10}})})),S=function(e){var n=j();return r.createElement(o.a,{className:n.wrap,onClick:function(n){n.stopPropagation(),e.onClickRoot&&e.onClickRoot(n)}},r.createElement("div",{className:n.cover},r.createElement(s.b,{src:e.cover||b.e,aspectRatio:16/9}),e.duration&&r.createElement(v,{classes:{root:n.duration},duration:e.duration})))},R=t(80),N=t(366),k=t(385),C=Object(l.a)((function(e){return Object(u.a)({wrap:{position:"relative"},tool:{position:"absolute",left:10,top:10,display:"flex",justifyContent:"flex-end"}})}));function x(e){return function(n){var t=C(),a=n.onDelete,o=Object(R.a)(n,["onDelete"]);return r.createElement("div",{className:t.wrap},r.createElement(e,o),r.createElement("div",{className:t.tool},r.createElement(N.a,{onClick:a},r.createElement(k.a,null))))}}t.d(n,"a",(function(){return O})),t.d(n,"b",(function(){return _})),t.d(n,"c",(function(){return S})),t.d(n,"d",(function(){return x}))},89:function(e,n,t){"use strict";var a=t(0),r=t(225),o=t(221),i=t(170),c=t(73),l=t(118),u=Object(r.a)((function(e){return Object(o.a)({root:{}})})),s=function(e){var n=u(),t=e.component,r=e.placeholder,o=e.placeholderTitle,s=e.placeholderSubtitle,d=e.placeholderNode,m=e.loading,f=e.loadingTitle,p=e.loadingSubtitle,h=e.loadingNode,v=e.error,b=e.errorTitle,E=e.errorSubtitle,g=e.errorNode,O=t||"div";return a.createElement(O,{className:n.root},m&&(h||a.createElement(l.b,{title:f,subtitle:p})),v&&(g||a.createElement(i.b,{title:b,subtitle:E})),r&&!v&&!m&&(d||a.createElement(c.b,{title:o,subtitle:s})))},d=t(80),m=t(65),f=function(e){var n=e.component,t=(e.placeholderNode,e.loadingNode,e.errorNode,Object(d.a)(e,["component","placeholderNode","loadingNode","errorNode"]));return a.createElement(s,Object.assign({component:n||"span",placeholderNode:a.createElement(m.a,{variant:"inherit"},"\u656c\u8bf7\u671f\u5f85"),loadingNode:a.createElement(m.a,{variant:"inherit"},"loading"),errorNode:a.createElement(m.a,{variant:"inherit"},"\u51fa\u9519\u5566")},t))};t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return f}));var p=s},92:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var a,r=t(21),o=t(0),i=t(225),c=t(221),l=t(228),u=t(167),s=Object(i.a)((function(e){return Object(c.a)({image:{objectFit:function(e){return e.objectFit||"cover"},width:"100%",height:"100%"}})}));!function(e){e[e.Loading=0]="Loading",e[e.Success=1]="Success",e[e.Failuare=-1]="Failuare"}(a||(a={}));var d=function(e){var n=s(e),t=e.src,i=e.alt,c=e.aspectRatio,d=e.width,m=e.height,f=o.useState(a.Loading),p=Object(r.a)(f,2),h=p[0],v=p[1];return o.createElement(u.a,{ratio:c,width:d,height:m},t&&h!==a.Failuare&&o.createElement("img",{alt:i,className:n.image,src:t,onLoad:function(){v(a.Success)},onError:function(){v(a.Failuare)}}),h!==a.Success&&o.createElement(o.Fragment,null,h===a.Loading&&o.createElement(l.a,{variant:"rect",animation:"wave",height:"100%",width:"100%"}),h===a.Failuare&&o.createElement(l.a,{variant:"rect",animation:"wave",height:"100%",width:"100%"})))};n.b=d}},[[247,8,0,3,5,6,4,7,10]]]);
//# sourceMappingURL=main.69a4616f.chunk.js.map