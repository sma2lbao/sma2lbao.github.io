(this.webpackJsonpmiss=this.webpackJsonpmiss||[]).push([[19],{598:function(e,a,t){"use strict";t.r(a);var n=t(26),l=t(0),r=t.n(l),c=t(591),i=t(351),o=t(312),u=t(73),d=t(50),m=t(41),s=t(25),f=Object(s.a)(r.a.createElement("path",{d:"M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3"}),"GitHub"),v=t(109);function b(){var e=Object(m.a)().verify,a=Object(u.b)().enqueueSnackbar,t=l.useState(""),r=Object(n.a)(t,2),s=r[0],b=r[1],p=l.useState(""),g=Object(n.a)(p,2),h=g[0],E=g[1],j=Object(d.o)(),O=j.data,w=j.loading,k=j.error,C=Object(d.g)({onCompleted:function(t){a("\u767b\u5f55\u6210\u529f"),Object(v.a)(null===t||void 0===t?void 0:t.login),e()},onError:function(e){console.log(e)}}),y=Object(n.a)(C,2),S=y[0],_=y[1].loading;return l.useEffect((function(){e()})),l.createElement("div",null,l.createElement("form",null,l.createElement(c.a,{id:"username",label:"\u7528\u6237\u540d",value:s,onChange:function(e){return b(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",fullWidth:!0,margin:"normal"}),l.createElement(c.a,{id:"password",label:"\u5bc6\u7801",type:"password",value:h,onChange:function(e){return E(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",fullWidth:!0,margin:"normal"}),l.createElement(i.a,{variant:"contained",onClick:function(){S({variables:{username:s,password:h}})},disabled:_},_?"\u767b\u5f55\u4e2d":"\u767b\u5f55")),null===O||void 0===O?void 0:O.platform_auth_way.map((function(t,n){return l.createElement("div",{key:n},l.createElement(o.a,{onClick:function(){return function(t,n,l){var r=(window.screen.availHeight-450)/2,c=(window.screen.availWidth-450)/2,i=window.open(l+n,t,"width=".concat(450,",height=").concat(450,",top=").concat(r,",left=").concat(c,",toolbar=0,menubar=0,location=0,status=0"));if(i){var o=setInterval((function(){i.postMessage({type:"access_token"},l)}),1e3);window.addEventListener("message",(function(t){var n=t.data;n&&"access_token_callback"===n.type&&(clearInterval(o),i&&i.close(),a(n.data.access_token?"\u767b\u5f55\u6210\u529f":n.data.error||"\u767b\u5f55\u5931\u8d25"),Object(v.a)(n.data.access_token),e())}))}}(t.platform,t.url,t.http_domain)}},"github"===t.platform&&l.createElement(f,null)))})),w&&l.createElement("div",null,"loading"),k&&l.createElement("div",null,"error"))}var p=t(336);function g(){var e=Object(m.a)().verify,a=Object(u.b)().enqueueSnackbar,t=l.useState(""),r=Object(n.a)(t,2),o=r[0],s=r[1],f=l.useState(""),v=Object(n.a)(f,2),b=v[0],g=v[1],h=l.useState(""),E=Object(n.a)(h,2),j=E[0],O=E[1],w=l.useState(""),k=Object(n.a)(w,2),C=k[0],y=k[1],S=Object(d.e)({variables:{username:o}}),_=S.data,x=S.loading;console.log("_changeUsername: ",o,_,x);var W=Object(d.r)({onCompleted:function(){a("\u53d1\u9001\u6210\u529f")}}),q=Object(n.a)(W,1)[0],N=Object(d.c)({onCompleted:function(t){a("\u6ce8\u518c\u6210\u529f"),e()}}),I=Object(n.a)(N,1)[0];return l.useEffect((function(){e()})),l.createElement("div",null,l.createElement("form",null,l.createElement(c.a,{id:"username",label:"\u7528\u6237\u540d",required:!0,value:o,onChange:function(e){s(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",fullWidth:!0,margin:"normal"}),l.createElement(c.a,{id:"password",label:"\u5bc6\u7801",type:"password",required:!0,value:b,onChange:function(e){return g(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",fullWidth:!0,margin:"normal"}),l.createElement(c.a,{id:"email",label:"\u90ae\u7bb1",type:"email",required:!0,value:j,onChange:function(e){return O(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",fullWidth:!0,margin:"normal"}),l.createElement(p.a,null,l.createElement(c.a,{id:"code",label:"\u9a8c\u8bc1\u7801",value:C,onChange:function(e){return y(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",margin:"normal"}),l.createElement(i.a,{variant:"contained",onClick:function(){q({variables:{email:j}})}},"\u83b7\u53d6\u9a8c\u8bc1\u7801")),l.createElement(i.a,{variant:"contained",fullWidth:!0,onClick:function(){I({variables:{user:{username:o,password:b,email:j,code:C}}})}},"\u6ce8\u518c")))}var h=t(166),E=t.n(h),j=t(169),O=t(71),w=t(274),k=t(269),C=Object(j.autoPlay)(E.a),y=Object(w.a)((function(e){return Object(k.a)({image:{width:"100%",height:"100%"}})}));function S(e){var a=y(),t=e.images;return l.createElement("div",null,l.createElement(C,{enableMouseEvents:!0,index:0},t.map((function(e,t){return l.createElement("div",{className:a.image,key:t},l.createElement(O.b,{src:e}))}))))}S.defaultProps={images:["https://pic1.zhimg.com/v2-cc17d8b31fe162fdbfadba1d18b7836e_1200x500.jpg","http://n.sinaimg.cn/collect/crawl/20160224/ZFh0-fxprucv9824132.jpg"]};var _=S;t.d(a,"default",(function(){return W}));var x=Object(w.a)((function(e){return Object(k.a)({root:{width:"100%",height:"100vh",fontSize:0,overflow:"hidden"},left:{flex:1,backgroundColor:e.palette.primary.main},right:{flex:1,backgroundColor:e.palette.background.paper,display:"flex",alignItems:"center",justifyContent:"center"},main:{width:300}})}));function W(){var e=x(),a=l.useState(0),t=Object(n.a)(a,2),r=t[0],c=t[1];return l.createElement(p.a,{className:e.root,display:"flex"},l.createElement("div",{className:e.left},l.createElement(_,null)),l.createElement("div",{className:e.right},l.createElement("div",{className:e.main},l.createElement(i.a,{onClick:function(e){return c(0)}},"\u767b\u5f55"),l.createElement(i.a,{onClick:function(e){return c(1)}},"\u6ce8\u518c"),l.createElement("div",null,0===r&&l.createElement(b,null),1===r&&l.createElement(g,null)))))}}}]);
//# sourceMappingURL=19.6532e0d6.chunk.js.map