{"version":3,"file":"static/js/14.3a40995c.chunk.js","mappings":"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","sources":["components/app/player/shadow-player.tsx","components/app/player/with-third.tsx","components/app/input/input.interface.ts","components/app/input/use-editable-input.tsx","components/app/input/editable-input.tsx","common/constants/cos.constant.ts","hooks/upload.helper.ts","components/app/file-upload/file-upload.tsx","components/app/file-upload/dialog-file-upload.tsx","views/shadows/shadow-upload/modules/edit-cast/index.tsx","views/shadows/shadow-upload/modules/edit-top/index.tsx","views/shadows/shadow-upload/modules/edit-medium-info/edit-info.tsx","views/shadows/shadow-upload/modules/edit-medium-info/index.tsx","views/shadows/shadow-upload/modules/edit-main/index.tsx","components/base/editor/controls.tsx","components/base/editor/normal-editor.tsx","views/shadows/shadow-upload/modules/edit-about/index.tsx","components/base/confirm/index.tsx","views/shadows/shadow-upload/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport ReactPlayer, { ReactPlayerProps } from 'react-player';\nimport { AspectRatioBox } from '@/components/base/aspect-ration-box';\n\nconst PREFIX = 'ShadowPlayer';\n\nconst classes = {\n  player: `${PREFIX}-player`,\n};\n\nconst StyledAspectRatioBox = styled(AspectRatioBox)(() => ({\n  [`& .${classes.player}`]: {\n    width: '100% !important',\n    height: '100% !important',\n    background: '#000',\n  },\n}));\n\nexport interface PlayerBaseProps\n  extends Omit<\n    ReactPlayerProps,\n    'url' | 'playing' | 'controls' | 'muted' | 'wrapper' | 'light'\n  > {}\n\nexport const ShadowPlayer: React.FC<PlayerBaseProps> = (props) => {\n  const { url, ...rest } = props;\n  const isM3u8 = url?.toString().endsWith('.m3u8');\n  const videoRef = React.createRef<ReactPlayer>();\n\n  return (\n    <StyledAspectRatioBox ratio={16 / 9}>\n      <ReactPlayer\n        ref={videoRef}\n        className={classes.player}\n        {...rest}\n        url={url}\n        config={{\n          file: {\n            forceHLS: isM3u8,\n            attributes: {\n              controlsList: 'nodownload noremoteplayback',\n              disablePictureInPicture: true,\n              // onContextMenu: (e) => e.preventDefault(),\n            },\n          },\n          youtube: {\n            playerVars: {\n              autoplay: rest.playing,\n              modestbranding: 1,\n              rel: 0,\n              showinfo: 0,\n              controls: rest.controls,\n            },\n            embedOptions: {},\n          },\n        }}\n      />\n    </StyledAspectRatioBox>\n  );\n};\n\nShadowPlayer.defaultProps = {\n  controls: true,\n  playing: true,\n};\n\nexport default ShadowPlayer;\n","import * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport { ThemeProvider, ToggleButtonGroup, ToggleButton } from '@mui/material';\nimport { YouTube } from '@mui/icons-material';\nconst PREFIX = 'withThird';\n\nconst classes = {\n  wrap: `${PREFIX}-wrap`,\n  tool: `${PREFIX}-tool`,\n  grouped: `${PREFIX}-grouped`,\n};\n\nconst Root = styled('div')(({ theme }) => ({\n  [`&.${classes.wrap}`]: {\n    position: 'relative',\n    width: '100%',\n  },\n\n  [`& .${classes.tool}`]: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: '50%',\n    transform: 'translateY(-50%)',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    maxHeight: '50%',\n    overflow: 'auto',\n    background: 'rgba(0, 0, 0, .1)',\n    backdropFilter: 'blur(8px)',\n    color: '#fff',\n    padding: theme.spacing(1),\n    borderRadius: theme.shape.borderRadius,\n    visibility: 'hidden',\n    '$wrap:hover &': {\n      visibility: 'initial',\n    },\n  },\n\n  [`& .${classes.grouped}`]: {\n    border: 'none',\n    '&:not(:first-child)': {\n      borderRadius: theme.shape.borderRadius,\n    },\n    '&:first-child': {\n      borderRadius: theme.shape.borderRadius,\n    },\n  },\n}));\n\nexport interface WithThirdProps {\n  youtubeUrl?: string | null;\n}\n\nexport function withThird<P>(Component: React.FC<P & WithThirdProps>) {\n  return (props: P & WithThirdProps) => {\n    const { youtubeUrl, ...rest } = props;\n    const originUrl = rest && (rest as any).url ? (rest as any).url : undefined;\n    const [bridgUrl, setBridgUrl] = React.useState<string>(originUrl);\n    const [source, setSource] = React.useState<string>();\n\n    const showThird =\n      youtubeUrl &&\n      rest &&\n      (rest as any).url &&\n      (rest as any).url !== youtubeUrl;\n\n    const handleChange = (\n      event: React.MouseEvent<HTMLElement>,\n      nextValue: string\n    ) => {\n      setSource(nextValue);\n    };\n    React.useEffect(() => {\n      if (source === 'youtube') {\n        setBridgUrl(youtubeUrl as string);\n      } else {\n        setBridgUrl(originUrl);\n      }\n    }, [source, originUrl, youtubeUrl]);\n\n    return (\n      <Root className={classes.wrap}>\n        <Component {...(rest as P)} url={bridgUrl} />\n        {showThird && (\n          <div className={classes.tool}>\n            <ThemeProvider theme={{ palette: { type: 'dark' } }}>\n              <ToggleButtonGroup\n                classes={{ grouped: classes.grouped }}\n                orientation=\"vertical\"\n                value={source}\n                exclusive\n                onChange={handleChange}\n              >\n                <ToggleButton value=\"youtube\">\n                  <YouTube></YouTube>\n                </ToggleButton>\n              </ToggleButtonGroup>\n            </ThemeProvider>\n          </div>\n        )}\n      </Root>\n    );\n  };\n}\nexport default withThird;\n","import { InputProps } from '@mui/material';\n\nconst variantProps = [\n  'body1',\n  'body2',\n  'button',\n  'caption',\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'inherit',\n  'overline',\n  'subtitle1',\n  'subtitle2',\n] as const;\n\nexport interface BaseInputAttributes {\n  placeholder?: string;\n\n  variant?: typeof variantProps[number];\n}\n\nexport interface BaseInputProps extends InputProps, BaseInputAttributes {\n  value: any;\n\n  onChange?(e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>): void;\n}\n\nexport enum InputStatus {\n  NORMAL = 0, // 默认状态\n\n  EDITING = 1, // 编辑中\n}\n","import * as React from \"react\";\n\nexport const useEditableInput = (initValue?: any): [any, any] => {\n  const [value, setValue] = React.useState(initValue);\n\n  const onChange = (\n    e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => {\n    setValue(e.target.value);\n  };\n\n  return [value, onChange];\n};\n","import React from 'react';\nimport {\n  Input,\n  InputAdornment,\n  IconButton,\n  ClickAwayListener,\n} from '@mui/material';\nimport { BaseInputProps, InputStatus } from './input.interface';\nimport { Edit } from '@mui/icons-material';\n\nexport const EditableInput: React.FC<BaseInputProps> = (props) => {\n  const { value, onChange, placeholder, variant = 'inherit', ...rest } = props;\n  const [status, setStatus] = React.useState<InputStatus>(InputStatus.NORMAL);\n\n  const handleClickAway = () => {\n    if (status !== InputStatus.NORMAL) {\n      setStatus(InputStatus.NORMAL);\n    }\n  };\n\n  return (\n    <ClickAwayListener onClickAway={handleClickAway}>\n      <Input\n        sx={[\n          {\n            root: { color: 'inherit' },\n          },\n          (theme) => (variant !== 'inherit' ? theme.typography[variant] : {}),\n        ]}\n        fullWidth\n        multiline\n        value={value}\n        onChange={onChange}\n        placeholder={placeholder}\n        {...rest}\n        startAdornment={\n          status === InputStatus.NORMAL ? (\n            <InputAdornment position=\"start\">\n              <IconButton\n                size=\"small\"\n                color=\"inherit\"\n                onClick={() => setStatus(InputStatus.EDITING)}\n              >\n                <Edit fontSize=\"small\" />\n              </IconButton>\n            </InputAdornment>\n          ) : null\n        }\n        readOnly={status === InputStatus.NORMAL}\n        disableUnderline={status === InputStatus.NORMAL}\n        // onBlur={() => setStatus(InputStatus.NORMAL)}\n      />\n    </ClickAwayListener>\n  );\n};\n","export const COS_BUCKET = 'sma2lbao-1305700162';\n\nexport const COS_REGION = 'ap-hongkong';\n","import { useGetCosCredentialLazyQuery } from '@/schema';\nimport moment from 'moment';\nimport COS from 'cos-js-sdk-v5';\nimport { COS_BUCKET, COS_REGION } from '@/common/constants/cos.constant';\n\nconst useUploadHelper = () => {\n  const [getCosCredential] = useGetCosCredentialLazyQuery({\n    onError(error) {\n      console.error(error);\n    },\n  });\n  const cos = new COS({\n    async getAuthorization(_, callback) {\n      getCosCredential().then(({ data }) => {\n        const result = data?.get_cos_credential;\n        callback({\n          TmpSecretId: result!.credentials.tmpSecretId,\n          TmpSecretKey: result!.credentials.tmpSecretKey,\n          SecurityToken: result!.credentials.sessionToken,\n          StartTime: result!.startTime,\n          ExpiredTime: result!.expiredTime,\n        });\n      });\n    },\n  });\n\n  const uploadFile = async (file: File) => {\n    const now = Date.now();\n    const dateString = moment(now).format('YYYY-MM-DD');\n    const result = await cos.uploadFile({\n      Bucket: COS_BUCKET,\n      Region: COS_REGION,\n      Key: `/upload/${dateString}/${now}`,\n      Body: file,\n    });\n    console.log(result);\n    return `${result.Location.replace(\n      `${COS_BUCKET}.cos.${COS_REGION}.myqcloud.com`,\n      process.env.REACT_APP_HTTP_DOMAIN_URL!\n    )}`;\n  };\n\n  return {\n    uploadFile,\n  };\n};\n\nexport default useUploadHelper;\n","import React, { useState } from 'react';\nimport { BaseFileUploadProps } from './file-upload.interface';\nimport { Box, Typography } from '@mui/material';\nimport { CloudUpload } from '@mui/icons-material';\nimport { useSnackbar } from 'notistack';\nimport useUploadHelper from '@/hooks/upload.helper';\n\nexport const FileUpload: React.FC<BaseFileUploadProps> = (props) => {\n  const { onComplete, onError, children, component, custom, title, maxSize } =\n    props;\n  const { enqueueSnackbar } = useSnackbar();\n  const { uploadFile } = useUploadHelper();\n  const [loading, setLoading] = useState(false);\n\n  const inputRef = React.createRef<HTMLInputElement>();\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { validity, files } = e.currentTarget;\n    const file = files?.[0];\n    if (file && maxSize && file.size > maxSize * 1024 * 1024) {\n      enqueueSnackbar('超出尺寸限制', { variant: 'warning' });\n      return;\n    }\n    if (validity.valid) {\n      setLoading(true);\n      uploadFile(file!)\n        .then((url) => {\n          onComplete && onComplete(url);\n        })\n        .catch((error) => {\n          onError && onError(error.message);\n        })\n        .finally(() => {\n          setLoading(false);\n        });\n    }\n  };\n\n  const handleClick = () => {\n    if (!loading) {\n      inputRef.current?.click();\n    }\n  };\n\n  const Tag = component || 'div';\n\n  return (\n    <Tag role=\"button\" onClick={handleClick}>\n      <input\n        ref={inputRef}\n        style={{ display: 'none' }}\n        type=\"file\"\n        accept=\"*\"\n        onChange={handleChange}\n      />\n      {custom ? (\n        <>{children}</>\n      ) : (\n        <Box\n          sx={(theme) => ({\n            display: 'inline-flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n            width: props.width ?? '100%',\n            height: props.height ?? '100%',\n            color: theme.palette.text.secondary,\n            flex: 1,\n          })}\n        >\n          <div>\n            <CloudUpload />\n          </div>\n          <Typography variant=\"h6\">{loading ? '上传中...' : title}</Typography>\n        </Box>\n      )}\n    </Tag>\n  );\n};\n\nFileUpload.defaultProps = {\n  custom: false,\n  title: '点击上传',\n  maxSize: 200,\n};\n","import * as React from 'react';\nimport {\n  Dialog,\n  Box,\n  Tabs,\n  Tab,\n  Paper,\n  InputBase,\n  IconButton,\n  Typography,\n} from '@mui/material';\nimport { FileUpload } from './file-upload';\nimport {\n  CloudUpload,\n  Link as LinkIcon,\n  Done as DoneIcon,\n} from '@mui/icons-material';\nimport { DialogFileUploadProps } from './file-upload.interface';\n\nexport const DialogFileUpload: React.FC<DialogFileUploadProps> = (\n  props: DialogFileUploadProps\n) => {\n  const [open, setOpen] = React.useState(false);\n  const [tab, setTab] = React.useState(0);\n  const [remoteUrl, setRemoteUrl] = React.useState<string>('');\n\n  const handleChange = (\n    event: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n  ) => {\n    setRemoteUrl(event.target.value);\n  };\n\n  const handleSubmitRemoteUrl = () => {\n    props.onComplete && props.onComplete(remoteUrl);\n    setOpen(false);\n  };\n\n  const handleCompleteLocalUpload = (url: string) => {\n    props.onComplete && props.onComplete(url);\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <div onClick={() => setOpen(true)}>\n        {props.custom ? (\n          <>{props.children}</>\n        ) : (\n          <Box\n            sx={(theme) => ({\n              display: 'inline-flex',\n              flexDirection: 'column',\n              justifyContent: 'center',\n              alignItems: 'center',\n              width: '100%',\n              height: '100%',\n              color: theme.palette.text.secondary,\n              flex: 1,\n            })}\n          >\n            <div>\n              <CloudUpload />\n            </div>\n            <Typography variant=\"h6\">{props.title}</Typography>\n          </Box>\n        )}\n      </div>\n      <Dialog onClose={() => setOpen(false)} open={open}>\n        <Box padding={2}>\n          <Tabs value={tab} onChange={(_, val) => setTab(val)}>\n            <Tab label=\"本地上传\"></Tab>\n            <Tab label=\"粘贴链接\"></Tab>\n          </Tabs>\n          <Box sx={(theme) => ({ marginTop: theme.spacing(2) })}>\n            <div hidden={tab !== 0}>\n              <FileUpload\n                onComplete={handleCompleteLocalUpload}\n                onError={props.onError}\n              />\n            </div>\n            <div hidden={tab !== 1}>\n              <Paper\n                sx={{ display: 'flex', alignItems: 'center' }}\n                component=\"form\"\n              >\n                <IconButton disabled>\n                  <LinkIcon />\n                </IconButton>\n                <InputBase\n                  value={remoteUrl}\n                  onChange={handleChange}\n                  fullWidth\n                  placeholder=\"链接地址\"\n                />\n                <IconButton\n                  onClick={handleSubmitRemoteUrl}\n                  color=\"primary\"\n                  disabled={!remoteUrl}\n                >\n                  <DoneIcon />\n                </IconButton>\n              </Paper>\n            </div>\n          </Box>\n        </Box>\n      </Dialog>\n    </div>\n  );\n};\nexport default DialogFileUpload;\n\nDialogFileUpload.defaultProps = {\n  custom: false,\n  title: '点击上传',\n};\n","import React from 'react';\nimport {\n  List,\n  ListItem,\n  ListItemAvatar,\n  Avatar,\n  ListItemSecondaryAction,\n  IconButton,\n  Box,\n  ListSubheader,\n  Badge,\n} from '@mui/material';\nimport { AddCircle, Delete, Edit } from '@mui/icons-material';\nimport { Placeholder } from '@/components/base/placeholder';\nimport { Character } from '@/schema';\nimport { EditableInput } from '@/components/app/input';\nimport { DialogFileUpload } from '@/components/app/file-upload';\n\nexport type CharacterEdit = Character;\n\nexport interface EditCastHandles {\n  credits: CharacterEdit[];\n}\n\nexport const EditCast = React.forwardRef<EditCastHandles, unknown>(\n  (props, ref) => {\n    const [credits, setCredits] = React.useState<CharacterEdit[]>([]);\n\n    React.useImperativeHandle(ref, () => ({\n      credits,\n    }));\n\n    const handleAddCredit = () => {\n      setCredits([\n        ...credits,\n        {\n          avatar: '',\n          name: '',\n          description: '',\n          // tags: []\n        },\n      ]);\n    };\n\n    const handleChange = (\n      e: React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n    ) => {\n      const { dataset, value } = e.target;\n      if (dataset.idx && dataset.key) {\n        const cur = credits[+dataset.idx];\n        Object.assign(cur, {\n          [dataset.key]: value,\n        });\n        setCredits([...credits]);\n      }\n    };\n\n    const handleChangeAvatar = (idx: number, url: string) => {\n      const cur = credits[idx];\n      Object.assign(cur, { avatar: url });\n      setCredits([...credits]);\n    };\n\n    const handleDelete = (idx: number) => {\n      credits.splice(idx, 1);\n      setCredits([...credits]);\n    };\n\n    return (\n      <Box\n        sx={(theme) => ({ backgroundColor: theme.palette.background.paper })}\n      >\n        <List\n          subheader={\n            <ListSubheader\n              sx={{\n                display: 'flex',\n                justifyContent: 'space-between',\n                alignItems: 'center',\n              }}\n            >\n              演职表\n              <IconButton onClick={handleAddCredit} size=\"small\">\n                <AddCircle fontSize=\"small\" />\n              </IconButton>\n            </ListSubheader>\n          }\n        >\n          {credits.length ? (\n            <>\n              {credits.map((item, idx) => {\n                return (\n                  <ListItem key={idx}>\n                    <ListItemAvatar>\n                      <DialogFileUpload\n                        custom\n                        onComplete={(url: string) =>\n                          handleChangeAvatar(idx, url)\n                        }\n                      >\n                        <Badge\n                          overlap=\"circular\"\n                          anchorOrigin={{\n                            vertical: 'top',\n                            horizontal: 'right',\n                          }}\n                          badgeContent={<Edit fontSize=\"small\" />}\n                        >\n                          <Avatar src={item.avatar}></Avatar>\n                        </Badge>\n                      </DialogFileUpload>\n                    </ListItemAvatar>\n                    <div>\n                      <EditableInput\n                        inputProps={{ 'data-idx': idx, 'data-key': 'name' }}\n                        value={item.name}\n                        onChange={handleChange}\n                        placeholder=\"请输入名字\"\n                        maxRows={1}\n                      />\n\n                      <EditableInput\n                        inputProps={{\n                          'data-idx': idx,\n                          'data-key': 'description',\n                        }}\n                        value={item.description}\n                        onChange={handleChange}\n                        placeholder=\"请输入描述\"\n                        maxRows={1}\n                      />\n                    </div>\n                    <ListItemSecondaryAction>\n                      <IconButton onClick={() => handleDelete(idx)}>\n                        <Delete />\n                      </IconButton>\n                    </ListItemSecondaryAction>\n                  </ListItem>\n                );\n              })}\n            </>\n          ) : (\n            <Box justifyContent=\"center\" display=\"flex\">\n              <Placeholder subtitle=\"新增演职员\" />\n            </Box>\n          )}\n        </List>\n      </Box>\n    );\n  }\n);\n\nexport default EditCast;\n","import * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport { Image } from '@/components/base/image';\nimport { DEFULAT_SHADOW_COVER } from '@/common/constants/default.constant';\nimport {\n  Box,\n  ImageList,\n  ImageListItem,\n  IconButton,\n  Switch,\n  Tooltip,\n  Zoom,\n} from '@mui/material';\n\nimport { useEditableInput, EditableInput } from '@/components/app/input';\nimport { DialogFileUpload } from '@/components/app/file-upload';\nimport { PlayCircleOutline, Delete } from '@mui/icons-material';\nimport SwipeableViews from 'react-swipeable-views';\nimport { autoPlay } from 'react-swipeable-views-utils';\nimport { AspectRatioBox } from '@/components/base/aspect-ration-box';\n\nconst PREFIX = 'EditTop';\n\nconst classes = {\n  root: `${PREFIX}-root`,\n  aider: `${PREFIX}-aider`,\n  aiderContent: `${PREFIX}-aiderContent`,\n  main: `${PREFIX}-main`,\n  mainContent: `${PREFIX}-mainContent`,\n  poster: `${PREFIX}-poster`,\n  posterTool: `${PREFIX}-posterTool`,\n};\n\nconst Root = styled('div')(({ theme }) => ({\n  [`&.${classes.root}`]: {\n    position: 'relative',\n    width: '100%',\n  },\n\n  [`& .${classes.aider}`]: {\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    bottom: 0,\n    width: '45%',\n    padding: theme.spacing(8),\n  },\n\n  [`& .${classes.aiderContent}`]: {\n    width: '50%',\n    padding: theme.spacing(1),\n    borderRadius: theme.shape.borderRadius,\n    maxHeight: '100%',\n    background: 'rgba(0, 0, 0, .1)',\n    backdropFilter: 'blur(8px)',\n    overflow: 'auto',\n  },\n\n  [`& .${classes.main}`]: {\n    position: 'absolute',\n    top: '50%',\n    right: 0,\n    width: '50%',\n    padding: theme.spacing(0, 8),\n    transform: 'translate(0, -50%)',\n    color: '#fff',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n\n  [`& .${classes.mainContent}`]: {\n    background: 'rgba(0, 0, 0, .1)',\n    backdropFilter: 'blur(8px)',\n    padding: theme.spacing(4),\n    borderRadius: theme.shape.borderRadius,\n  },\n\n  [`& .${classes.poster}`]: {\n    position: 'relative',\n  },\n\n  [`& .${classes.posterTool}`]: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    visibility: 'hidden',\n    position: 'absolute',\n    padding: theme.spacing(1),\n    top: 0,\n    left: 0,\n    width: '100%',\n    color: '#fff',\n    '$poster:hover &': {\n      visibility: 'initial',\n    },\n  },\n}));\n\nconst AutoPlaySwipeableViews = autoPlay(SwipeableViews);\n\nexport interface EditTopHandles {\n  title: string;\n\n  sub_title?: string;\n\n  description?: string;\n\n  posters?: string[];\n\n  cover: string;\n}\n\nexport const EditTop = React.forwardRef<EditTopHandles, unknown>(\n  (props, ref) => {\n    const [activeStep, setActiveStep] = React.useState(0);\n    const [title, setTitle] = useEditableInput('');\n    const [sub_title, setSubTitle] = useEditableInput('');\n    const [description, setDescription] = useEditableInput('');\n    const [posters, setPosters] = React.useState<string[]>([]);\n    const [cover, setCover] = React.useState<string>('');\n\n    React.useEffect(() => {\n      if (posters && posters.length > 0) {\n        if (!cover || !posters.includes(cover)) setCover(posters[0]);\n      } else {\n        setCover('');\n      }\n    }, [cover, posters]);\n\n    React.useImperativeHandle(ref, () => ({\n      title,\n      sub_title,\n      description,\n      posters,\n      cover,\n    }));\n\n    const handleAddPoster = (imageUrl: string) => {\n      if (imageUrl && !posters.includes(imageUrl)) {\n        setPosters([...posters, imageUrl]);\n      }\n    };\n\n    const handleRemovePoster = (\n      e: React.MouseEvent<HTMLDivElement, MouseEvent>\n    ) => {\n      const result = window.confirm('delete?');\n      if (result) {\n        const { dataset } = e.currentTarget;\n        if (dataset.idx) {\n          posters.splice(+dataset.idx, 1);\n          setPosters([...posters]);\n        }\n      }\n    };\n\n    const handleChangeCover = (idx: number) => {\n      setCover(posters[idx]);\n    };\n\n    return (\n      <Root className={classes.root}>\n        {posters.length ? (\n          <AutoPlaySwipeableViews\n            onChangeIndex={(step: number) => setActiveStep(step)}\n            index={activeStep}\n          >\n            {posters.map((image, idx) => {\n              return <Image key={idx} aspectRatio={16 / 9} src={image} />;\n            })}\n          </AutoPlaySwipeableViews>\n        ) : (\n          <Image aspectRatio={16 / 9} src={DEFULAT_SHADOW_COVER} />\n        )}\n\n        <div className={classes.aider}>\n          <div className={classes.aiderContent}>\n            <ImageList rowHeight=\"auto\" cols={1}>\n              {posters.map((poster, idx) => (\n                <ImageListItem key={poster} cols={1} className={classes.poster}>\n                  <Image\n                    aspectRatio={16 / 9}\n                    src={poster}\n                    alt={'poster' + idx}\n                  />\n                  <div className={classes.posterTool}>\n                    <div>\n                      <Tooltip\n                        TransitionComponent={Zoom}\n                        title=\"设成封面\"\n                        placement=\"bottom\"\n                        arrow\n                      >\n                        <Switch\n                          size=\"small\"\n                          color=\"primary\"\n                          checked={cover === poster}\n                          onChange={() => handleChangeCover(idx)}\n                        />\n                      </Tooltip>\n                    </div>\n                    <div data-idx={idx} onClick={handleRemovePoster}>\n                      <Tooltip\n                        TransitionComponent={Zoom}\n                        title=\"删除\"\n                        placement=\"bottom\"\n                        arrow\n                      >\n                        <IconButton size=\"medium\">\n                          <Delete fontSize=\"small\" />\n                        </IconButton>\n                      </Tooltip>\n                    </div>\n                  </div>\n                </ImageListItem>\n              ))}\n              <ImageListItem cols={1}>\n                <AspectRatioBox ratio={16 / 9}>\n                  <Box\n                    display=\"flex\"\n                    alignItems=\"center\"\n                    justifyContent=\"center\"\n                    height=\"100%\"\n                  >\n                    <DialogFileUpload onComplete={handleAddPoster} />\n                  </Box>\n                </AspectRatioBox>\n              </ImageListItem>\n            </ImageList>\n          </div>\n        </div>\n        <div className={classes.main}>\n          <div className={classes.mainContent}>\n            <EditableInput\n              variant=\"h4\"\n              value={title}\n              onChange={setTitle}\n              placeholder=\"请输入标题\"\n            />\n            <EditableInput\n              variant=\"subtitle1\"\n              value={sub_title}\n              onChange={setSubTitle}\n              placeholder=\"请输入副标题\"\n            />\n            <EditableInput\n              variant=\"body2\"\n              value={description}\n              onChange={setDescription}\n              placeholder=\"请输入电影描述...\"\n            />\n            <Box mt={3}>\n              <IconButton color=\"inherit\" disabled>\n                <PlayCircleOutline fontSize=\"large\" />\n              </IconButton>\n            </Box>\n          </div>\n        </div>\n      </Root>\n    );\n  }\n);\n\nexport default EditTop;\n","import * as React from 'react';\nimport { styled } from '@mui/material/styles';\nimport { Typography, Box, IconButton, Avatar } from '@mui/material';\nimport { ThumbUpAlt, ThumbDownAlt, MoreVert } from '@mui/icons-material';\nimport moment from 'moment';\nimport { EditableInput, useEditableInput } from '@/components/app/input';\nimport { useAuth } from '@/hooks';\n\nconst PREFIX = 'EditInfo';\n\nconst classes = {\n  root: `${PREFIX}-root`,\n  header: `${PREFIX}-header`,\n  infoItem: `${PREFIX}-infoItem`,\n  toolBox: `${PREFIX}-toolBox`,\n  toolText: `${PREFIX}-toolText`,\n  description: `${PREFIX}-description`,\n};\n\nconst Root = styled('div')(({ theme }) => ({\n  [`& .${classes.root}`]: {},\n\n  [`& .${classes.header}`]: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    marginBottom: theme.spacing(1),\n  },\n\n  [`& .${classes.infoItem}`]: {\n    '& + &': {\n      marginLeft: theme.spacing(1),\n    },\n  },\n\n  [`& .${classes.toolBox}`]: {\n    display: 'flex',\n    alignItems: 'center',\n    marginRight: theme.spacing(2),\n  },\n\n  [`& .${classes.toolText}`]: {\n    marginLeft: theme.spacing(0.5),\n  },\n\n  [`& .${classes.description}`]: {\n    marginBottom: theme.spacing(1),\n  },\n}));\n\nexport interface EditInfoHandles {\n  name?: string;\n\n  sub_name?: string;\n\n  description?: string;\n}\n\nexport const EditInfo = React.forwardRef<EditInfoHandles, unknown>(\n  (props, ref) => {\n    const [name, setName] = useEditableInput('');\n    const [sub_name, setSubName] = useEditableInput('');\n    const [description, setDescription] = useEditableInput('');\n    const { member } = useAuth();\n\n    React.useImperativeHandle(ref, () => ({\n      name,\n      sub_name,\n      description,\n    }));\n\n    return (\n      <Root>\n        <Box className={classes.header}>\n          <div>\n            <Typography variant=\"subtitle1\">\n              <EditableInput\n                value={name}\n                onChange={setName}\n                placeholder=\"name\"\n              />\n              <EditableInput\n                value={sub_name}\n                onChange={setSubName}\n                placeholder=\"sub_name\"\n              />\n            </Typography>\n            <Box display=\"flex\">\n              <Typography variant=\"caption\" className={classes.infoItem}>\n                发布时间: {moment(Date.now()).format('YYYY-MM-DD HH:mm')}\n              </Typography>\n            </Box>\n          </div>\n          <Box display=\"flex\" alignItems=\"center\">\n            <Box className={classes.toolBox}>\n              <IconButton size=\"small\">\n                <ThumbDownAlt fontSize=\"small\" />\n              </IconButton>\n              <Typography className={classes.toolText}>--</Typography>\n            </Box>\n            <Box className={classes.toolBox}>\n              <IconButton size=\"small\">\n                <ThumbUpAlt fontSize=\"small\" />\n              </IconButton>\n              <Typography className={classes.toolText}>--</Typography>\n            </Box>\n            <IconButton size=\"small\">\n              <MoreVert fontSize=\"small\" />\n            </IconButton>\n          </Box>\n        </Box>\n        <Typography className={classes.description} variant=\"body2\">\n          <EditableInput\n            variant=\"body2\"\n            value={description}\n            onChange={setDescription}\n            placeholder=\"description...\"\n          />\n        </Typography>\n\n        <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n          <Box display=\"flex\" alignItems=\"center\">\n            <Avatar src={member?.avatar}></Avatar>\n            <Box ml={1}>\n              <Typography variant=\"subtitle2\">{member?.nickname}</Typography>\n              <Typography variant=\"caption\">{member?.description}</Typography>\n            </Box>\n          </Box>\n        </Box>\n      </Root>\n    );\n  }\n);\n\nexport default EditInfo;\n","import * as React from 'react';\nimport { useTheme } from '@mui/material/styles';\nimport { Dialog, Toolbar, AppBar, Button, Box, Fab } from '@mui/material';\nimport {\n  FullScreen,\n  BodyScreen,\n  ContentScreen,\n  AiderScreen,\n} from '@/layouts/page-layout';\nimport { Image } from '@/components/base/image';\nimport { DEFULAT_SHADOW_COVER } from '@/common/constants/default.constant';\nimport { Placeholder } from '@/components/base/placeholder';\nimport { DialogFileUpload } from '@/components/app/file-upload';\nimport ImageIcon from '@mui/icons-material/Image';\nimport { MovieCreation } from '@mui/icons-material';\nimport { ShadowPlayer } from '@/components/app/player';\nimport { EditInfo, EditInfoHandles } from './edit-info';\n\nexport interface EditMediumInfoProp {\n  open: boolean;\n\n  onSave?(medium: unknown): void;\n\n  onCancel?(): void;\n}\n\nexport const EditMediumInfo: React.FC<EditMediumInfoProp> = (\n  props: EditMediumInfoProp\n) => {\n  const { onSave, onCancel } = props;\n  const theme = useTheme();\n\n  const [open, setOpen] = React.useState(false);\n  const [url, setUrl] = React.useState('');\n  const [cover, setCover] = React.useState('');\n  const infoRef = React.createRef<EditInfoHandles>();\n\n  React.useEffect(() => {\n    setOpen(props.open);\n  }, [props.open]);\n\n  const reset = () => {\n    setOpen(false);\n    setUrl('');\n    setCover('');\n  };\n\n  const handleChangeCover = (imageUrl: string) => {\n    if (imageUrl) {\n      setCover(imageUrl);\n    }\n  };\n\n  const handleChangeSource = (sourceUrl: string) => {\n    if (sourceUrl) {\n      setUrl(sourceUrl);\n    }\n  };\n\n  const handleSave = () => {\n    onSave &&\n      onSave({\n        url,\n        cover,\n        name: infoRef.current?.name,\n        sub_name: infoRef.current?.sub_name,\n        description: infoRef.current?.description,\n      });\n    handleCancle();\n  };\n\n  const handleCancle = () => {\n    setOpen(false);\n    onCancel && onCancel();\n    reset();\n  };\n\n  return (\n    <Box>\n      <Dialog open={open} fullScreen onClose={handleCancle}>\n        <AppBar position=\"fixed\" sx={{ boxShadow: theme.shadows[0] }}>\n          <Toolbar\n            sx={{\n              width: '100%',\n              display: 'flex',\n              justifyContent: 'space-between',\n            }}\n          >\n            <Button onClick={handleSave} color=\"inherit\">\n              保存\n            </Button>\n            <Button onClick={handleCancle} color=\"inherit\">\n              取消\n            </Button>\n          </Toolbar>\n        </AppBar>\n        <Box sx={{ height: '100%' }}>\n          <Toolbar />\n          <FullScreen>\n            <BodyScreen>\n              <Box sx={{ width: '100%', position: 'relative' }}>\n                {url ? (\n                  <ShadowPlayer\n                    url={url}\n                    light={cover ? cover : DEFULAT_SHADOW_COVER}\n                  />\n                ) : (\n                  <Image\n                    aspectRatio={16 / 9}\n                    src={cover ? cover : DEFULAT_SHADOW_COVER}\n                  />\n                )}\n                <DialogFileUpload custom onComplete={handleChangeCover}>\n                  <Fab\n                    color={cover ? 'primary' : 'default'}\n                    size=\"medium\"\n                    sx={{\n                      position: 'absolute',\n                      left: theme.spacing(4),\n                      bottom: theme.spacing(4),\n                    }}\n                  >\n                    <ImageIcon />\n                  </Fab>\n                </DialogFileUpload>\n                <DialogFileUpload custom onComplete={handleChangeSource}>\n                  <Fab\n                    color={url ? 'primary' : 'default'}\n                    size=\"medium\"\n                    sx={{\n                      position: 'absolute',\n                      right: theme.spacing(4),\n                      bottom: theme.spacing(4),\n                    }}\n                  >\n                    <MovieCreation />\n                  </Fab>\n                </DialogFileUpload>\n              </Box>\n            </BodyScreen>\n          </FullScreen>\n          <BodyScreen\n            sx={{\n              backgroundColor: theme.palette.background.paper,\n              display: 'flex',\n              margin: '0 auto',\n            }}\n          >\n            <ContentScreen\n              sx={{\n                padding: theme.spacing(2, 5),\n                borderRight: `1px solid ${theme.palette.divider}`,\n              }}\n            >\n              <EditInfo ref={infoRef} />\n            </ContentScreen>\n            <AiderScreen\n              sticky\n              sx={{\n                padding: theme.spacing(2, 4),\n                height: '100%',\n                overflow: 'auto',\n              }}\n            >\n              <Placeholder subtitle=\"评论区\" sx={{ width: '100%' }} />\n            </AiderScreen>\n          </BodyScreen>\n        </Box>\n      </Dialog>\n    </Box>\n  );\n};\n","import React from 'react';\nimport {\n  Box,\n  // Typography,\n  ImageList,\n  ImageListItem,\n  Button,\n} from '@mui/material';\nimport { MediaOwn, withTool } from '@/components/app/media';\nimport { EditMediumInfo } from '../edit-medium-info';\nimport { Placeholder } from '@/components/base/placeholder';\nimport { CreateShadowMediumInput } from '@/schema';\n\nconst EditMediaOwn = withTool(MediaOwn);\n\nexport interface EditMainHandles {\n  mediums: CreateShadowMediumInput[];\n}\n\nexport const EditMain = React.forwardRef<EditMainHandles, unknown>(\n  (props, ref) => {\n    const [openMedium, setOpenMedium] = React.useState(false);\n    const [mediums, setMediums] = React.useState<CreateShadowMediumInput[]>([]);\n\n    React.useImperativeHandle(ref, () => ({\n      mediums: mediums,\n    }));\n\n    const handleSave = (medium: CreateShadowMediumInput) => {\n      setMediums([...mediums, medium]);\n    };\n\n    const handleDelete = (medium: unknown) => {\n      const idx = mediums.findIndex((item) => item === medium);\n      if (idx !== -1) {\n        mediums.splice(idx, 1);\n        setMediums([...mediums]);\n      }\n    };\n\n    return (\n      <Box>\n        <Box sx={(theme) => ({ padding: theme.spacing(1, 0) })}>\n          <Box sx={(theme) => ({ padding: theme.spacing(2, 0) })}>\n            <ImageList rowHeight=\"auto\" cols={4}>\n              {mediums.map((item, idx) => {\n                return (\n                  <ImageListItem cols={1} key={idx}>\n                    <EditMediaOwn\n                      {...item}\n                      onDelete={() => handleDelete(item)}\n                    />\n                  </ImageListItem>\n                );\n              })}\n\n              <Button onClick={() => setOpenMedium(true)}>\n                <Placeholder subtitle=\"新增媒体资源\" />\n              </Button>\n            </ImageList>\n          </Box>\n        </Box>\n        <EditMediumInfo\n          open={openMedium}\n          onSave={handleSave}\n          onCancel={() => setOpenMedium(false)}\n        />\n      </Box>\n    );\n  }\n);\n\nexport default EditMain;\n","import * as React from 'react';\nimport { Divider, Paper, ToggleButtonGroup, ToggleButton } from '@mui/material';\nimport {\n  FormatBold,\n  FormatItalic,\n  FormatUnderlined,\n  FormatQuote,\n  FormatListBulleted,\n  FormatListNumbered,\n  Code,\n} from '@mui/icons-material';\nimport { ControlsProps } from './editor.interface';\n\nconst BLOCK_TYPES = [\n  // { label: \"H1\", style: \"header-one\", value: \"h1\", icon: <FormatBold /> },\n  // { label: \"H2\", style: \"header-two\", value: \"h2\", icon: <FormatBold /> },\n  // { label: \"H3\", style: \"header-three\", value: \"h3\", icon: <FormatBold /> },\n  // { label: \"H4\", style: \"header-four\", value: \"h4\", icon: <FormatBold /> },\n  // { label: \"H5\", style: \"header-five\", value: \"h5\", icon: <FormatBold /> },\n  // { label: \"H6\", style: \"header-six\", value: \"h6\", icon: <FormatBold /> },\n  {\n    label: 'Blockquote',\n    style: 'blockquote',\n    value: 'blockquote',\n    icon: <FormatQuote />,\n  },\n  {\n    label: 'UL',\n    style: 'unordered-list-item',\n    value: 'ul',\n    icon: <FormatListBulleted />,\n  },\n  {\n    label: 'OL',\n    style: 'ordered-list-item',\n    value: 'ol',\n    icon: <FormatListNumbered />,\n  },\n  {\n    label: 'CodeBlock',\n    style: 'code-block',\n    value: 'codeblock',\n    icon: <Code />,\n  },\n];\n\nconst INLINE_STYLES = [\n  { label: 'Bold', style: 'BOLD', value: 'bold', icon: <FormatBold /> },\n  { label: 'Italic', style: 'ITALIC', value: 'italic', icon: <FormatItalic /> },\n  {\n    label: 'Underline',\n    style: 'UNDERLINE',\n    value: 'underline',\n    icon: <FormatUnderlined />,\n  },\n  // {\n  //   label: \"Monospace\",\n  //   style: \"CODE\",\n  //   value: \"code\",\n  //   icon: <FormatQuote />,\n  // },\n];\n\nexport const Controls: React.FC<ControlsProps> = (props) => {\n  const [inlines, setInlines] = React.useState<string[]>([]);\n  const [blocktype, setBlocktype] = React.useState<string>();\n  const { toggleBlockType, toggleInlineStyle } = props;\n  // const selection = editorState.getSelection();\n  // const blockType = editorState\n  //   .getCurrentContent()\n  //   .getBlockForKey(selection.getStartKey())\n  //   .getType();\n  // const currentStyle = editorState.getCurrentInlineStyle();\n\n  const handleInlineFormat = (\n    event: React.MouseEvent<HTMLElement>,\n    newFormats: string[]\n  ) => {\n    const { style } = event.currentTarget.dataset;\n    if (style) {\n      toggleInlineStyle(style);\n    }\n    setInlines(newFormats);\n  };\n\n  const handleBlocktypeFormat = (\n    event: React.MouseEvent<HTMLElement>,\n    newFormat: string\n  ) => {\n    const { style } = event.currentTarget.dataset;\n    if (style) {\n      toggleBlockType(style);\n    }\n    setBlocktype(newFormat);\n  };\n\n  return (\n    <Paper\n      elevation={0}\n      sx={(theme) => ({\n        display: 'inline-flex',\n        border: `1px solid ${theme.palette.divider}`,\n        flexWrap: 'wrap',\n      })}\n    >\n      <ToggleButtonGroup\n        value={inlines}\n        onChange={handleInlineFormat}\n        sx={{\n          grouped: (theme) => ({\n            margin: theme.spacing(0.5),\n            border: 'none',\n            '&:not(:first-child)': {\n              borderRadius: theme.shape.borderRadius,\n            },\n            '&:first-child': {\n              borderRadius: theme.shape.borderRadius,\n            },\n          }),\n        }}\n      >\n        {INLINE_STYLES.map((type) => (\n          <ToggleButton\n            data-style={type.style}\n            key={type.value}\n            value={type.value}\n          >\n            {type.icon}\n          </ToggleButton>\n        ))}\n      </ToggleButtonGroup>\n      <Divider\n        flexItem\n        orientation=\"vertical\"\n        sx={(theme) => ({ margin: theme.spacing(1, 0.5) })}\n      />\n      <ToggleButtonGroup\n        value={blocktype}\n        exclusive\n        onChange={handleBlocktypeFormat}\n      >\n        {BLOCK_TYPES.map((type) => (\n          <ToggleButton\n            data-style={type.style}\n            key={type.value}\n            value={type.value}\n          >\n            {type.icon}\n          </ToggleButton>\n        ))}\n      </ToggleButtonGroup>\n    </Paper>\n  );\n};\n","import * as React from 'react';\nimport {\n  Editor,\n  EditorState,\n  RichUtils,\n  getDefaultKeyBinding,\n  ContentBlock,\n  DraftBlockType,\n  DraftEditorCommand,\n} from 'draft-js';\nimport { convertToHTML, convertFromHTML } from 'draft-convert';\nimport 'draft-js/dist/Draft.css';\nimport { BaseEditorProps, BaseEditorHandles } from './editor.interface';\nimport { Box } from '@mui/material';\nimport { Controls } from './controls';\n\nexport const NormalEditor = React.forwardRef<\n  BaseEditorHandles,\n  BaseEditorProps\n>((props, ref) => {\n  const { html, onBlur, placeholder } = props;\n  const [editorState, setEditorState] = React.useState(() =>\n    html\n      ? EditorState.createWithContent(convertFromHTML(html))\n      : EditorState.createEmpty()\n  );\n\n  React.useImperativeHandle(ref, () => ({\n    getHtmlString: () => {\n      return convertToHTML(editorState.getCurrentContent());\n    },\n  }));\n\n  const handleKeyCommand = (\n    cmd: DraftEditorCommand | string,\n    state: EditorState\n  ) => {\n    const newState = RichUtils.handleKeyCommand(state, cmd);\n    if (newState) {\n      setEditorState(newState);\n      return 'handled';\n    }\n    return 'not-handled';\n  };\n\n  const mapKeyToEditorCommand = (e: React.KeyboardEvent<{}>) => {\n    // if (e.keyCode === 9 /* TAB */) {\n    //   const newEditorState = RichUtils.onTab(e, editorState, 4 /* maxDepth */);\n    //   if (newEditorState !== editorState) {\n    //     setEditorState(newEditorState);\n    //   }\n    //   return null;\n    // }\n    return getDefaultKeyBinding(e);\n  };\n\n  const toggleBlockType = (blockType: DraftBlockType | string) => {\n    setEditorState(RichUtils.toggleBlockType(editorState, blockType));\n  };\n\n  const toggleInlineStyle = (inlineStyle: string) => {\n    setEditorState(RichUtils.toggleInlineStyle(editorState, inlineStyle));\n  };\n\n  // Custom overrides for \"code\" style.\n  const styleMap = {\n    CODE: {\n      backgroundColor: 'rgba(0, 0, 0, 0.05)',\n      fontFamily: '\"Inconsolata\", \"Menlo\", \"Consolas\", monospace',\n      fontSize: 16,\n      padding: 2,\n    },\n  };\n\n  function getBlockStyle(block: ContentBlock) {\n    switch (block.getType()) {\n      case 'blockquote':\n        return 'RichEditor-blockquote';\n      default:\n        return '';\n    }\n  }\n\n  return (\n    <Box>\n      <Controls\n        editorState={editorState}\n        toggleBlockType={toggleBlockType}\n        toggleInlineStyle={toggleInlineStyle}\n      />\n      <Box\n        sx={(theme) => ({\n          minHeight: 220,\n          border: `1px solid ${theme.palette.divider}`,\n        })}\n      >\n        <Editor\n          blockStyleFn={getBlockStyle}\n          customStyleMap={styleMap}\n          editorState={editorState}\n          handleKeyCommand={handleKeyCommand}\n          keyBindingFn={mapKeyToEditorCommand}\n          onChange={setEditorState}\n          onBlur={onBlur}\n          placeholder={placeholder}\n          spellCheck={true}\n        />\n      </Box>\n    </Box>\n  );\n});\n","import * as React from 'react';\nimport { NormalEditor } from '@/components/base/editor';\nimport { EditorHandles } from '@/components/base/editor/editor.interface';\n\nexport interface EditAboutHandles {\n  about?: string;\n}\n\nexport const EditAbout = React.forwardRef<EditAboutHandles, unknown>(\n  (props, ref) => {\n    const [aboutHtml, setAboutHtml] = React.useState('');\n\n    React.useImperativeHandle(ref, () => ({\n      about: aboutHtml,\n    }));\n    const editorRef = React.createRef<EditorHandles>();\n\n    const handleBlur = () => {\n      const htmlString = editorRef.current?.getHtmlString();\n      setAboutHtml(htmlString);\n    };\n\n    return (\n      <div>\n        <NormalEditor ref={editorRef} onBlur={handleBlur} />\n      </div>\n    );\n  }\n);\n\nexport default EditAbout;\n","import * as React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions,\n  Button,\n  DialogProps,\n} from '@mui/material';\n\ninterface ConfirmProps extends Omit<DialogProps, 'open'> {\n  title?: string;\n  content: string;\n  cancel?: boolean;\n  cancelText?: string;\n  confirmText?: string;\n}\n\ninterface ConfirmEventProps {\n  onConfirm?(): void;\n  onCancel?(): void;\n}\n\nconst ShowDialog = (props: ConfirmEventProps & ConfirmProps) => {\n  const [open, setOpen] = React.useState(true);\n  const handleCancel = () => {\n    setOpen(false);\n    props.onCancel && props.onCancel();\n  };\n\n  const handleConfirm = () => {\n    setOpen(false);\n    props.onConfirm && props.onConfirm();\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    props.onCancel && props.onCancel();\n  };\n\n  return (\n    <div>\n      <Dialog open={open} onClose={handleClose}>\n        {props.title && <DialogTitle>{props.title}</DialogTitle>}\n        <DialogContent>\n          <DialogContentText>{props.content}</DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          {props.cancel && (\n            <Button onClick={handleCancel} color=\"primary\">\n              {props.cancelText || '取消'}\n            </Button>\n          )}\n          <Button onClick={handleConfirm} color=\"primary\" autoFocus>\n            {props.confirmText || '确定'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nexport const Confirm = {\n  dialog: function (options: ConfirmProps): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      const mountPoint = document.createElement('div');\n      document.body.appendChild(mountPoint);\n      const clear = () => {\n        mountPoint.remove();\n      };\n      const onConfirm = () => {\n        resolve(true);\n        clear();\n      };\n      const onCancel = () => {\n        resolve(false);\n        clear();\n      };\n      ReactDOM.render(\n        <div>\n          <ShowDialog {...options} onConfirm={onConfirm} onCancel={onCancel} />\n        </div>,\n        mountPoint\n      );\n    });\n  },\n};\n\nexport default Confirm;\n","import React from 'react';\nimport {\n  EditCast,\n  EditMain,\n  EditTop,\n  EditCastHandles,\n  EditTopHandles,\n  EditMainHandles,\n  EditAboutHandles,\n  EditAbout,\n} from './modules';\nimport {\n  ContentScreen,\n  AiderScreen,\n  FullScreen,\n  BodyScreen,\n} from '@/layouts/page-layout';\nimport {\n  Box,\n  Tabs,\n  Tab,\n  SpeedDial,\n  SpeedDialAction,\n  SpeedDialIcon,\n} from '@mui/material';\nimport { useCreateShadowMutation } from '@/schema';\nimport Confirm from '@/components/base/confirm';\nimport { Save } from '@mui/icons-material';\nimport { useNavigate } from 'react-router-dom';\n\nexport const ShadowUpload: React.FC = () => {\n  const navigate = useNavigate();\n  const [tab, setTab] = React.useState(0);\n  const [open, setOpen] = React.useState(false);\n  const topRef = React.createRef<EditTopHandles>();\n  const mainRef = React.createRef<EditMainHandles>();\n  const aboutRef = React.createRef<EditAboutHandles>();\n  const castRef = React.createRef<EditCastHandles>();\n\n  const [create_shadow] = useCreateShadowMutation({\n    onCompleted() {\n      Confirm.dialog({\n        title: '提示',\n        content: '上传成功。',\n      }).then(() => {\n        navigate('/home');\n      });\n    },\n  });\n\n  const handleCreateShadow = () => {\n    const topFields = topRef.current;\n    const mainFields = mainRef.current;\n    const castFields = castRef.current;\n    const aboutFields = aboutRef.current;\n\n    create_shadow({\n      variables: {\n        shadow: {\n          title: topFields?.title || '',\n          sub_title: topFields?.sub_title || '',\n          cover: topFields?.cover || '',\n          posters: topFields?.posters,\n          description: topFields?.description,\n          credits: castFields?.credits,\n          about: aboutFields?.about || '',\n          sources: mainFields?.mediums.map((medium) => {\n            const { name, sub_name, description, cover, ...rest } = medium;\n            return {\n              name: name || topFields?.title!,\n              sub_name: sub_name || topFields?.sub_title,\n              description: description || topFields?.description,\n              cover: cover || topFields?.cover,\n              ...rest,\n            };\n          }),\n        },\n      },\n    });\n  };\n\n  return (\n    <Box>\n      <FullScreen>\n        <BodyScreen>\n          <EditTop ref={topRef} />\n        </BodyScreen>\n      </FullScreen>\n      <BodyScreen>\n        <ContentScreen\n          sx={(theme) => ({\n            backgroundColor: theme.palette.background.paper,\n            padding: theme.spacing(1, 6),\n            borderRight: `1px solid ${theme.palette.divider}`,\n          })}\n        >\n          <Tabs value={tab} onChange={(e, val) => setTab(val)}>\n            <Tab label=\"信息\"></Tab>\n            <Tab label=\"相关推荐\" disabled></Tab>\n            <Tab label=\"关于\"></Tab>\n          </Tabs>\n          <div>\n            <div hidden={tab !== 0}>\n              <EditMain ref={mainRef} />\n            </div>\n            {/* {tab === 1 && <Relative />} */}\n            <div hidden={tab !== 2}>\n              <EditAbout ref={aboutRef} />\n            </div>\n            <SpeedDial\n              ariaLabel=\"SpeedDial OpenIcon\"\n              sx={(theme) => ({\n                position: 'fixed',\n                '&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft': {\n                  bottom: theme.spacing(2),\n                  right: theme.spacing(2),\n                },\n                '&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight': {\n                  top: theme.spacing(2),\n                  left: theme.spacing(2),\n                },\n              })}\n              // hidden={hidden}\n              // icon={<SpeedDialIcon openIcon={<EditIcon />} />}\n              icon={\n                <SpeedDialIcon\n                  sx={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                  }}\n                />\n              }\n              onClose={() => setOpen(false)}\n              onOpen={() => setOpen(true)}\n              open={open}\n            >\n              <SpeedDialAction\n                icon={<Save />}\n                tooltipTitle=\"Create\"\n                onClick={handleCreateShadow}\n              />\n            </SpeedDial>\n          </div>\n        </ContentScreen>\n        <AiderScreen>\n          <EditCast ref={castRef} />\n        </AiderScreen>\n      </BodyScreen>\n    </Box>\n  );\n};\nexport default ShadowUpload;\n"],"names":["classes","player","StyledAspectRatioBox","styled","AspectRatioBox","width","height","background","ShadowPlayer","props","url","rest","isM3u8","toString","endsWith","videoRef","React","ratio","ref","className","config","file","forceHLS","attributes","controlsList","disablePictureInPicture","youtube","playerVars","autoplay","playing","modestbranding","rel","showinfo","controls","embedOptions","defaultProps","PREFIX","wrap","tool","grouped","Root","theme","position","right","spacing","top","transform","display","flexDirection","justifyContent","maxHeight","overflow","backdropFilter","color","padding","borderRadius","shape","visibility","border","withThird","Component","youtubeUrl","originUrl","undefined","bridgUrl","setBridgUrl","source","setSource","showThird","ThemeProvider","palette","type","ToggleButtonGroup","orientation","value","exclusive","onChange","event","nextValue","ToggleButton","YouTube","InputStatus","useEditableInput","initValue","setValue","e","target","EditableInput","placeholder","variant","NORMAL","status","setStatus","ClickAwayListener","onClickAway","Input","sx","root","typography","fullWidth","multiline","startAdornment","InputAdornment","IconButton","size","onClick","EDITING","Edit","fontSize","readOnly","disableUnderline","COS_BUCKET","COS_REGION","useGetCosCredentialLazyQuery","onError","error","console","getCosCredential","cos","COS","getAuthorization","_","callback","then","data","result","get_cos_credential","TmpSecretId","credentials","tmpSecretId","TmpSecretKey","tmpSecretKey","SecurityToken","sessionToken","StartTime","startTime","ExpiredTime","expiredTime","uploadFile","now","Date","dateString","moment","format","Bucket","Region","Key","Body","log","Location","replace","process","FileUpload","onComplete","children","component","custom","title","maxSize","enqueueSnackbar","useSnackbar","useUploadHelper","useState","loading","setLoading","inputRef","Tag","role","current","click","style","accept","currentTarget","validity","files","valid","catch","message","finally","Box","alignItems","text","secondary","flex","CloudUpload","Typography","DialogFileUpload","open","setOpen","tab","setTab","remoteUrl","setRemoteUrl","Dialog","onClose","Tabs","val","Tab","label","marginTop","hidden","Paper","disabled","Link","InputBase","Done","EditCast","credits","setCredits","handleChange","dataset","idx","key","cur","Object","assign","backgroundColor","paper","List","subheader","ListSubheader","avatar","name","description","AddCircle","length","map","item","ListItem","ListItemAvatar","handleChangeAvatar","Badge","overlap","anchorOrigin","vertical","horizontal","badgeContent","Avatar","src","inputProps","maxRows","ListItemSecondaryAction","splice","handleDelete","Delete","subtitle","aider","aiderContent","main","mainContent","poster","posterTool","left","bottom","AutoPlaySwipeableViews","autoPlay","SwipeableViews","EditTop","activeStep","setActiveStep","setTitle","sub_title","setSubTitle","setDescription","posters","setPosters","cover","setCover","includes","handleRemovePoster","window","confirm","onChangeIndex","step","index","image","aspectRatio","DEFULAT_SHADOW_COVER","ImageList","rowHeight","cols","ImageListItem","alt","Tooltip","TransitionComponent","Zoom","placement","arrow","Switch","checked","handleChangeCover","imageUrl","mt","PlayCircleOutline","header","infoItem","toolBox","toolText","marginBottom","marginLeft","marginRight","EditInfo","setName","sub_name","setSubName","member","useAuth","ThumbDownAlt","ThumbUpAlt","MoreVert","ml","nickname","EditMediumInfo","onSave","onCancel","useTheme","setUrl","infoRef","handleCancle","fullScreen","AppBar","boxShadow","shadows","Toolbar","Button","light","Fab","Image","sourceUrl","MovieCreation","margin","borderRight","divider","sticky","EditMediaOwn","withTool","MediaOwn","EditMain","openMedium","setOpenMedium","mediums","setMediums","onDelete","medium","findIndex","BLOCK_TYPES","icon","FormatQuote","FormatListBulleted","FormatListNumbered","Code","INLINE_STYLES","FormatBold","FormatItalic","FormatUnderlined","Controls","inlines","setInlines","blocktype","setBlocktype","toggleBlockType","toggleInlineStyle","elevation","flexWrap","newFormats","Divider","flexItem","newFormat","NormalEditor","html","onBlur","EditorState","convertFromHTML","editorState","setEditorState","getHtmlString","convertToHTML","getCurrentContent","blockType","RichUtils","inlineStyle","minHeight","Editor","blockStyleFn","block","getType","customStyleMap","CODE","fontFamily","handleKeyCommand","cmd","state","newState","keyBindingFn","getDefaultKeyBinding","spellCheck","EditAbout","aboutHtml","setAboutHtml","about","editorRef","htmlString","ShowDialog","DialogTitle","DialogContent","DialogContentText","content","DialogActions","cancel","cancelText","onConfirm","autoFocus","confirmText","dialog","options","Promise","resolve","reject","mountPoint","document","createElement","body","appendChild","clear","remove","ReactDOM","ShadowUpload","navigate","useNavigate","topRef","mainRef","aboutRef","castRef","useCreateShadowMutation","onCompleted","Confirm","create_shadow","SpeedDial","ariaLabel","SpeedDialIcon","onOpen","SpeedDialAction","Save","tooltipTitle","topFields","mainFields","castFields","aboutFields","variables","shadow","sources"],"sourceRoot":""}