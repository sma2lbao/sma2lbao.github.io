(this.webpackJsonpmiss=this.webpackJsonpmiss||[]).push([[19],{632:function(e,t,a){"use strict";a.r(t);var n=a(24),r=a(0),i=a.n(r),l=a(277),c=a(272),o=a(101),u=a(625),s=a(325),d=a(317),m=a(79),f=a(52),p=a(29),v=a(21),g=Object(v.a)(i.a.createElement("path",{d:"M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6-.6-1.4-1.4-1.8-1.4-1.8-1-.7.1-.7.1-.7 1.2 0 1.9 1.2 1.9 1.2 1 1.8 2.8 1.3 3.5 1 0-.8.4-1.3.7-1.6-2.7-.3-5.5-1.3-5.5-6 0-1.2.5-2.3 1.3-3.1-.2-.4-.6-1.6 0-3.2 0 0 1-.3 3.4 1.2a11.5 11.5 0 0 1 6 0c2.3-1.5 3.3-1.2 3.3-1.2.6 1.6.2 2.8 0 3.2.9.8 1.3 1.9 1.3 3.2 0 4.6-2.8 5.6-5.5 5.9.5.4.9 1 .9 2.2v3.3c0 .3.1.7.8.6A12 12 0 0 0 12 .3"}),"GitHub"),h=Object(l.a)((function(e){return Object(c.a)({root:{width:"100%"},formWrap:{display:"flex",flexDirection:"column"},thirdWrap:{padding:e.spacing(2),textAlign:"center"}})}));function b(){var e=h(),t=Object(p.a)(),a=t.verify,i=t.setAccessToken,l=Object(m.b)().enqueueSnackbar,c=r.useState(""),v=Object(n.a)(c,2),b=v[0],E=v[1],j=r.useState(""),w=Object(n.a)(j,2),y=w[0],O=w[1],x=Object(f.p)(),C=x.data,k=x.loading,S=x.error,W=Object(f.m)({onCompleted:function(e){l("\u767b\u5f55\u6210\u529f"),i(null===e||void 0===e?void 0:e.login),a()},onError:function(e){console.log(e)}}),N=Object(n.a)(W,2),I=N[0],_=N[1].loading;return r.useEffect((function(){a()})),r.createElement("div",{className:e.root},r.createElement(o.a,{variant:"h4"},"Sign In"),r.createElement("form",{className:e.formWrap},r.createElement(u.a,{id:"username",label:"\u7528\u6237\u540d",value:b,onChange:function(e){return E(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",fullWidth:!0,variant:"outlined",margin:"normal"}),r.createElement(u.a,{id:"password",label:"\u5bc6\u7801",type:"password",value:y,onChange:function(e){return O(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",fullWidth:!0,variant:"outlined",margin:"normal"}),r.createElement(s.a,{variant:"contained",color:"primary",size:"large",fullWidth:!0,onClick:function(){I({variables:{username:b,password:y}})},disabled:_},_?"\u767b\u5f55\u4e2d":"\u767b\u5f55")),r.createElement("div",{className:e.thirdWrap},r.createElement(o.a,{variant:"caption",color:"textSecondary"},"\u66f4\u591a\u767b\u5f55\u65b9\u5f0f"),null===C||void 0===C?void 0:C.platform_auth_way.map((function(e,t){return r.createElement("div",{key:t},r.createElement(d.a,{onClick:function(){return function(e,t,n){var r=(window.screen.availHeight-450)/2,c=(window.screen.availWidth-450)/2,o=window.open(n+t,e,"width=".concat(450,",height=").concat(450,",top=").concat(r,",left=").concat(c,",toolbar=0,menubar=0,location=0,status=0"));if(o){var u=setInterval((function(){o.postMessage({type:"access_token"},n)}),1e3);window.addEventListener("message",(function(e){var t=e.data;t&&"access_token_callback"===t.type&&(clearInterval(u),o&&o.close(),l(t.data.access_token?"\u767b\u5f55\u6210\u529f":t.data.error||"\u767b\u5f55\u5931\u8d25"),i(t.data.access_token),a())}))}}(e.platform,e.url,e.http_domain)}},"github"===e.platform&&r.createElement(g,null)))})),k&&r.createElement(o.a,{component:"div",variant:"caption",color:"textSecondary"},"loading"),S&&r.createElement(o.a,{component:"div",variant:"caption",color:"textSecondary"},"oops!")))}var E=a(342),j=Object(l.a)((function(e){return Object(c.a)({root:{width:"100%"},formWrap:{display:"flex",flexDirection:"column"}})}));function w(){var e=j(),t=Object(p.a)().verify,a=Object(m.b)().enqueueSnackbar,i=r.useState(""),l=Object(n.a)(i,2),c=l[0],d=l[1],v=r.useState(""),g=Object(n.a)(v,2),h=g[0],b=g[1],w=r.useState(""),y=Object(n.a)(w,2),O=y[0],x=y[1],C=r.useState(""),k=Object(n.a)(C,2),S=k[0],W=k[1],N=Object(f.v)({onCompleted:function(){a("\u53d1\u9001\u6210\u529f")}}),I=Object(n.a)(N,1)[0],_=Object(f.h)({onCompleted:function(e){a("\u6ce8\u518c\u6210\u529f"),t()}}),q=Object(n.a)(_,1)[0];return r.useEffect((function(){t()})),r.createElement("div",{className:e.root},r.createElement(o.a,{variant:"h4"},"Sign Up"),r.createElement("form",{className:e.formWrap},r.createElement(u.a,{id:"username",label:"\u7528\u6237\u540d",required:!0,value:c,onChange:function(e){d(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",fullWidth:!0,variant:"outlined",margin:"normal"}),r.createElement(u.a,{id:"password",label:"\u5bc6\u7801",type:"password",required:!0,value:h,onChange:function(e){return b(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",fullWidth:!0,variant:"outlined",margin:"normal"}),r.createElement(u.a,{id:"email",label:"\u90ae\u7bb1",type:"email",required:!0,value:O,onChange:function(e){return x(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",fullWidth:!0,variant:"outlined",margin:"normal"}),r.createElement(E.a,{display:"flex",alignItems:"center",justifyContent:"space-between"},r.createElement(u.a,{id:"code",label:"\u9a8c\u8bc1\u7801",value:S,onChange:function(e){return W(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",variant:"outlined",margin:"normal"}),r.createElement(s.a,{variant:"contained",onClick:function(){I({variables:{email:O}})}},"\u83b7\u53d6\u9a8c\u8bc1\u7801")),r.createElement(s.a,{variant:"contained",color:"primary",size:"large",fullWidth:!0,onClick:function(){q({variables:{user:{username:c,password:h,email:O,code:S}}})}},"\u6ce8\u518c")))}var y=a(157),O=a.n(y),x=a(158),C=a(78),k=Object(x.autoPlay)(O.a),S=Object(l.a)((function(e){return Object(c.a)({root:{width:"100%",height:"100%",display:"flex"},image:{width:"100%",height:"100%"}})}));function W(e){var t=S(),a=e.images,i=r.useState(0),l=Object(n.a)(i,2),c=l[0],o=l[1];return r.createElement(k,{className:t.root,enableMouseEvents:!0,onChangeIndex:function(e){o(e)},index:c},a.map((function(e,a){return r.createElement("div",{className:t.image,key:a},r.createElement(C.b,{height:"100%",src:e}))})))}W.defaultProps={images:["https://pic1.zhimg.com/v2-cc17d8b31fe162fdbfadba1d18b7836e_1200x500.jpg","http://n.sinaimg.cn/collect/crawl/20160224/ZFh0-fxprucv9824132.jpg"]};var N=W,I=a(182);a.d(t,"default",(function(){return q}));var _=Object(l.a)((function(e){return Object(c.a)({root:{width:"100%",height:"100vh",fontSize:0,overflow:"hidden"},left:{flex:1.5},right:{flex:1,backgroundColor:e.palette.background.paper,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:e.spacing(0,4),overflow:"auto"},rightHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:e.spacing(2,0),width:"100%"},rightMain:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:e.spacing(0,8)},rightFooter:{}})}));function q(){var e=_(),t=r.useState(0),a=Object(n.a)(t,2),i=a[0],l=a[1];return r.createElement(E.a,{className:e.root,display:"flex"},r.createElement("div",{className:e.left},r.createElement(N,null)),r.createElement("div",{className:e.right},r.createElement("div",{className:e.rightHeader},r.createElement(I.a,{fontSize:"large"}),1===i&&r.createElement(s.a,{variant:"outlined",color:"primary",onClick:function(e){return l(0)}},"Sign In"),0===i&&r.createElement(s.a,{variant:"outlined",color:"primary",onClick:function(e){return l(1)}},"Sign Up")),r.createElement("div",{className:e.rightMain},0===i&&r.createElement(b,null),1===i&&r.createElement(w,null)),r.createElement("div",{className:e.rightFooter})))}}}]);
//# sourceMappingURL=19.d6d491e2.chunk.js.map