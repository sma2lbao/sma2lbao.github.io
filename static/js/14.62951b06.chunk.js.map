{"version":3,"sources":["../node_modules/@babel/runtime/helpers/interopRequireDefault.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","views/users/Profile/modules/Playlists/index.tsx","views/users/Profile/modules/Top/index.tsx","views/users/Profile/modules/Medias/index.tsx","views/users/Profile/modules/Basic/index.tsx","views/users/Profile/index.tsx"],"names":["module","exports","obj","__esModule","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","Playlists","username","useParams","usePlaylistsPaginatedQuery","variables","query","last","author_username","data","loading","error","playlists_paginated","edges","length","List","map","playlist","idx","ListItem","key","ListItemIcon","ListItemText","primary","node","title","secondary","create_at","SpecialBox","placeholder","placeholderTitle","useStyles","makeStyles","theme","createStyles","root","display","paddingBottom","spacing","item","flex","overflow","marginLeft","wrap","flexDirection","main","alignItems","justifyContent","marginBottom","mainButton","flexShrink","content","Top","classes","RouterHelper","useRouterHelper","React","ProfileContext","userQuery","topShadow","useFollowHelper","owner_uid","user","uid","following","toggleFollow","Box","className","clsx","Avatar","src","avatar","ml","Typography","variant","nickname","description","Button","onClick","gutterBottom","component","color","moment","format","Media","onClickRoot","gotoShadow","id","footer","padding","textAlign","Medias","setTopShadow","useUserShadowsPaginatedQuery","fetchMore","user_shadows_paginated","totalCount","GridList","cellHeight","cols","GridListTile","cursor","rows","pageInfo","hasNextPage","before","endCursor","updateQuery","previousQueryResult","fetchMoreResult","__typename","disabled","cover","coverImg","width","objectFit","info","pirmaryColor","secondColor","Basic","useFansTotalQuery","toString","fansData","fansLoading","fansError","useFollowsTotalQuery","follower_uid","followsData","followsLoading","followsError","alt","DEFAULT_PROFILE_COVER","fans_total","follows_total","aider","background","undefined","Profile","useUserQuery","tab","setTab","Helmet","Provider","value","Divider","Tabs","onChange","e","Tab","label","py","hidden"],"mappings":"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","file":"static/js/14.62951b06.chunk.js","sourcesContent":["function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React from \"react\";\nimport { useParams } from \"react-router\";\nimport { usePlaylistsPaginatedQuery } from \"@/schema\";\nimport { SpecialBox } from \"@/components/public/SpecialBox\";\n// import { Playlist } from \"@/components/app/Playlist\";\nimport PlayCircleFilledIcon from \"@material-ui/icons/PlayCircleFilled\";\nimport { List, ListItem, ListItemIcon, ListItemText } from \"@material-ui/core\";\n\nexport default function Playlists() {\n  const { username } = useParams();\n  const { data, loading, error } = usePlaylistsPaginatedQuery({\n    variables: {\n      query: {\n        last: 8\n      },\n      author_username: username\n    }\n  });\n  return (\n    <div>\n      {data?.playlists_paginated?.edges?.length ? (\n        <List>\n          {data.playlists_paginated.edges.map((playlist, idx) => {\n            return (\n              <ListItem key={idx}>\n                <ListItemIcon>\n                  <PlayCircleFilledIcon />\n                </ListItemIcon>\n                <ListItemText\n                  primary={playlist.node.title}\n                  secondary={playlist.node.create_at}\n                />\n              </ListItem>\n            );\n          })}\n        </List>\n      ) : (\n        <SpecialBox\n          loading={loading}\n          error={!!error}\n          placeholder={!data?.playlists_paginated?.edges?.length}\n          placeholderTitle={\"No Playlist Here.\"}\n        />\n      )}\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport {\n  Box,\n  Avatar,\n  Typography,\n  Button,\n  Theme,\n  createStyles,\n  makeStyles\n} from \"@material-ui/core\";\nimport { MediaPlain } from \"@/components/app/Media\";\nimport clsx from \"clsx\";\nimport { useFollowHelper, useRouterHelper } from \"@/hooks\";\nimport { ProfileContext } from \"../..\";\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      paddingBottom: theme.spacing(2)\n    },\n    item: {\n      flex: 1,\n      overflow: \"hidden\",\n      \"& + &\": {\n        marginLeft: theme.spacing(2)\n      }\n    },\n    wrap: {\n      display: \"flex\",\n      flexDirection: \"column\"\n      // justifyContent: \"space-between\",\n    },\n    main: {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      marginBottom: theme.spacing(6)\n    },\n    mainButton: {\n      marginLeft: theme.spacing(1),\n      flexShrink: 0\n    },\n    content: {}\n  })\n);\n\nexport const Top: React.FC = () => {\n  const classes = useStyles();\n  const RouterHelper = useRouterHelper();\n  const [userQuery, [topShadow]] = React.useContext(ProfileContext);\n  const { following, toggleFollow } = useFollowHelper({\n    owner_uid: userQuery?.user.uid as string\n  });\n\n  return (\n    <Box className={classes.root}>\n      <div className={clsx(classes.item, classes.wrap)}>\n        <Box className={classes.main}>\n          <Box display=\"flex\" alignItems=\"center\">\n            <Avatar src={userQuery?.user.avatar}></Avatar>\n            <Box ml={1}>\n              <Typography variant=\"subtitle1\">\n                {userQuery?.user.nickname}\n              </Typography>\n              <Typography variant=\"caption\">\n                {userQuery?.user.description}\n              </Typography>\n            </Box>\n          </Box>\n\n          {following ? (\n            <Button className={classes.mainButton} onClick={toggleFollow}>\n              已关注\n            </Button>\n          ) : (\n            <Button className={classes.mainButton} onClick={toggleFollow}>\n              关注\n            </Button>\n          )}\n        </Box>\n        <Box className={classes.content}>\n          <Typography gutterBottom variant=\"subtitle2\" component=\"div\">\n            {topShadow?.title}\n          </Typography>\n          <Typography\n            gutterBottom\n            variant=\"body2\"\n            color=\"textSecondary\"\n            component=\"div\"\n          >\n            {topShadow?.description}\n          </Typography>\n          <div>\n            {/* <Typography variant=\"caption\">观看数： TODO</Typography> */}\n            {/* <Typography variant=\"caption\">点赞数： TODO</Typography> */}\n            <Typography variant=\"caption\">\n              发布于：{moment(topShadow?.create_at).format(\"YYYY-MM-DD\")}\n            </Typography>\n          </div>\n        </Box>\n      </div>\n      <div className={classes.item}>\n        <MediaPlain\n          {...topShadow}\n          onClickRoot={() => RouterHelper.gotoShadow(topShadow?.id)}\n        />\n      </div>\n    </Box>\n  );\n};\n\nexport default Top;\n","import * as React from \"react\";\nimport {\n  Box,\n  GridList,\n  GridListTile,\n  Button,\n  Typography,\n  makeStyles,\n  createStyles,\n  Theme\n} from \"@material-ui/core\";\nimport { MediaOwn } from \"@/components/app/Media\";\nimport { useUserShadowsPaginatedQuery } from \"@/schema\";\nimport { useParams } from \"react-router-dom\";\nimport { SpecialBox } from \"@/components/public/SpecialBox\";\nimport { ProfileContext } from \"../..\";\nimport { useRouterHelper } from \"@/hooks\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    footer: {\n      padding: theme.spacing(2),\n      textAlign: \"center\"\n    }\n  })\n);\n\nexport const Medias: React.FC = () => {\n  const classes = useStyles();\n  const RouterHelper = useRouterHelper();\n  const { username } = useParams();\n  const [, [, setTopShadow]] = React.useContext(ProfileContext);\n  const { data, loading, error, fetchMore } = useUserShadowsPaginatedQuery({\n    variables: {\n      query: {\n        last: 8\n      },\n      author_username: username\n    }\n  });\n\n  const loadMore = () => {\n    fetchMore({\n      variables: {\n        query: {\n          last: 8,\n          before: data?.user_shadows_paginated?.pageInfo?.endCursor\n        }\n      },\n      updateQuery: (previousQueryResult, { fetchMoreResult }) => {\n        if (fetchMoreResult?.user_shadows_paginated?.edges) {\n          const {\n            edges,\n            pageInfo,\n            totalCount\n          } = fetchMoreResult.user_shadows_paginated;\n          return {\n            user_shadows_paginated: {\n              pageInfo,\n              totalCount,\n              edges: [\n                ...previousQueryResult.user_shadows_paginated.edges,\n                ...edges\n              ],\n              __typename: previousQueryResult.user_shadows_paginated.__typename\n            }\n          };\n        }\n        return previousQueryResult;\n      }\n    });\n  };\n\n  React.useEffect(() => {\n    if (data?.user_shadows_paginated.edges?.length) {\n      setTopShadow(data.user_shadows_paginated.edges[0].node);\n    }\n  }, [data, setTopShadow]);\n\n  return (\n    <Box>\n      {data?.user_shadows_paginated.totalCount ? (\n        <>\n          <GridList cellHeight=\"auto\" cols={4}>\n            {data.user_shadows_paginated.edges?.map(item => {\n              return (\n                <GridListTile key={item.cursor} cols={1} rows={1}>\n                  <MediaOwn\n                    {...item.node}\n                    onClickRoot={() => RouterHelper.gotoShadow(item.node.id)}\n                  />\n                </GridListTile>\n              );\n            })}\n          </GridList>\n          {data?.user_shadows_paginated?.pageInfo?.hasNextPage && (\n            <Box className={classes.footer}>\n              <Button onClick={loadMore} disabled={loading}>\n                <Typography color=\"textSecondary\" variant=\"caption\">\n                  {loading ? \"加载中...\" : \"加载更多\"}\n                </Typography>\n              </Button>\n            </Box>\n          )}\n        </>\n      ) : (\n        <SpecialBox\n          loading={loading}\n          error={!!error}\n          placeholder\n          placeholderTitle=\"暂未上传视频\"\n        />\n      )}\n    </Box>\n  );\n};\n\nexport default Medias;\n","import * as React from \"react\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport { DEFAULT_PROFILE_COVER } from \"@/common/constants/default.constant\";\nimport { Typography } from \"@material-ui/core\";\nimport { ProfileContext } from \"../..\";\nimport { useFansTotalQuery, useFollowsTotalQuery } from \"@/schema\";\nimport { SpecialBoxText } from \"@/components/public/SpecialBox\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {},\n    cover: {},\n    coverImg: {\n      width: \"100%\",\n      objectFit: \"contain\"\n    },\n    info: {\n      padding: theme.spacing(3, 4)\n    },\n    pirmaryColor: {\n      color: \"#fff\"\n    },\n    secondColor: {\n      color: \"#aaa\"\n    }\n  })\n);\n\nexport const Basic: React.FC = () => {\n  const classes = useStyles();\n  const [userQuery] = React.useContext(ProfileContext);\n  const {\n    data: fansData,\n    loading: fansLoading,\n    error: fansError\n  } = useFansTotalQuery({\n    variables: {\n      owner_uid: userQuery?.user.uid.toString()\n    }\n  });\n  const {\n    data: followsData,\n    loading: followsLoading,\n    error: followsError\n  } = useFollowsTotalQuery({\n    variables: {\n      follower_uid: userQuery?.user.uid.toString()\n    }\n  });\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.cover}>\n        <img\n          alt=\"cover\"\n          className={classes.coverImg}\n          src={DEFAULT_PROFILE_COVER}\n        />\n      </div>\n      <div className={classes.info}>\n        <div className={classes.pirmaryColor}>\n          <Typography gutterBottom variant=\"h4\">\n            {userQuery?.user.nickname}\n          </Typography>\n        </div>\n        <Typography gutterBottom className={classes.pirmaryColor}>\n          <SpecialBoxText loading={fansLoading} error={!!fansError} />\n          {fansData?.fans_total || 0} 粉丝\n        </Typography>\n        <Typography gutterBottom className={classes.pirmaryColor}>\n          <SpecialBoxText loading={followsLoading} error={!!followsError} />\n          {followsData?.follows_total || 0} 关注\n        </Typography>\n        <Typography\n          component=\"div\"\n          variant=\"caption\"\n          className={classes.secondColor}\n          gutterBottom\n        >\n          {userQuery?.user.description}\n        </Typography>\n        {/* <div>\n          <Typography\n            variant=\"subtitle2\"\n            component=\"div\"\n            gutterBottom\n            className={classes.pirmaryColor}\n          >\n            Born\n          </Typography>\n          <Typography\n            className={classes.secondColor}\n            component=\"div\"\n            variant=\"caption\"\n          >\n            出生日期\n          </Typography>\n        </div> */}\n      </div>\n    </div>\n  );\n};\n\nexport default Basic;\n","import * as React from \"react\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport { Tabs, Tab, Divider, Box } from \"@material-ui/core\";\nimport { Medias, Basic, Playlists, Top } from \"./modules\";\nimport {\n  BodyScreen,\n  ContentScreen,\n  AiderScreen,\n  FullScreen\n} from \"@/layouts/PageLayout\";\nimport { useParams } from \"react-router-dom\";\nimport { useUserQuery, UserQuery, Shadow } from \"@/schema\";\nimport { SpecialBox } from \"@/components/public/SpecialBox\";\nimport { Helmet } from \"react-helmet\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    aider: {\n      background: \"#333\"\n    },\n    content: {\n      padding: theme.spacing(6, 4)\n    }\n  })\n);\n\nexport const ProfileContext = React.createContext<\n  [\n    UserQuery | undefined,\n    [Shadow | undefined, React.Dispatch<Shadow | undefined>]\n  ]\n>([undefined, [undefined, () => {}]]);\n\nexport default function Profile() {\n  const classes = useStyles();\n  const { username } = useParams();\n  const { data, loading, error } = useUserQuery({\n    variables: {\n      username\n    }\n  });\n  const [topShadow, setTopShadow] = React.useState<Shadow | undefined>();\n  const [tab, setTab] = React.useState(0);\n\n  return (\n    <FullScreen>\n      <Helmet>\n        <title>\n          {`${data?.user.username || data?.user.nickname}`}的个人主页\n        </title>\n      </Helmet>\n      {data?.user ? (\n        <BodyScreen>\n          <ProfileContext.Provider value={[data, [topShadow, setTopShadow]]}>\n            <AiderScreen className={classes.aider}>\n              <Basic />\n            </AiderScreen>\n            <ContentScreen className={classes.content}>\n              <Top />\n              <Divider />\n              <div>\n                <Tabs value={tab} onChange={(e, value) => setTab(value)}>\n                  <Tab label=\"视频\"></Tab>\n                  <Tab label=\"列表\" disabled></Tab>\n                  {/* <Tab label=\"社区\"></Tab> */}\n                </Tabs>\n                <Box py={2} hidden={tab !== 0}>\n                  <Medias />\n                </Box>\n                <Box py={2} hidden={tab !== 1}>\n                  <Playlists />\n                </Box>\n              </div>\n            </ContentScreen>\n          </ProfileContext.Provider>\n        </BodyScreen>\n      ) : (\n        <SpecialBox loading={loading} error={!!error} />\n      )}\n    </FullScreen>\n  );\n}\n"],"sourceRoot":""}