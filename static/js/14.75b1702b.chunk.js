(this.webpackJsonpmiss=this.webpackJsonpmiss||[]).push([[14],{398:function(e,t,a){"use strict";var n,r=a(24),l=a(0),o=a.n(l),c=a(407),i=(a(446),a(275)),u=a(270),s=a(195),d=a(326),m=a(632),p=a(593),b=a(586),f=a(587),g=a(588),v=a(589),E=a(590),h=a(591),y=a(592),O=Object(i.a)((function(e){return Object(u.a)({paper:{display:"inline-flex",border:"1px solid ".concat(e.palette.divider),flexWrap:"wrap"},divider:{margin:e.spacing(1,.5)},grouped:{margin:e.spacing(.5),border:"none","&:not(:first-child)":{borderRadius:e.shape.borderRadius},"&:first-child":{borderRadius:e.shape.borderRadius}}})})),j=[{label:"Blockquote",style:"blockquote",value:"blockquote",icon:l.createElement(b.a,null)},{label:"UL",style:"unordered-list-item",value:"ul",icon:l.createElement(f.a,null)},{label:"OL",style:"ordered-list-item",value:"ol",icon:l.createElement(g.a,null)},{label:"CodeBlock",style:"code-block",value:"codeblock",icon:l.createElement(v.a,null)}],C=[{label:"Bold",style:"BOLD",value:"bold",icon:l.createElement(E.a,null)},{label:"Italic",style:"ITALIC",value:"italic",icon:l.createElement(h.a,null)},{label:"Underline",style:"UNDERLINE",value:"underline",icon:l.createElement(y.a,null)}],k=function(e){var t=O(),a=l.useState([]),n=Object(r.a)(a,2),o=n[0],c=n[1],i=l.useState(),u=Object(r.a)(i,2),b=u[0],f=u[1],g=e.toggleBlockType,v=e.toggleInlineStyle;return l.createElement(s.a,{elevation:0,className:t.paper},l.createElement(m.a,{value:o,onChange:function(e,t){var a=e.currentTarget.dataset.style;a&&v(a),c(t)},classes:{grouped:t.grouped}},C.map((function(e){return l.createElement(p.a,{"data-style":e.style,key:e.value,value:e.value},e.icon)}))),l.createElement(d.a,{flexItem:!0,orientation:"vertical",className:t.divider}),l.createElement(m.a,{value:b,exclusive:!0,onChange:function(e,t){var a=e.currentTarget.dataset.style;a&&g(a),f(t)},classes:{grouped:t.grouped}},j.map((function(e){return l.createElement(p.a,{"data-style":e.style,key:e.value,value:e.value},e.icon)}))))},N=Object(i.a)((function(e){return Object(u.a)({root:{},editor:{minHeight:220,border:"1px solid ".concat(e.palette.divider)}})})),R=l.forwardRef((function(e,t){var a=N(),n=e.raw,o=e.onBlur,i=e.placeholder,u=l.useState((function(){return n?c.EditorState.createWithContent(Object(c.convertFromRaw)(JSON.parse(n))):c.EditorState.createEmpty()})),s=Object(r.a)(u,2),d=s[0],m=s[1];l.useImperativeHandle(t,(function(){return{getRawString:function(){return JSON.stringify(Object(c.convertToRaw)(d.getCurrentContent()))}}}));return l.createElement("div",{className:a.root},l.createElement(k,{editorState:d,toggleBlockType:function(e){m(c.RichUtils.toggleBlockType(d,e))},toggleInlineStyle:function(e){m(c.RichUtils.toggleInlineStyle(d,e))}}),l.createElement("div",{className:a.editor},l.createElement(c.Editor,{blockStyleFn:function(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return""}},customStyleMap:{CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}},editorState:d,handleKeyCommand:function(e,t){var a=c.RichUtils.handleKeyCommand(t,e);return a?(m(a),"handled"):"not-handled"},keyBindingFn:function(e){return Object(c.getDefaultKeyBinding)(e)},onChange:m,onBlur:o,placeholder:i,spellCheck:!0})))})),S=l.forwardRef((function(e,t){var a=l.useState(""),n=Object(r.a)(a,2),o=n[0],c=n[1];l.useImperativeHandle(t,(function(){return{about:o}}));var i=l.createRef();return l.createElement("div",null,l.createElement(R,{ref:i,onBlur:function(){var e,t=null===(e=i.current)||void 0===e?void 0:e.getRawString();c(t)}}))})),w=a(353),x=a(338),I=a(320),T=a(453),B=a(101),L=a(314),M=a(278),z=a(328),A=a(342),D=a(330),F=a(325),H=a(596),W=a(70),U=function(e){var t=l.useState(e),a=Object(r.a)(t,2),n=a[0],o=a[1];return[n,function(e){o(e.target.value)}]},q=a(85),P=a(461),_=a(594);!function(e){e[e.NORMAL=0]="NORMAL",e[e.EDITING=1]="EDITING"}(n||(n={}));var J=a(595),G=Object(i.a)((function(e){return Object(u.a)({root:{},input:{borderColor:"transparent"},body2:e.typography.body2,body1:e.typography.body1,caption:e.typography.caption,button:e.typography.button,h1:e.typography.h1,h2:e.typography.h2,h3:e.typography.h3,h4:e.typography.h4,h5:e.typography.h5,h6:e.typography.h6,subtitle1:e.typography.subtitle1,subtitle2:e.typography.subtitle2,overline:e.typography.overline,inherit:{},normalRoot:{position:"relative"},toolIcon:{position:"relative",top:e.spacing(-1),cursor:"pointer"}})})),K=function(e){var t=e.value,a=e.onChange,o=e.placeholder,c=e.variant,i=void 0===c?"body1":c,u=Object(q.a)(e,["value","onChange","placeholder","variant"]),s=G(),d=l.useState(n.NORMAL),m=Object(r.a)(d,2),p=m[0],b=m[1];return l.createElement(P.a,Object.assign({classes:{root:s.root},autoFocus:!0,fullWidth:!0,multiline:!0,className:s[i],value:t,onChange:a,placeholder:o},u,{startAdornment:p===n.NORMAL?l.createElement(_.a,{position:"start"},l.createElement(L.a,{size:"small",onClick:function(){return b(n.EDITING)}},l.createElement(J.a,{fontSize:"small"}))):null,readOnly:p===n.NORMAL,disableUnderline:p===n.NORMAL,onBlur:function(){return b(n.NORMAL)}}))},$=Object(i.a)((function(e){return Object(u.a)({root:{backgroundColor:e.palette.background.paper},subheaderWrap:{display:"flex",justifyContent:"space-between",alignItems:"center"}})})),Q=l.forwardRef((function(e,t){var a=$(),n=l.useState([]),o=Object(r.a)(n,2),c=o[0],i=o[1];l.useImperativeHandle(t,(function(){return{credits:c}}));var u=function(e){var t=e.target,a=t.dataset,n=t.value;a.idx&&a.key&&(c[a.idx][a.key]=n,i(Object(w.a)(c)))};return l.createElement(x.a,{className:a.root},l.createElement(I.a,{subheader:l.createElement(T.a,{className:a.subheaderWrap},l.createElement(B.a,null,"\u6f14\u804c\u8868"),l.createElement(L.a,{onClick:function(){i([].concat(Object(w.a)(c),[{avatar:"",name:"",description:"",tags:[]}]))},size:"small"},l.createElement(F.a,{fontSize:"small"})))},c.length?l.createElement(l.Fragment,null,c.map((function(e,t){return l.createElement(M.a,{key:t},l.createElement(z.a,null,l.createElement(A.a,{src:e.avatar})),l.createElement("div",null,l.createElement(K,{inputProps:{"data-idx":t,"data-key":"name"},value:e.name,onChange:u,placeholder:"\u8bf7\u8f93\u5165\u540d\u5b57",rowsMax:1}),l.createElement(K,{inputProps:{"data-idx":t,"data-key":"description"},value:e.description,onChange:u,placeholder:"\u8bf7\u8f93\u5165\u63cf\u8ff0",rowsMax:1})),l.createElement(D.a,null,l.createElement(L.a,{onClick:function(){return function(e){c.splice(e,1),i(Object(w.a)(c))}(t)}},l.createElement(H.a,null))))}))):l.createElement("div",null,l.createElement(W.a,{title:"Please add cast."}))))})),V=a(74),X=a(46),Y=a(331),Z=a(332),ee=a(629),te=a(451),ae=a(630),ne=a(50),re=a(597),le=Object(i.a)((function(e){return Object(u.a)({root:{display:"inline-flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:function(e){var t;return null!==(t=e.width)&&void 0!==t?t:"100%"},height:function(e){var t;return null!==(t=e.height)&&void 0!==t?t:"100%"},color:e.palette.text.secondary,flex:1},icon:e.custom.base.icon.small})})),oe=function(e){var t=e.onComplete,a=e.onError,n=e.children,o=e.component,c=e.custom,i=e.title,u=le(e),s=l.createRef(),d=Object(ne.t)({onCompleted:function(e){t&&t(e.upload_file_oss)},onError:function(e){a&&a(e.message)}}),m=Object(r.a)(d,2),p=m[0],b=m[1].loading,f=o||"div";return l.createElement(f,{role:"button",onClick:function(){var e;b||(null===(e=s.current)||void 0===e||e.click())}},l.createElement("input",{ref:s,style:{display:"none"},type:"file",accept:"*",onChange:function(e){var t=e.currentTarget,a=t.validity,n=Object(r.a)(t.files,1)[0];a.valid&&p({variables:{file:n}})}}),c?{children:n}:l.createElement(x.a,{className:u.root},l.createElement("div",null,l.createElement(re.a,{className:u.icon})),l.createElement(B.a,{variant:"h6"},b?"\u4e0a\u4f20\u4e2d...":i)))};oe.defaultProps={custom:!1,title:"\u70b9\u51fb\u4e0a\u4f20"};var ce=a(454),ie=a(156),ue=a.n(ie),se=a(157),de=Object(se.autoPlay)(ue.a),me=Object(i.a)((function(e){return Object(u.a)({root:{position:"relative",width:"100%"},aider:{position:"absolute",left:0,top:0,bottom:0,width:"45%",padding:e.spacing(8)},aiderContent:{width:"50%",padding:e.spacing(1),borderRadius:e.shape.borderRadius,maxHeight:"100%",background:"rgba(0, 0, 0, .1)",backdropFilter:"blur(8px)",overflow:"auto"},main:{position:"absolute",top:"50%",right:0,width:"50%",padding:e.spacing(0,8),transform:"translate(0, -50%)",color:"#fff",display:"flex",flexDirection:"column"},mainContent:{background:"rgba(0, 0, 0, .1)",backdropFilter:"blur(8px)",padding:e.spacing(4),borderRadius:e.shape.borderRadius},poster:{position:"relative"},posterTool:{display:"flex",justifyContent:"space-between",alignItems:"center",visibility:"hidden",position:"absolute",padding:e.spacing(1),top:0,left:0,width:"100%",color:"#fff","$poster:hover &":{visibility:"initial"}}})})),pe=l.forwardRef((function(e,t){var a=me(),n=l.useState(0),o=Object(r.a)(n,2),c=o[0],i=o[1],u=U(""),s=Object(r.a)(u,2),d=s[0],m=s[1],p=U(""),b=Object(r.a)(p,2),f=b[0],g=b[1],v=U(""),E=Object(r.a)(v,2),h=E[0],y=E[1],O=l.useState(["https://static.runoob.com/images/demo/demo2.jpg","https://static.veer.com/veer/static/resources/keyword/2020-02-19/533ed30de651499da1c463bca44b6d60.jpg"]),j=Object(r.a)(O,2),C=j[0],k=j[1],N=l.useState(""),R=Object(r.a)(N,2),S=R[0],I=R[1];l.useEffect((function(){C&&C.length>0?S&&C.includes(S)||I(C[0]):I("")}),[S,C]),l.useImperativeHandle(t,(function(){return{title:d,sub_title:f,description:h,posters:C,cover:S}}));var T=function(e){if(window.confirm("delete?")){var t=e.currentTarget.dataset;t.idx&&(C.splice(+t.idx,1),k(Object(w.a)(C)))}};return l.createElement("div",{className:a.root},C.length?l.createElement(de,{onChangeIndex:function(e){return i(e)},index:c},C.map((function(e,t){return l.createElement(V.a,{key:t,aspectRatio:16/9,src:e})}))):l.createElement(V.a,{aspectRatio:16/9,src:X.e}),l.createElement("div",{className:a.aider},l.createElement("div",{className:a.aiderContent},l.createElement(Y.a,{cellHeight:"auto",cols:1},C.map((function(e,t){return l.createElement(Z.a,{key:e,cols:1,className:a.poster},l.createElement(V.a,{aspectRatio:16/9,src:e,alt:"poster"+t}),l.createElement("div",{className:a.posterTool},l.createElement("div",null,l.createElement(ee.a,{TransitionComponent:te.a,title:"\u8bbe\u6210\u5c01\u9762",placement:"bottom",arrow:!0},l.createElement(ae.a,{size:"small",color:"primary",checked:S===e,onChange:function(){return function(e){I(C[e])}(t)}}))),l.createElement("div",{"data-idx":t,onClick:T},l.createElement(ee.a,{TransitionComponent:te.a,title:"\u5220\u9664",placement:"bottom",arrow:!0},l.createElement(L.a,{size:"medium"},l.createElement(H.a,{fontSize:"small"}))))))})),l.createElement(Z.a,{cols:1},l.createElement(oe,{onComplete:function(e){e&&!C.includes(e)&&k([].concat(Object(w.a)(C),[e]))},title:"\u4e0a\u4f20\u6d77\u62a5"}))))),l.createElement("div",{className:a.main},l.createElement("div",{className:a.mainContent},l.createElement(K,{variant:"h4",value:d,onChange:m,placeholder:"\u8bf7\u8f93\u5165\u6807\u9898"}),l.createElement(K,{value:f,onChange:g,placeholder:"\u8bf7\u8f93\u5165\u526f\u6807\u9898"}),l.createElement(K,{value:h,onChange:y,placeholder:"\u8bf7\u8f93\u5165\u7535\u5f71\u63cf\u8ff0..."}),l.createElement(x.a,{mt:3},l.createElement(L.a,{size:"medium",disabled:!0},l.createElement(ce.a,{fontSize:"large"}))))))})),be=a(363),fe=a(72),ge=a(598),ve=a(323),Ee=a(324),he=a(81),ye=Object(i.a)((function(e){return Object(u.a)({root:{height:"100%"},body:{backgroundColor:e.palette.background.paper,display:"flex",margin:"0 auto"},content:{padding:e.spacing(2,5),borderRight:"1px solid ".concat(e.palette.divider)},aider:{padding:e.spacing(2,4),height:"100%",overflow:"auto"},sourceWrap:{width:"100%",position:"relative"},toolbarWrap:{width:"100%",display:"flex",justifyContent:"space-between"}})})),Oe=function(e){var t=e.onSave,a=e.onCancel,n=ye(),o=l.useState(!1),c=Object(r.a)(o,2),i=c[0],u=c[1],s=l.useState(""),d=Object(r.a)(s,2),m=d[0],p=d[1],b=l.useState(""),f=Object(r.a)(b,2),g=f[0],v=f[1],E=U(""),h=Object(r.a)(E,2),y=h[0],O=h[1],j=U(""),C=Object(r.a)(j,2),k=C[0],N=C[1],R=U(""),S=Object(r.a)(R,2),w=S[0],I=S[1];l.useEffect((function(){u(e.open)}),[e.open]);var T=function(){u(!1),a&&a(),u(!1),p(""),v(""),O(""),N(""),I("")};return l.createElement("div",null,l.createElement(ge.a,{open:i,fullScreen:!0,onClose:T},l.createElement(ve.a,{position:"fixed"},l.createElement(Ee.a,{className:n.toolbarWrap},l.createElement(be.a,{onClick:function(){t&&t({url:m,cover:g,name:y,alias_name:k,description:w}),T()},color:"inherit"},"\u4fdd\u5b58"),l.createElement(be.a,{onClick:T,color:"inherit"},"\u53d6\u6d88"))),l.createElement(x.a,{className:n.root},l.createElement(Ee.a,null),l.createElement(he.d,null,l.createElement(he.b,null,l.createElement("div",{className:n.sourceWrap},l.createElement(V.a,{aspectRatio:16/9,src:X.e}),l.createElement(oe,{onComplete:function(e){e&&v(e)}},"add cover"),l.createElement(oe,{onComplete:function(e){e&&p(e)}},"add source")))),l.createElement(he.b,{className:n.body},l.createElement(he.c,{className:n.content},l.createElement(K,{value:y,onChange:O,placeholder:"name"}),l.createElement(K,{value:k,onChange:N,placeholder:"alias_name"}),l.createElement(K,{value:w,onChange:I,placeholder:"description..."})),l.createElement(he.a,{sticky:!0,className:n.aider},l.createElement(W.a,{title:"\u8bc4\u8bba\u533a"}))))))},je=Object(i.a)((function(e){return Object(u.a)({root:{padding:e.spacing(1,0)},box:{padding:e.spacing(2,0),"& + &":{borderTop:"1px solid ".concat(e.palette.divider)}}})})),Ce=o.a.forwardRef((function(e,t){var a=je(),n=o.a.useState(!1),l=Object(r.a)(n,2),c=l[0],i=l[1],u=o.a.useState([]),s=Object(r.a)(u,2),d=s[0],m=s[1];o.a.useImperativeHandle(t,(function(){return{mediums:d}}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(x.a,{className:a.root},o.a.createElement(x.a,{className:a.box},o.a.createElement(B.a,{variant:"subtitle1",gutterBottom:!0},"\u76f8\u5173\u8d44\u6e90"),o.a.createElement(Y.a,{cellHeight:"auto",cols:4},d.map((function(e,t){return o.a.createElement(Z.a,{cols:1,key:t},o.a.createElement(fe.a,e))})),o.a.createElement(be.a,{onClick:function(){return i(!0)}},o.a.createElement(W.a,null))))),o.a.createElement(Oe,{open:c,onSave:function(e){m([].concat(Object(w.a)(d),[e]))},onCancel:function(){return i(!1)}}))}));a.d(t,"a",(function(){return S})),a.d(t,"b",(function(){return Q})),a.d(t,"d",(function(){return pe})),a.d(t,"c",(function(){return Ce}))},612:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(398),l=a(81);t.default=function(){return n.createElement("div",null,n.createElement(l.c,null,n.createElement(r.c,null)))}}}]);
//# sourceMappingURL=14.75b1702b.chunk.js.map