"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[810],{2810:function(e,a,n){n.r(a),n.d(a,{default:function(){return K}});var t=n(56828),r=n(52202),i=n(51955),o=n(2815),c=n(52066),l=n(81080),s=n(77969),d=n(69006),u=n(46405),h=n(34635),f=n(78953),p=n(16831),m=(0,f.Z)((0,p.jsx)("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub"),v=n(51168),g="SignIn",x={root:"".concat(g,"-root"),formWrap:"".concat(g,"-formWrap"),thirdWrap:"".concat(g,"-thirdWrap")},Z=(0,o.ZP)("div")((function(e){var a,n=e.theme;return a={},(0,r.Z)(a,"&.".concat(x.root),{width:"100%"}),(0,r.Z)(a,"& .".concat(x.formWrap),{display:"flex",flexDirection:"column"}),(0,r.Z)(a,"& .".concat(x.thirdWrap),{padding:n.spacing(2),textAlign:"center"}),a}));function j(){var e=(0,h.a)(),a=e.verify,n=e.setAccessToken,r=(0,v.Ds)().enqueueSnackbar,o=i.useState(""),f=(0,t.Z)(o,2),g=f[0],j=f[1],w=i.useState(""),b=(0,t.Z)(w,2),y=b[0],C=b[1],k=(0,u.K3)(),W=k.data,S=k.loading,N=k.error,_=(0,u.YA)({onCompleted:function(e){r("\u767b\u5f55\u6210\u529f",{variant:"success"}),n(null===e||void 0===e?void 0:e.login),a()},onError:function(e){console.log(e)}}),I=(0,t.Z)(_,2),H=I[0],M=I[1].loading;return i.useEffect((function(){a()})),(0,p.jsxs)(Z,{className:x.root,children:[(0,p.jsx)(c.Z,{variant:"h4",children:"\u767b\u5f55"}),(0,p.jsxs)("form",{className:x.formWrap,children:[(0,p.jsx)(l.Z,{id:"username",label:"\u7528\u6237\u540d",value:g,onChange:function(e){return j(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",fullWidth:!0,variant:"outlined",margin:"normal"}),(0,p.jsx)(l.Z,{id:"password",label:"\u5bc6\u7801",type:"password",value:y,onChange:function(e){return C(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",fullWidth:!0,variant:"outlined",margin:"normal"}),(0,p.jsx)(s.Z,{variant:"contained",color:"primary",size:"large",fullWidth:!0,onClick:function(){H({variables:{username:g,password:y}})},disabled:M,children:M?"\u767b\u5f55\u4e2d":"\u767b\u5f55"})]}),(0,p.jsxs)("div",{className:x.thirdWrap,children:[(0,p.jsx)(c.Z,{variant:"caption",color:"textSecondary",children:"\u66f4\u591a\u767b\u5f55\u65b9\u5f0f"}),null===W||void 0===W?void 0:W.platform_auth_way.map((function(e,t){return(0,p.jsx)("div",{children:(0,p.jsx)(d.Z,{onClick:function(){return function(e,t,i){var o=(window.screen.availHeight-450)/2,c=(window.screen.availWidth-450)/2,l=window.open(i+t,e,"width=".concat(450,",height=").concat(450,",top=").concat(o,",left=").concat(c,",toolbar=0,menubar=0,location=0,status=0"));if(l){var s=setInterval((function(){l.postMessage({type:"access_token"},i)}),1e3);window.addEventListener("message",(function(e){var t=e.data;t&&"access_token_callback"===t.type&&(clearInterval(s),l&&l.close(),r(t.data.access_token?"\u767b\u5f55\u6210\u529f":t.data.error||"\u767b\u5f55\u5931\u8d25",{variant:t.data.access_token?"success":"error"}),n(t.data.access_token),a())}))}}(e.platform,e.url,e.http_domain)},children:"github"===e.platform&&(0,p.jsx)(m,{})})},t)})),S&&(0,p.jsx)(c.Z,{component:"div",variant:"caption",color:"textSecondary",children:"loading"}),N&&(0,p.jsx)(c.Z,{component:"div",variant:"caption",color:"textSecondary",children:"oops!"})]})]})}var w=n(14417),b="SignUp",y={root:"".concat(b,"-root"),formWrap:"".concat(b,"-formWrap")},C=(0,o.ZP)("div")((function(e){var a;e.theme;return a={},(0,r.Z)(a,"&.".concat(y.root),{width:"100%"}),(0,r.Z)(a,"& .".concat(y.formWrap),{display:"flex",flexDirection:"column"}),a}));function k(){var e=(0,h.a)().verify,a=(0,v.Ds)().enqueueSnackbar,n=i.useState(""),r=(0,t.Z)(n,2),o=r[0],d=r[1],f=i.useState(""),m=(0,t.Z)(f,2),g=m[0],x=m[1],Z=i.useState(""),j=(0,t.Z)(Z,2),b=j[0],k=j[1],W=i.useState(""),S=(0,t.Z)(W,2),N=S[0],_=S[1],I=(0,u.Jw)({onCompleted:function(){a("\u53d1\u9001\u6210\u529f",{variant:"success"})}}),H=(0,t.Z)(I,1)[0],M=(0,u.N2)({onCompleted:function(){a("\u6ce8\u518c\u6210\u529f",{variant:"success"}),e()}}),q=(0,t.Z)(M,1)[0];return i.useEffect((function(){e()})),(0,p.jsxs)(C,{className:y.root,children:[(0,p.jsx)(c.Z,{variant:"h4",children:"\u6ce8\u518c"}),(0,p.jsxs)("form",{className:y.formWrap,children:[(0,p.jsx)(l.Z,{id:"username",label:"\u7528\u6237\u540d",required:!0,value:o,onChange:function(e){d(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",fullWidth:!0,variant:"outlined",margin:"normal"}),(0,p.jsx)(l.Z,{id:"password",label:"\u5bc6\u7801",type:"password",required:!0,value:g,onChange:function(e){return x(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",fullWidth:!0,variant:"outlined",margin:"normal"}),(0,p.jsx)(l.Z,{id:"email",label:"\u90ae\u7bb1",type:"email",required:!0,value:b,onChange:function(e){return k(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u90ae\u7bb1",fullWidth:!0,variant:"outlined",margin:"normal"}),(0,p.jsxs)(w.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,p.jsx)(l.Z,{id:"code",label:"\u9a8c\u8bc1\u7801",value:N,onChange:function(e){return _(e.target.value)},placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",variant:"outlined",margin:"normal"}),(0,p.jsx)(s.Z,{variant:"text",onClick:function(){H({variables:{email:b}})},children:"\u83b7\u53d6\u9a8c\u8bc1\u7801"})]}),(0,p.jsx)(s.Z,{variant:"contained",color:"primary",size:"large",fullWidth:!0,onClick:function(){q({variables:{user:{username:o,password:g,email:b,code:N}}})},children:"\u6ce8\u518c"})]})]})}var W=n(87455),S=n(4304),N=n(50518),_=n(7607),I="Swiper",H={root:"".concat(I,"-root"),image:"".concat(I,"-image")},M=(0,S.bH)(W.ZP);function q(e){var a=e.images,n=i.useState(0),r=(0,t.Z)(n,2),o=r[0],c=r[1];return(0,p.jsx)(M,{className:H.root,enableMouseEvents:!0,onChangeIndex:function(e){c(e)},index:o,children:a.map((function(e,a){return(0,p.jsx)("div",{className:H.image,children:(0,p.jsx)(N.Z,{src:e})},a)}))})}q.defaultProps={images:_.Tb};var D=q,E=n(64603),P=n(4555),z="index",A={root:"".concat(z,"-root"),left:"".concat(z,"-left"),right:"".concat(z,"-right"),rightHeader:"".concat(z,"-rightHeader"),rightMain:"".concat(z,"-rightMain"),rightFooter:"".concat(z,"-rightFooter")},F=(0,o.ZP)(w.Z)((function(e){var a,n=e.theme;return a={},(0,r.Z)(a,"&.".concat(A.root),{width:"100%",height:"100vh",fontSize:0,overflow:"hidden"}),(0,r.Z)(a,"& .".concat(A.left),{flex:1.5}),(0,r.Z)(a,"& .".concat(A.right),{flex:1,backgroundColor:n.palette.background.paper,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",padding:n.spacing(0,4),overflow:"auto"}),(0,r.Z)(a,"& .".concat(A.rightHeader),{display:"flex",justifyContent:"space-between",alignItems:"center",padding:n.spacing(2,0),width:"100%"}),(0,r.Z)(a,"& .".concat(A.rightMain),{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",padding:n.spacing(0,8)}),(0,r.Z)(a,"& .".concat(A.rightFooter),{}),a}));function K(){var e=(0,P.s0)(),a=i.useState(0),n=(0,t.Z)(a,2),r=n[0],o=n[1];return(0,p.jsxs)(F,{className:A.root,display:"flex",children:[(0,p.jsx)("div",{className:A.left,children:(0,p.jsx)(D,{})}),(0,p.jsxs)("div",{className:A.right,children:[(0,p.jsxs)("div",{className:A.rightHeader,children:[(0,p.jsx)(E.K,{sx:function(e){return{cursor:"pointer",color:e.palette.primary.main}},fontSize:"large",onClick:function(){return e("/home")}}),1===r&&(0,p.jsx)(s.Z,{variant:"outlined",color:"primary",onClick:function(e){return o(0)},children:"\u767b\u5f55"}),0===r&&(0,p.jsx)(s.Z,{variant:"outlined",color:"primary",onClick:function(e){return o(1)},children:"\u6ce8\u518c"})]}),(0,p.jsxs)("div",{className:A.rightMain,children:[0===r&&(0,p.jsx)(j,{}),1===r&&(0,p.jsx)(k,{})]}),(0,p.jsx)("div",{className:A.rightFooter})]})]})}}}]);
//# sourceMappingURL=810.e2d2d8da.chunk.js.map